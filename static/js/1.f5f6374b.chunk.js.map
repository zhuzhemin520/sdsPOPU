{"version":3,"sources":["../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js","../node_modules/@arcgis/core/symbols/support/defaults3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js","../node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js","../node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],"names":["h","constructor","t","i","this","_compareMinX","l","_compareMinY","c","_toBBox","_maxEntries","Math","max","_minEntries","ceil","_initFormat","clear","destroy","g","prune","M","X","Y","all","_all","_data","search","n","e","f","s","children","length","a","leaf","x","push","pop","collides","load","insert","_build","slice","height","_splitRoot","_insert","b","remove","r","o","data","indexHint","splice","_condense","toJSON","fromJSON","pushArray","log","j","sqrt","p","min","_chooseSubtree","m","u","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_","_allDistMargin","sort","d","Function","join","minX","minY","maxX","maxY","deallocator","B","w","super","arguments","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","y","getLogger","_scaleRangeActive","_layerScaleRangeVisibilityQuery","_extent","graphicsCoreOwner","layer","queryGraphicUIDsInExtent","graphicsCore","basemapTerrain","layerScaleEnabled","suspended","_dirty","initialize","updateScaleRangeActive","view","resourceController","scheduler","handles","add","registerTask","SCALE_VISIBILITY","updatingHandles","effectiveScaleRange","layerMinMaxScaleChangeHandler","removeAll","updating","_setDirty","setExtent","spatialReference","scaleRangeActive","minScale","maxScale","labelingInfo","some","has","on","_scaleUpdateHandler","running","runTask","ready","queryVisibleScaleRange","_finishUpdate","_set","_visibleAtLayerScale","_visibleAtLabelScale","_graphicScale","graphic","type","getScale","_graphicVisible","updateVisibility","setVisibilityFlag","SCALE_RANGE","GRAPHIC","updateGraphicLabelScaleVisibility","labelGraphics","_updateLabelScaleVisibility","deconflictor","setDirty","labeler","_labelClass","LABEL","extent","scale","error","equals","getGraphics3DGraphicById","modifyGraphics3DGraphicVisibilities","clearVisibilityFlag","updateAllGraphicsVisibility","prototype","constructOnly","readOnly","S","fromSimpleMarkerSymbol","fromSimpleLineSymbol","fromSimpleFillSymbol","symbolLayers","material","color","edges","size","events","objectIdField","viewSpatialReference","featureAdapter","getAsOptimizedGeometry","Array","z","forEachInBounds","getSpatialIndex","forEachBounds","getBounds","schedule","sharedResources","streamDataRequester","elevationProvider","renderer","stage","clippingExtent","renderCoordsHelper","overlaySR","drapeSourceRenderer","localOriginFactory","featureExpressionInfoContext","screenSizePerspectiveEnabled","slicePlaneEnabled","physicalBasedRenderingEnabled","skipHighSymbolLods","isAsync","_calloutSymbolLayer","symbol","hasVisibleCallout","async","doLoad","abortLoad","createGraphics3DGraphic","_createCalloutGraphic","addAuxiliaryGraphic","globalPropertyChanged","_getCalloutGraphicLayer","updateGeometry","renderingInfo","translation","centerOffset","screenOffset","centerOffsetUnits","elevationOffset","materialCollection","_auxiliaryGraphics","graphics3DSymbolLayer","_graphicsCore","_idToState","Map","_states","Set","owner","_getGraphicId","_getGraphics3DGraphicById","getGraphics3DGraphicByObjectId","uid","forEach","_ensureStateList","displaying","isVisible","isDraped","tracking","emit","get","delete","addGraphic","_forEachState","removeGraphic","updateGraphicGeometry","updateGraphicVisibility","allGraphicsDeleted","set","_index","_missing","_boundsByFeature","setup","_addMany","update","from","values","updatingRemaining","_get","computeExtent","EventedMixin","_elevationOffset","_layerHandes","_renderCoordsHelper","_intersectLayers","stageLayer","_intersector","state","viewingMode","options","store","MIN","_computeLayerExtent","_zmin","_zmax","_objectChanged","object","dispose","elevationInfoChanged","elevationInfo","mode","unit","offset","getElevation","R","toRenderCoords","declaredClass","setAltitude","H","L","reset","intersect","metadata","isElevationSource","results","getIntersectionPoint","getAltitude","lastValidElevationBB","isEmpty","_expandExtent","boundingVolumeWorldSpace","C","E","objects","forAll","fromRenderCoords","context","Ue","Oe","je","k","Le","Ve","Fe","_propertiesPool","ve","computedExtent","Pe","currentRenderer","rendererHasGeometryOperations","_graphicStateTracking","symbolCreationContext","le","_frameTask","graphics3DGraphics","_graphicsDrapedUids","_graphicsBySymbol","_symbolConversionCache","_symbols","_graphicsWithoutSymbol","_graphicsWaitingForSymbol","_graphicsUpdateId","_handles","Ge","_suspendSymbolCleanup","_viewSpatialReference","_arcadeOnDemand","_rendererChangeAbortController","_elevationInfoChangeAbortController","_initializeAbortController","_scaleVisibility","_filterVisibility","_spatialIndex","extentPadding","_updatingPendingLoadedGraphicsChange","_featureStore","_deconflictor","_labeler","_objectStates","_viewElevationProvider","_stageLayerElevationProvider","_sharedSymbolResourcesOwnerHandle","_whenGraphics3DGraphicRequests","_pendingUpdates","_numberOfGraphics","_numberOfGraphicsProvidingElevation","_pendingAdds","_pendingRemoves","_loadingSymbols","_pendingUpdatesPool","allocator","ke","_symbolWarningLogged","_geometryWarningLogged","_objectIdInvisibleSet","_whenSymbolRemoved","preferredUpdatePolicy","Se","SYNC","forcedUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","setUidToIdOnAdd","_usedMemory","_visible","_startCreateGraphics","spatialIndex","ge","numberOfGraphics","effectiveUpdatePolicy","ASYNC","featureStore","initializePromise","_initializePromise","scaleVisibility","elevationAlignment","_elevationAlignment","objectStates","filterVisibility","suspendedOrOutsideOfView","suspendInfo","outsideOfView","displayFeatureLimit","qualitySettings","graphics3D","minTotalNumberOfFeatures","maxTotalNumberOfFeatures","maxTotalNumberOfPrimitives","averageSymbolComplexity","primitivesPerFeature","drawCallsPerFeature","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","maximumTotalNumberOfPrimitives","maximumNumberOfFeatures","ue","_symbolComplexities","numComplexities","estimated","primitivesPerCoordinate","usedMemory","labelsEnabled","memory","bytesPerFeatureLabel","_getSymbolComplexitiesUsed","reduce","resourceBytes","usedMemoryPerGraphic","bytesPerFeature","unprocessedMemoryEstimate","_getSymbolComplexitiesUsedOrRenderer","_getConvertedSymbol","clone","id","ee","geometryType","retainId","hasLabelingContext","_hasLabelingContext","message","getSymbols","backgroundFillSymbol","_getSymbolComplexityUsedOrRenderer","complexity","be","_objectIdField","ne","featureSpatialReference","toArray","componentFactories","getFeatureCount","updateFeatureVisibilities","te","FILTER","q","re","setAllFeaturesVisibility","clearFeaturesVisibility","AbortController","_initializeAsync","signal","ie","_initializeStage","sharedSymbolResources","addGraphicsOwner","Ce","renderSpatialReference","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","se","ae","physicallyBasedRenderingEnabled","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","reschedule","_updateLayerVisibility","recreateAllGraphicsAndSymbols","_slicePlaneEnabledChange","pixelRatio","_pixelRatioChange","_physicalBasedRenderingChange","_skipHighSymbolLoDsChange","tilingScheme","recreateAllGraphics","loadedGraphics","_graphicsCollectionChanged","_signalUpdatingDuringAsyncLoadedGraphicsChange","onListenerAdd","initial","updatePolicy","xe","G","Re","GRAPHICS_CORE","featureReduction","featureReductionChange","notifyChange","rendererChange","catch","_abortInitialize","abort","_abortRendererChange","_abortElevationInfoChange","removeGraphicsOwner","reject","_stage","we","isPickable","graphicUid","ze","_hideAllGraphics","_updateStageLayerVisibility","opacity","_findGraphics3DGraphicByObjectId","_getGraphicObjectID","graphics3DGraphicsByObjectID","layerLabelsEnabled","labelingInfoChange","updateVisibilityInfo","visibilityInfoChange","symbolUpdateType","getFastUpdateStatus","loading","fast","slow","processQueue","_applyPendingUpdates","setObjectIdVisibility","_updateUserVisibility","visible","USER_SETTING","_whenGraphics3DGraphic","Promise","resolve","promise","service","useViewElevation","minDemResolution","minDemResolutionForPoints","resolution","getProjectedBoundingBox","T","boundingBox","requiresDrapedElevation","screenSpaceObjects","find","_boundsForGraphics3DGraphic","computeAttachmentOrigin","render","num","draped","A","We","origin","Me","U","O","De","getSymbolLayerSize","indexOf","added","removed","graphicUpdateHandler","property","_graphicUpdateVisibleHandler","_graphicUpdateGeometryHandler","_graphicUpdateSymbolHandler","_graphicUpdateTransformHandler","_recreateGraphic","loadStatus","me","LOADING","graphics3DSymbol","newValue","_expandComputedExtent","oldValue","I","_updateSymbolMapping","diff","graphics3DGraphicPatches","symbolStatePatches","prepareSymbolPatch","_getRenderingInfo","_recomputeExtentPadding","recreateGraphics","_cleanupSymbols","_beginGraphicUpdate","_endGraphicUpdate","tmpVec","V","isFinite","zmin","zmax","xmin","ymin","xmax","ymax","elevationInfoChange","forEachGraphics3DSymbol","updateGraphicElevationContext","_recreateSymbol","updateStageLayerElevationProvider","unregister","_e","register","_clearSymbolsAndGraphics","invalidateSpatialQueryAccelerator","startCreateGraphics","_recreateAllGraphics","_conditionalRemove","_removeGraphics3DGraphic","_recreateGraphicsForSymbol","_updatePolicyForGraphics","_addDelayed","_addImmediate","loaded","_addGraphic","Te","NEW","abortController","pushNew","_removeDelayed","_removeImmediate","_removeGraphic","_finishPendingUpdates","warn","done","_processPendingUpdateNew","READY","madeProgress","REJECTED","_processPendingUpdateNewMesh","_processPendingUpdateNewRenderingInfo","_processPendingUpdateNewError","v","_getRenderingInfoAsync","$","renderView","_objectAndLayerIdRenderHelper","setUidToObjectAndLayerId","popupEnabled","getOrCreateGraphics3DSymbol","oe","destroyed","removeUnordered","referenced","_createGraphics3DGraphic","onRemoveGraphic","Ie","Ee","_hasValidSymbolCreationContext","F","Z","getRenderingInfo","getRenderingInfoAsync","_createGraphics3DSymbol","ignoreDrivers","he","Ae","de","trackGraphicState","ce","_addGraphics3DGraphic","pe","defaultVisibility","reapply","setInitialIconVisibilityFlag","_validateRenderer","_currentRendererChange","J","arcadeRequired","arcadeUtils","_ensureArcade","hasGeometryOperations","enableGeometryOperations","K","arcade","_updateUnchangedSymbolMappings","_applyRendererDiff","_volatileGraphicsUpdated","_diffHasSymbolChange","_applySymbolSetDiff","defaultSymbol","getSymbol","_applyUniqueValueRendererDiff","uniqueValueInfos","map","changed","_calculateUnchangedSymbolMapping","unchanged","oldId","newId","value","Object","keys","applyRendererDiff","ye","Recreate_Symbol","Recreate_Graphics","Fast_Update","opacityChange","isSliceable","slicePlaneEnabledChange","setClippingExtent","N","fe","W","Ne","Q","title","shaderTransformationChanged","test","snapshotInternals","graphics","symbols","graphicsBySymbol","symbolId","graphicsWithoutSymbol","graphicsDrapedUids","pendingUpdates","numPending","forceUpdatePolicy","performanceInfo","missing","pending","P","dependsOn","D","_dirtyExtents","_globalDirty","_averageExtentUpdateSize","_dirtyGraphicsSet","_updateElevation","_elevationChanged","_suspendedChange","ELEVATION_ALIGNMENT","empty","_markAllGraphicsElevationDirty","run","merge","_updateDirtyGraphics","_updateDirtyExtents","alignWithElevation","needsElevationUpdates","_extents","_tmpExtent","_contains","_removeContained","_mergeTight","hasProgressed","getItemAt","filterInPlace","containsPoint","_extentIntersectionDirty","_isVisibleBelowSurfaceInternal","_extentIntersection","_viewChange","camera","FRUSTUM_VISIBILITY","visibleElevationBounds","_elevationBoundsChange","_isVisibleBelowSurface","baseOpacity","wireframe","ground","navigationConstraint","_updateIsVisibleBelowSurface","opaque","_updateExtentIntersection","radius","frustum","isVisibleInFrustum","RenderGeometry","External","COUNT","_items","addObject","objectStateId","addRenderGeometry","renderGeometry","addExternal","_removeObjectStateItem","removeObject","removeRenderGeometry","channel","Highlight","removeHighlight","MaskOccludee","removeOcclude","removeRenderGeometryObjectState","stateType","objectStateSet","ids","paused","hasGraphic","_stateSets","acquireSet","releaseSet","handle","_addObjectStateSet","addObjectStateSet","_removeObjectStateSet","removeObjectState","setUid","setUids","setObjectIds","_initializeSet","states"],"mappings":"+HAAA,uEAIsM,MAAMA,EAAEC,YAAYC,EAAE,EAAEC,GAAGC,KAAKC,aAAaC,EAAEF,KAAKG,aAAaC,EAAEJ,KAAKK,QAAQP,GAAGA,EAAEE,KAAKM,YAAYC,KAAKC,IAAI,EAAEV,GAAG,GAAGE,KAAKS,YAAYF,KAAKC,IAAI,EAAED,KAAKG,KAAK,GAAGV,KAAKM,cAAcP,IAAI,mBAAmBA,EAAEC,KAAKK,QAAQN,EAAEC,KAAKW,YAAYZ,IAAIC,KAAKY,OAAO,CAACC,UAAUb,KAAKY,QAAQE,EAAEC,QAAQC,EAAED,QAAQE,EAAEF,QAAQG,EAAEH,OAAO,CAACI,IAAIrB,GAAGE,KAAKoB,KAAKpB,KAAKqB,MAAMvB,EAAE,CAACwB,OAAOxB,EAAEC,GAAG,IAAIwB,EAAEvB,KAAKqB,MAAM,MAAMG,EAAExB,KAAKK,QAAQ,GAAGoB,EAAE3B,EAAEyB,GAAG,IAAIT,EAAEF,QAAQW,GAAG,CAAC,IAAI,IAAIG,EAAE,EAAE9B,EAAE2B,EAAEI,SAASC,OAAOF,EAAE9B,EAAE8B,IAAI,CAAC,MAAM9B,EAAE2B,EAAEI,SAASD,GAAGG,EAAEN,EAAEO,KAAKN,EAAE5B,GAAGA,EAAE6B,EAAE3B,EAAE+B,KAAKN,EAAEO,KAAK/B,EAAEH,GAAGmC,EAAEjC,EAAE+B,GAAG7B,KAAKoB,KAAKxB,EAAEG,GAAGe,EAAEkB,KAAKpC,GAAG,CAAC2B,EAAET,EAAEmB,KAAK,CAAC,CAACC,SAASpC,GAAG,IAAIC,EAAEC,KAAKqB,MAAM,MAAME,EAAEvB,KAAKK,QAAQ,IAAIoB,EAAE3B,EAAEC,GAAG,OAAM,EAAG,IAAIe,EAAEF,QAAQb,GAAG,CAAC,IAAI,IAAIyB,EAAE,EAAEE,EAAE3B,EAAE4B,SAASC,OAAOJ,EAAEE,EAAEF,IAAI,CAAC,MAAME,EAAE3B,EAAE4B,SAASH,GAAG5B,EAAEG,EAAE+B,KAAKP,EAAEG,GAAGA,EAAE,GAAGD,EAAE3B,EAAEF,GAAG,CAAC,GAAGG,EAAE+B,MAAMC,EAAEjC,EAAEF,GAAG,OAAM,EAAGkB,EAAEkB,KAAKN,EAAE,CAAC,CAAC3B,EAAEe,EAAEmB,KAAK,CAAC,OAAM,CAAE,CAACE,KAAKrC,GAAG,IAAIA,EAAE8B,OAAO,OAAO5B,KAAK,GAAGF,EAAE8B,OAAO5B,KAAKS,YAAY,CAAC,IAAI,IAAIV,EAAE,EAAEwB,EAAEzB,EAAE8B,OAAO7B,EAAEwB,EAAExB,IAAIC,KAAKoC,OAAOtC,EAAEC,IAAI,OAAOC,IAAI,CAAC,IAAID,EAAEC,KAAKqC,OAAOvC,EAAEwC,MAAM,EAAExC,EAAE8B,QAAQ,EAAE9B,EAAE8B,OAAO,EAAE,GAAG,GAAG5B,KAAKqB,MAAMM,SAASC,OAAO,GAAG5B,KAAKqB,MAAMkB,SAASxC,EAAEwC,OAAOvC,KAAKwC,WAAWxC,KAAKqB,MAAMtB,OAAO,CAAC,GAAGC,KAAKqB,MAAMkB,OAAOxC,EAAEwC,OAAO,CAAC,MAAMzC,EAAEE,KAAKqB,MAAMrB,KAAKqB,MAAMtB,EAAEA,EAAED,CAAC,CAACE,KAAKyC,QAAQ1C,EAAEC,KAAKqB,MAAMkB,OAAOxC,EAAEwC,OAAO,GAAE,EAAG,MAAMvC,KAAKqB,MAAMtB,EAAE,OAAOC,IAAI,CAACoC,OAAOtC,GAAG,OAAOA,GAAGE,KAAKyC,QAAQ3C,EAAEE,KAAKqB,MAAMkB,OAAO,GAAGvC,IAAI,CAACY,QAAQ,OAAOZ,KAAKqB,MAAM,IAAIqB,EAAE,IAAI1C,IAAI,CAAC2C,OAAO5C,GAAG,IAAIA,EAAE,OAAOC,KAAK,IAAIwB,EAAEE,EAAE1B,KAAKqB,MAAMzB,EAAE,KAAKiC,EAAE,EAAEe,GAAE,EAAG,MAAMC,EAAE7C,KAAKK,QAAQN,GAAG,IAAIkB,EAAEL,QAAQM,EAAEN,QAAQc,GAAGT,EAAEW,OAAO,GAAG,OAAC,GAAGF,IAAIA,EAAEH,YAAEN,EAAEgB,OAAOrC,EAAEqB,EAAE6B,KAAK7B,EAAEW,OAAO,GAAGC,EAAS,OAAR,EAACX,EAAEe,OAAK,EAAE,EAAEW,GAAE,GAAIlB,EAAEI,OAAON,EAAE1B,YAAE4B,EAAEC,SAAS5B,EAAE2B,EAAEC,SAASC,OAAOF,EAAEqB,YAAY,IAAIvB,GAAG,OAAOE,EAAEC,SAASqB,OAAOxB,EAAE,GAAGP,EAAEe,KAAKN,GAAG1B,KAAKiD,UAAUhC,GAAGjB,KAAK4C,GAAGlB,EAAEI,OAAOC,EAAEL,EAAEmB,GAAGjD,GAAGiC,IAAIH,EAAE9B,EAAE+B,SAASE,GAAGe,GAAE,GAAIlB,EAAE,MAAMT,EAAEe,KAAKN,GAAGR,EAAEc,KAAKH,GAAGA,EAAE,EAAEjC,EAAE8B,EAAEA,EAAEA,EAAEC,SAAS,GAAG,CAAC,OAAO3B,IAAI,CAACkD,SAAS,OAAOlD,KAAKqB,KAAK,CAAC8B,SAASrD,GAAG,OAAOE,KAAKqB,MAAMvB,EAAEE,IAAI,CAACoB,KAAKtB,EAAEC,GAAG,IAAIwB,EAAEzB,EAAE,IAAIkB,EAAEJ,QAAQW,GAAG,OAAC,IAAG,IAAKA,EAAEO,KAAK,IAAI,MAAMhC,KAAKyB,EAAEI,SAAS5B,EAAED,QAAQkB,EAAEoC,UAAU7B,EAAEI,UAAUJ,EAAS,OAAR,EAACP,EAAEiB,OAAK,EAAE,IAAI,CAAC,CAACI,OAAOvC,EAAEC,EAAEwB,EAAEC,GAAG,MAAME,EAAEH,EAAExB,EAAE,EAAE,IAAIH,EAAEI,KAAKM,YAAY,GAAGoB,GAAG9B,EAAE,CAAC,MAAM4B,EAAE,IAAIkB,EAAE5C,EAAEwC,MAAMvC,EAAEwB,EAAE,IAAI,OAAOM,EAAEL,EAAExB,KAAKK,SAASmB,CAAC,CAACA,IAAIA,EAAEjB,KAAKG,KAAKH,KAAK8C,IAAI3B,GAAGnB,KAAK8C,IAAIzD,IAAIA,EAAEW,KAAKG,KAAKgB,EAAE9B,IAAI4B,EAAE,KAAK,MAAMoB,EAAE,IAAIU,EAAE,IAAIV,EAAEL,OAAOf,EAAE,MAAMqB,EAAEtC,KAAKG,KAAKgB,EAAE9B,GAAGM,EAAE2C,EAAEtC,KAAKG,KAAKH,KAAKgD,KAAK3D,IAAI4D,EAAE1D,EAAEC,EAAEwB,EAAErB,EAAEF,KAAKC,cAAc,IAAI,IAAI4B,EAAE9B,EAAE8B,GAAGN,EAAEM,GAAG3B,EAAE,CAAC,MAAMH,EAAEQ,KAAKkD,IAAI5B,EAAE3B,EAAE,EAAEqB,GAAGiC,EAAE1D,EAAE+B,EAAE9B,EAAE8C,EAAE7C,KAAKG,cAAc,IAAI,IAAIoB,EAAEM,EAAEN,GAAGxB,EAAEwB,GAAGsB,EAAE,CAAC,MAAMnB,EAAEnB,KAAKkD,IAAIlC,EAAEsB,EAAE,EAAE9C,GAAG6C,EAAEjB,SAASK,KAAKhC,KAAKqC,OAAOvC,EAAEyB,EAAEG,EAAEF,EAAE,GAAG,CAAC,CAAC,OAAOK,EAAEe,EAAE5C,KAAKK,SAASuC,CAAC,CAACc,eAAe5D,EAAEC,EAAEwB,EAAEC,GAAG,KAAKA,EAAEQ,KAAKjC,IAAG,IAAKA,EAAE+B,MAAMN,EAAEI,OAAO,IAAIL,GAAG,CAAC,IAAIA,EAAEC,EAAE,IAAIE,EAAE,IAAI,IAAI,IAAI9B,EAAE,EAAEiC,EAAE9B,EAAE4B,SAASC,OAAOhC,EAAEiC,EAAEjC,IAAI,CAAC,MAAMiC,EAAE9B,EAAE4B,SAAS/B,GAAGgD,EAAEe,EAAE9B,GAAGgB,EAAEe,EAAE9D,EAAE+B,GAAGe,EAAEC,EAAEnB,GAAGA,EAAEmB,EAAErB,EAAEoB,EAAEpB,EAAEoB,EAAEpB,EAAED,EAAEM,GAAGgB,IAAInB,GAAGkB,EAAEpB,IAAIA,EAAEoB,EAAErB,EAAEM,EAAE,CAAC9B,EAAEwB,GAAGxB,EAAE4B,SAAS,EAAE,CAAC,OAAO5B,CAAC,CAAC0C,QAAQ3C,EAAEC,EAAEwB,GAAG,MAAMC,EAAExB,KAAKK,QAAQqB,EAAEH,EAAEzB,EAAE0B,EAAE1B,GAAGmB,EAAEL,QAAQ,MAAMhB,EAAEI,KAAK0D,eAAehC,EAAE1B,KAAKqB,MAAMtB,EAAEkB,GAAG,IAAIrB,EAAE+B,SAASK,KAAKlC,GAAG+C,EAAEjD,EAAE8B,GAAG3B,GAAG,GAAGkB,EAAE6B,KAAK/C,GAAG4B,SAASC,OAAO5B,KAAKM,aAAaN,KAAK6D,OAAO5C,EAAElB,GAAGA,IAAIC,KAAK8D,oBAAoBpC,EAAET,EAAElB,EAAE,CAAC8D,OAAO/D,EAAEC,GAAG,MAAMwB,EAAEzB,EAAEgD,KAAK/C,GAAGyB,EAAED,EAAEI,SAASC,OAAOF,EAAE1B,KAAKS,YAAYT,KAAK+D,iBAAiBxC,EAAEG,EAAEF,GAAG,MAAM5B,EAAEI,KAAKgE,kBAAkBzC,EAAEG,EAAEF,GAAG,IAAI5B,EAAE,YAAYqE,QAAQZ,IAAI,yEAAyE,MAAMT,EAAErB,EAAEI,SAASqB,OAAOpD,EAAE2B,EAAEI,SAASC,OAAOhC,GAAGiD,EAAEtB,EAAEO,KAAK,IAAIY,EAAEE,GAAG,IAAIU,EAAEV,GAAGC,EAAEN,OAAOhB,EAAEgB,OAAOV,EAAEN,EAAEvB,KAAKK,SAASwB,EAAEgB,EAAE7C,KAAKK,SAASN,EAAED,EAAEgD,KAAK/C,EAAE,GAAG4B,SAASK,KAAKa,GAAG7C,KAAKwC,WAAWjB,EAAEsB,EAAE,CAACL,WAAW1C,EAAEC,GAAGC,KAAKqB,MAAM,IAAIiC,EAAE,CAACxD,EAAEC,IAAIC,KAAKqB,MAAMkB,OAAOzC,EAAEyC,OAAO,EAAEV,EAAE7B,KAAKqB,MAAMrB,KAAKK,QAAQ,CAAC2D,kBAAkBlE,EAAEC,EAAEwB,GAAG,IAAIC,EAAEE,EAAE9B,EAAE4B,EAAEE,EAAE,IAAI,IAAI,IAAIG,EAAE9B,EAAE8B,GAAGN,EAAExB,EAAE8B,IAAI,CAAC,MAAM9B,EAAE6C,EAAE9C,EAAE,EAAE+B,EAAE7B,KAAKK,SAASwC,EAAED,EAAE9C,EAAE+B,EAAEN,EAAEvB,KAAKK,SAASH,EAAEgE,EAAEnE,EAAE8C,GAAGzC,EAAEuD,EAAE5D,GAAG4D,EAAEd,GAAG3C,EAAEsB,GAAGA,EAAEtB,EAAEN,EAAEiC,EAAEH,EAAEtB,EAAEsB,EAAEtB,EAAEsB,GAAGxB,IAAIsB,GAAGpB,EAAEsB,IAAIA,EAAEtB,EAAER,EAAEiC,EAAE,CAAC,OAAOjC,CAAC,CAACmE,iBAAiBjE,EAAEC,EAAEwB,GAAG,MAAMC,EAAE1B,EAAEgC,KAAK9B,KAAKC,aAAaC,EAAEwB,EAAE5B,EAAEgC,KAAK9B,KAAKG,aAAaC,EAAEJ,KAAKmE,eAAerE,EAAEC,EAAEwB,EAAEC,GAAGxB,KAAKmE,eAAerE,EAAEC,EAAEwB,EAAEG,IAAI5B,EAAE6B,SAASyC,KAAK5C,EAAE,CAAC2C,eAAerE,EAAEC,EAAEwB,EAAEC,GAAG1B,EAAE6B,SAASyC,KAAK5C,GAAG,MAAME,EAAE1B,KAAKK,QAAQT,EAAEgD,EAAE9C,EAAE,EAAEC,EAAE2B,GAAGG,EAAEe,EAAE9C,EAAEyB,EAAExB,EAAEwB,EAAEG,GAAG,IAAIxB,EAAEmE,EAAEzE,GAAGyE,EAAExC,GAAG,IAAI,IAAIe,EAAE7C,EAAE6C,EAAErB,EAAExB,EAAE6C,IAAI,CAAC,MAAM7C,EAAED,EAAE6B,SAASiB,GAAGC,EAAEjD,EAAEE,EAAEgC,KAAKJ,EAAE3B,GAAGA,GAAGG,GAAGmE,EAAEzE,EAAE,CAAC,IAAI,IAAIgD,EAAErB,EAAExB,EAAE,EAAE6C,GAAG7C,EAAE6C,IAAI,CAAC,MAAM7C,EAAED,EAAE6B,SAASiB,GAAGC,EAAEhB,EAAE/B,EAAEgC,KAAKJ,EAAE3B,GAAGA,GAAGG,GAAGmE,EAAExC,EAAE,CAAC,OAAO3B,CAAC,CAAC4D,oBAAoBhE,EAAEC,EAAEwB,GAAG,IAAI,IAAIC,EAAED,EAAEC,GAAG,EAAEA,IAAIqB,EAAE9C,EAAE+C,KAAKtB,GAAG1B,EAAE,CAACmD,UAAUlD,GAAG,IAAI,IAAIwB,EAAExB,EAAE6B,OAAO,EAAEL,GAAG,EAAEA,IAAI,CAAC,MAAMC,EAAEzB,EAAE+C,KAAKvB,GAAG,GAAG,IAAIC,EAAEG,SAASC,OAAO,GAAGL,EAAE,EAAE,CAAC,MAAMG,EAAE3B,EAAE+C,KAAKvB,EAAE,GAAG3B,EAAE8B,EAAEC,SAAS/B,EAAEoD,OAAOlD,YAAEF,EAAE4B,EAAE5B,EAAEgC,OAAOF,EAAEqB,WAAW,EAAE,MAAM/C,KAAKY,aAAaiB,EAAEL,EAAExB,KAAKK,QAAQ,CAAC,CAACM,YAAYb,GAAG,MAAMC,EAAE,CAAC,WAAW,OAAO,KAAKC,KAAKC,aAAa,IAAIqE,SAAS,IAAI,IAAIvE,EAAEwE,KAAKzE,EAAE,KAAKE,KAAKG,aAAa,IAAImE,SAAS,IAAI,IAAIvE,EAAEwE,KAAKzE,EAAE,KAAKE,KAAKK,QAAQ,IAAIiE,SAAS,IAAI,kBAAkBxE,EAAE,GAAG,YAAYA,EAAE,GAAG,YAAYA,EAAE,GAAG,YAAYA,EAAE,GAAG,KAAK,EAAE,SAAS+B,EAAE/B,EAAEC,GAAG6C,EAAE9C,EAAE,EAAEA,EAAE6B,SAASC,OAAO7B,EAAED,EAAE,CAAC,SAAS8C,EAAE9C,EAAEC,EAAEwB,EAAEC,EAAEE,GAAGA,IAAIA,EAAE,IAAIgB,EAAE,KAAKhB,EAAE8C,KAAK,IAAI9C,EAAE+C,KAAK,IAAI/C,EAAEgD,MAAK,IAAKhD,EAAEiD,MAAK,IAAK,IAAI,IAAI/E,EAAEiC,EAAE9B,EAAE8B,EAAEN,EAAEM,IAAIjC,EAAEE,EAAE6B,SAASE,GAAGgB,EAAEnB,EAAE5B,EAAEgC,KAAKN,EAAE5B,GAAGA,GAAG,OAAO8B,CAAC,CAAC,SAASmB,EAAE/C,EAAEC,GAAGD,EAAE0E,KAAKjE,KAAKkD,IAAI3D,EAAE0E,KAAKzE,EAAEyE,MAAM1E,EAAE2E,KAAKlE,KAAKkD,IAAI3D,EAAE2E,KAAK1E,EAAE0E,MAAM3E,EAAE4E,KAAKnE,KAAKC,IAAIV,EAAE4E,KAAK3E,EAAE2E,MAAM5E,EAAE6E,KAAKpE,KAAKC,IAAIV,EAAE6E,KAAK5E,EAAE4E,KAAK,CAAC,SAASzE,EAAEJ,EAAEC,GAAG,OAAOD,EAAE0E,KAAKzE,EAAEyE,IAAI,CAAC,SAASpE,EAAEN,EAAEC,GAAG,OAAOD,EAAE2E,KAAK1E,EAAE0E,IAAI,CAAC,SAASd,EAAE7D,GAAG,OAAOA,EAAE4E,KAAK5E,EAAE0E,OAAO1E,EAAE6E,KAAK7E,EAAE2E,KAAK,CAAC,SAASJ,EAAEvE,GAAG,OAAOA,EAAE4E,KAAK5E,EAAE0E,MAAM1E,EAAE6E,KAAK7E,EAAE2E,KAAK,CAAC,SAASb,EAAE9D,EAAEC,GAAG,OAAOQ,KAAKC,IAAIT,EAAE2E,KAAK5E,EAAE4E,MAAMnE,KAAKkD,IAAI1D,EAAEyE,KAAK1E,EAAE0E,QAAQjE,KAAKC,IAAIT,EAAE4E,KAAK7E,EAAE6E,MAAMpE,KAAKkD,IAAI1D,EAAE0E,KAAK3E,EAAE2E,MAAM,CAAC,SAASP,EAAEpE,EAAEC,GAAG,MAAMwB,EAAEhB,KAAKC,IAAIV,EAAE0E,KAAKzE,EAAEyE,MAAMhD,EAAEjB,KAAKC,IAAIV,EAAE2E,KAAK1E,EAAE0E,MAAM/C,EAAEnB,KAAKkD,IAAI3D,EAAE4E,KAAK3E,EAAE2E,MAAM9E,EAAEW,KAAKkD,IAAI3D,EAAE6E,KAAK5E,EAAE4E,MAAM,OAAOpE,KAAKC,IAAI,EAAEkB,EAAEH,GAAGhB,KAAKC,IAAI,EAAEZ,EAAE4B,EAAE,CAAC,SAASO,EAAEjC,EAAEC,GAAG,OAAOD,EAAE0E,MAAMzE,EAAEyE,MAAM1E,EAAE2E,MAAM1E,EAAE0E,MAAM1E,EAAE2E,MAAM5E,EAAE4E,MAAM3E,EAAE4E,MAAM7E,EAAE6E,IAAI,CAAC,SAASlD,EAAE3B,EAAEC,GAAG,OAAOA,EAAEyE,MAAM1E,EAAE4E,MAAM3E,EAAE0E,MAAM3E,EAAE6E,MAAM5E,EAAE2E,MAAM5E,EAAE0E,MAAMzE,EAAE4E,MAAM7E,EAAE2E,IAAI,CAAC,SAASjB,EAAE1D,EAAEC,EAAEyB,EAAE5B,EAAEiC,GAAG,MAAMe,EAAE,CAAC7C,EAAEyB,GAAG,KAAKoB,EAAEhB,QAAQ,CAAC,MAAM7B,EAAEwB,YAAEqB,EAAEX,OAAOT,EAAED,YAAEqB,EAAEX,OAAO,GAAGlC,EAAEyB,GAAG5B,EAAE,SAAS,MAAMiD,EAAErB,EAAEjB,KAAKG,MAAMX,EAAEyB,GAAG5B,EAAE,GAAGA,EAAE8B,YAAE5B,EAAE+C,EAAErB,EAAEzB,EAAE8B,GAAGe,EAAEZ,KAAKR,EAAEqB,EAAEA,EAAE9C,EAAE,CAAC,CAAC,MAAMe,EAAE,IAAIU,IAAER,EAAE,IAAIQ,IAAEP,EAAE,IAAIO,IAAEN,EAAE,IAAIM,IAAE,CAACoD,iBAAY,IAAS,MAAMC,EAAEhF,cAAcG,KAAKwE,KAAK,IAAIxE,KAAKyE,KAAK,IAAIzE,KAAK0E,MAAK,IAAK1E,KAAK2E,MAAK,GAAI,EAAE,MAAMG,UAAUD,EAAEhF,cAAckF,SAASC,WAAWhF,KAAKuC,OAAO,EAAEvC,KAAK+C,UAAU,IAAIhD,GAAC,EAAE,MAAM2C,UAAUoC,EAAEjF,YAAYC,GAAGiF,QAAQ/E,KAAK2B,SAAS7B,EAAEE,KAAK8B,MAAK,CAAE,EAAE,MAAMwB,UAAUwB,EAAEjF,YAAYC,GAAGiF,QAAQ/E,KAAK2B,SAAS7B,EAAEE,KAAK8B,MAAK,CAAE,E,oCCJ3pM,yEAI+M,MAAM/B,EAAE,CAACkF,YAAYnF,GAAGA,EAAEoF,SAASC,cAAcrF,GAAGA,EAAEsF,WAAWC,aAAa,CAACvF,EAAE0B,IAAI1B,EAAEsF,WAAW5D,GAAG8D,kBAAkB,CAACxF,EAAE0B,IAAI,IAAIoB,IAAEpB,EAAE1B,EAAEsF,WAAW,KAAKtF,EAAEoF,UAAUK,YAAYzF,GAAGA,EAAE0F,SAASC,YAAY,CAAC7C,EAAE7C,KAAKD,YAAE8C,EAAE8C,YAAY9C,EAAE8C,SAASlE,YAAE,IAAIqB,IAAED,EAAE4C,SAASzF,EAAE4F,KAAK5F,EAAE6F,OAAOhD,EAAE8C,U,oCCJje,6IAIwzB,MAAMG,EAAE/F,IAAEgG,UAAU,2DAA2D,IAAIhF,EAAE,cAAcf,IAAEF,YAAY2B,GAAGuD,MAAMvD,GAAGxB,KAAK+F,mBAAkB,EAAG/F,KAAKgG,iCAAgC,EAAGhG,KAAKiG,QAAQ,KAAKjG,KAAKkG,kBAAkB,KAAKlG,KAAKmG,MAAM,KAAKnG,KAAKoG,yBAAyB,KAAKpG,KAAKqG,aAAa,KAAKrG,KAAKsG,eAAe,KAAKtG,KAAKuG,mBAAkB,EAAGvG,KAAKwG,WAAU,EAAGxG,KAAKyG,QAAO,CAAE,CAACC,aAAa1G,KAAK2G,yBAAyB,MAAMnF,EAAExB,KAAKkG,kBAAkBU,KAAKC,mBAAmBC,UAAU9G,KAAK+G,QAAQC,IAAIxF,EAAEyF,aAAa5C,IAAE6C,iBAAiBlH,OAAOA,KAAKmH,gBAAgBH,KAAK,IAAIhH,KAAKmG,MAAMiB,sBAAsB,IAAIpH,KAAKqH,iCAAiC,CAACxG,UAAUb,KAAKmH,gBAAgBG,YAAYtH,KAAK+G,QAAQO,YAAYtH,KAAKyG,QAAO,EAAGzG,KAAKiG,QAAQ,KAAKjG,KAAKkG,kBAAkB,KAAKlG,KAAKmG,MAAM,KAAKnG,KAAKoG,yBAAyB,KAAKpG,KAAKqG,aAAa,KAAKrG,KAAKsG,eAAe,IAAI,CAAKiB,eAAW,OAAOvH,KAAKyG,QAAQzG,KAAKmH,gBAAgBI,QAAQ,CAACC,YAAYxH,KAAKyG,QAAO,CAAE,CAACgB,UAAUjG,GAAG,MAAMzB,EAAEC,KAAKkG,kBAAkBU,KAAKc,iBAAiB5H,EAAEE,KAAKkG,kBAAkBU,KAAKN,eAAeoB,iBAAiB,GAAG3H,IAAID,EAAEE,KAAKiG,QAAQzE,MAAM,CAAC,MAAMoB,EAAExC,cAAImB,YAAEC,EAAEzB,EAAE6C,EAAE9C,GAAGE,KAAKiG,QAAQrD,EAAE5C,KAAKiG,QAAQ,IAAI,CAACjG,KAAKwH,WAAW,CAACG,mBAAmB,OAAO3H,KAAK+F,iBAAiB,CAACY,yBAAyB,MAAMnF,EAAExB,KAAKmG,MAAMpG,EAAEyB,EAAE4F,oBAAoB,IAAItH,EAAEE,KAAKuG,mBAAmB3C,EAAE7D,EAAE6H,SAAS7H,EAAE8H,UAAUrG,EAAEsG,eAAehI,IAAIA,EAAE0B,EAAEsG,aAAaC,MAAMvG,GAAGA,GAAGoC,EAAEpC,EAAEoG,SAASpG,EAAEqG,aAAa,MAAMjF,EAAE5C,KAAK+F,oBAAoBjG,EAAE,OAAOE,KAAK+F,kBAAkBjG,EAAEA,IAAIE,KAAK+G,QAAQiB,IAAItF,IAAI1C,KAAKsG,gBAAgBtG,KAAK+G,QAAQC,IAAIhH,KAAKsG,eAAe2B,GAAG,gBAAgBzG,GAAGxB,KAAKkI,oBAAoB1G,KAAKkB,GAAG1C,KAAKuG,mBAAmBvG,KAAK+G,QAAQC,IAAIhH,KAAKsG,eAAe2B,GAAG,4BAA4B,IAAIjI,KAAKwH,cAAc9E,KAAK5C,GAAGE,KAAK+G,QAAQiB,IAAItF,IAAI1C,KAAK+G,QAAQpE,OAAOD,GAAGE,CAAC,CAAKuF,cAAU,SAASnI,KAAKkG,kBAAkBU,KAAKN,iBAAiBtG,KAAKuH,SAAS,CAACa,UAAU,MAAM5G,EAAExB,KAAKkG,kBAAkBU,KAAKN,eAAe,GAAGtG,KAAKiG,SAASzE,GAAGA,EAAE6G,OAAOrI,KAAK+F,mBAAmB/F,KAAKuG,mBAAmB,IAAIvG,KAAKgG,gCAAgC,CAAChG,KAAKgG,iCAAgC,EAAG,MAAMjG,EAAEC,KAAKmG,MAAMiB,oBAAoB5F,EAAE8G,uBAAuBtI,KAAKiG,QAAQlG,EAAE6H,SAAS7H,EAAE8H,UAAUrG,GAAGxB,KAAKuI,cAAc/G,IAAI,OAAOxB,KAAKuI,eAAc,EAAG,CAACA,cAAc/G,GAAGxB,KAAKgG,iCAAgC,EAAGhG,KAAKwI,KAAK,aAAahH,GAAGxB,KAAKyG,QAAO,CAAE,CAACgC,qBAAqBjH,GAAG,MAAMzB,EAAEC,KAAKmG,MAAMiB,oBAAoB,OAAOpH,KAAKuG,mBAAmB/C,YAAEhC,EAAEzB,EAAE6H,UAAU,EAAE7H,EAAE8H,UAAU,EAAE,CAACa,qBAAqBlH,EAAEzB,GAAG,OAAOyD,YAAEhC,EAAEzB,EAAE6H,UAAU,EAAE7H,EAAE8H,UAAU,EAAE,CAACc,cAAcnH,GAAG,IAAIzB,EAAE,OAAG6C,YAAEpB,EAAEkE,UAAU3F,EAAEyB,EAAEkE,SAAS9C,YAAEpB,EAAEoH,QAAQpD,WAAW,UAAUhE,EAAEoH,QAAQpD,SAASqD,OAAO9I,EAAEyB,EAAEoH,QAAQpD,UAAUzF,EAAUC,KAAKkG,kBAAkBU,KAAKN,eAAetG,KAAKkG,kBAAkBU,KAAKN,eAAewC,SAAS/I,GAAG,EAAS,IAAI,CAACgJ,gBAAgBvH,GAAG,IAAIxB,KAAKuG,kBAAkB,OAAM,EAAG,MAAMxG,EAAEC,KAAK2I,cAAcnH,GAAG,OAAOxB,KAAKyI,qBAAqB1I,EAAE,CAACiJ,iBAAiBxH,GAAG,GAAGxB,KAAK+F,kBAAkB,CAAC,MAAMhG,EAAEC,KAAK+I,gBAAgBvH,GAAG,OAAOA,EAAEyH,kBAAkBrJ,IAAEsJ,YAAYnJ,EAAE8C,IAAEsG,QAAQ,CAAC,OAAM,CAAE,CAACC,kCAAkC5H,GAAG,IAAIxB,KAAK+F,kBAAkB,OAAM,EAAG,IAAIvE,EAAE6H,eAAe,IAAI7H,EAAE6H,cAAczH,OAAO,OAAM,EAAG,MAAM7B,EAAEC,KAAK2I,cAAcnH,GAAG1B,EAAEE,KAAKsJ,4BAA4B9H,EAAEzB,GAAG,OAAOD,IAAIE,KAAKkG,kBAAkBU,KAAK2C,aAAaC,WAAWxJ,KAAKkG,kBAAkBU,KAAK6C,QAAQD,YAAY1J,CAAC,CAACwJ,4BAA4B9H,EAAEzB,GAAG,IAAIyB,EAAE6H,eAAe,IAAI7H,EAAE6H,cAAczH,OAAO,OAAM,EAAG,MAAM9B,EAAE0B,EAAE6H,cAAc,GAAGK,YAAY,GAAG5J,GAAG,MAAMA,EAAE8H,UAAU,MAAM9H,EAAE+H,SAAS,CAAC,MAAMjF,EAAE5C,KAAK0I,qBAAqB3I,EAAED,GAAG,GAAG0B,EAAEyH,kBAAkBrJ,IAAEsJ,YAAYtG,EAAEC,IAAE8G,OAAO,OAAM,CAAE,CAAC,OAAM,CAAE,CAACzB,oBAAoB1G,GAAG,GAAGxB,KAAKwH,YAAYxH,KAAKkG,kBAAkBM,UAAU,OAAO,MAAMzG,EAAEyB,EAAEoI,OAAO9J,EAAE0B,EAAEqI,MAAMnI,EAAE1B,KAAKyI,qBAAqB3I,GAAG,IAAII,GAAE,EAAG,MAAME,EAAEJ,KAAKkG,kBAAkBU,KAAKc,iBAAiBlE,EAAEhC,EAAEkG,iBAAiB,GAAG7F,YAAE2B,GAAG,YAAYqC,EAAEiE,MAAM,oEAAoE,MAAMzF,GAAGb,EAAEuG,OAAO3J,GAAG,GAAGiE,IAAO9C,YAAExB,EAAEyD,EAAEG,EAAEvD,GAAG,YAAYyF,EAAEiE,MAAM,yDAAyDtG,EAAE,YAAYpD,GAAG,MAAMU,EAAEuD,EAAEV,EAAE5D,EAAEC,KAAKoG,yBAAyBtF,EAAEV,GAAGoB,IAAI,MAAMD,EAAEvB,KAAKqG,aAAa2D,yBAAyBxI,GAAG,GAAGK,YAAEN,GAAG,OAAO,MAAMnB,EAAEmB,EAAEmE,SAAS9C,YAAExC,KAAKL,EAAE,GAAGK,EAAE2B,GAAGhC,EAAE,GAAGK,EAAEyF,GAAG9F,EAAE,GAAGK,EAAE2B,GAAGhC,EAAE,GAAGK,EAAEyF,KAAKtE,EAAE0H,kBAAkBrJ,IAAEsJ,YAAYxH,EAAEmB,IAAEsG,WAAWjJ,GAAE,GAAIF,KAAKsJ,4BAA4B/H,EAAEzB,KAAKI,GAAE,GAAI,IAAIA,IAAIF,KAAKkG,kBAAkBU,KAAK2C,aAAaC,WAAWxJ,KAAKkG,kBAAkBU,KAAK6C,QAAQD,WAAW,CAACnC,gCAAgCrH,KAAK2G,2BAA2B3G,KAAK+F,kBAAkB/F,KAAKqG,aAAa4D,qCAAqCzI,GAAGA,EAAE0I,oBAAoBtK,IAAEsJ,eAAelJ,KAAK+F,mBAAmB/F,KAAKqG,aAAa8D,8BAA8BnK,KAAKwH,WAAW,GAAG,SAAS5D,EAAEpC,EAAEzB,GAAG,OAAOyB,EAAE,GAAGzB,EAAE,CAAC,CAACyB,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,yBAAoB,GAAQ5I,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,aAAQ,GAAQ5I,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,gCAA2B,GAAQ5I,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,oBAAe,GAAQ5I,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,sBAAiB,GAAQ5I,YAAE,CAACE,YAAE,CAAC2I,eAAc,KAAMvJ,EAAEsJ,UAAU,yBAAoB,GAAQ5I,YAAE,CAACE,YAAE,CAAC4I,UAAS,KAAMxJ,EAAEsJ,UAAU,iBAAY,GAAQ5I,YAAE,CAACE,YAAE,CAAC4I,UAAS,KAAMxJ,EAAEsJ,UAAU,WAAW,MAAM5I,YAAE,CAACE,eAAKZ,EAAEsJ,UAAU,cAAS,GAAQtJ,EAAEU,YAAE,CAACtB,YAAE,4DAA4DY,GAAG,MAAM4B,EAAE,iBAAiBiB,EAAEvD,cAAImK,EAAEzJ,C,mdCAnnL,MAAMe,EAAE3B,IAAEsK,uBAAuBzK,KAAGK,EAAEoB,IAAEiJ,qBAAqBlJ,KAAGgJ,EAAEzK,IAAE4K,qBAAqBlH,KAAGI,EAAE,IAAID,IAAE,CAACgH,aAAa,CAAC,IAAI/H,IAAE,CAACgI,SAAS,CAACC,MAAMpJ,KAAGqJ,MAAM,IAAIpJ,IAAE,CAACqJ,KAAK,MAAMF,MAAMhF,WAAS,SAASnD,EAAEE,GAAG,GAAGC,YAAED,GAAG,OAAO,KAAK,OAAOA,EAAEiG,MAAM,IAAI,OAAO,OAAOjF,EAAE,IAAI,QAAQ,IAAI,aAAa,OAAO/B,EAAE,IAAI,WAAW,OAAOzB,EAAE,IAAI,UAAU,IAAI,SAAS,OAAOmK,EAAE,OAAO,IAAI,C,6ECA+C,IAAIrK,EAAE,cAAcsB,IAAE3B,YAAYC,GAAGiF,MAAMjF,GAAGE,KAAKgL,OAAO,IAAIpI,IAAE5C,KAAK2F,KAAK,KAAK3F,KAAK4F,KAAK,KAAK5F,KAAKiL,cAAc,KAAKjL,KAAKkL,qBAAqB,KAAKlL,KAAKmL,eAAe,CAAC9F,aAAa,CAACvF,EAAE0B,IAAI,YAAY1B,EAAEA,EAAE8I,QAAQxD,WAAW5D,GAAG6C,IAAEgB,aAAavF,EAAE0B,GAAG2D,cAAcrF,GAAG,YAAYA,EAAEA,EAAE8I,QAAQxD,WAAWf,IAAEc,cAAcrF,GAAGmF,YAAYnF,GAAG,YAAYA,EAAE0D,YAAE1D,EAAE8I,QAAQ5I,KAAKiL,eAAe5G,IAAEY,YAAYnF,GAAGyF,YAAYzF,GAAG,YAAYA,EAAEA,EAAEsL,uBAAuBpL,KAAK2F,KAAK3F,KAAK4F,MAAMvB,IAAEkB,YAAYzF,GAAG2F,YAAY,CAAC3F,EAAE0B,KAAK,GAAG,YAAY1B,EAAE,CAAC,IAAI8C,EAAE,KAAKC,YAAE/C,EAAE4F,UAAU9C,EAAE9C,EAAE4F,SAAS,UAAU5F,EAAE8I,QAAQpD,SAASqD,MAAMzI,YAAEN,EAAE8I,QAAQpD,SAAS5B,GAAE5D,KAAKkL,wBAAwBtI,EAAEgB,IAAG,MAAM7D,EAAE,IAAIsL,MAAM,GAAG7J,EAAEmE,KAAK,EAAE,IAAInE,EAAEoE,KAAK,EAAE,IAAI,OAAOlE,YAAEkB,IAAI7C,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,IAAIA,EAAE,GAAG6C,EAAEb,EAAEhC,EAAE,GAAG6C,EAAEiD,EAAErE,EAAEmE,OAAO5F,EAAE,GAAG6C,EAAE+C,KAAK/C,EAAE0I,EAAE,GAAG9J,EAAEoE,OAAO7F,EAAEyB,EAAEmE,KAAK,EAAE,GAAG/C,EAAEgD,KAAKhD,EAAEe,EAAE,IAAI,IAAI/D,IAAE,GAAGG,EAAE,CAAC,OAAOsE,IAAEoB,YAAY3F,EAAE0B,EAAE,EAAE8D,kBAAkB,CAACxF,EAAE0B,IAAI,YAAY1B,EAAE,IAAIyB,IAAEC,EAAExB,KAAKmL,eAAehG,cAAcrF,GAAG,KAAKE,KAAKmL,eAAelG,YAAYnF,IAAIuE,IAAEiB,kBAAkBxF,EAAE0B,GAAG,CAAC+J,gBAAgBzL,EAAE0B,GAAGxB,KAAKwL,kBAAkBD,gBAAgBzL,EAAE0B,EAAE,CAACiK,cAAc3L,EAAE0B,EAAEoB,GAAG,MAAMlB,EAAE1B,KAAKwL,kBAAkB,IAAI,MAAMzL,KAAKD,EAAE,CAAC,MAAMA,EAAEE,KAAKmL,eAAelG,YAAYlF,GAAG8C,YAAEnB,EAAEgK,UAAU5L,EAAE8C,KAAKpB,EAAEoB,EAAE,CAAC,GAAG9C,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,uBAAkB,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,eAAU,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,eAAU,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,YAAO,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,YAAO,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,qBAAgB,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,4BAAuB,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMnK,EAAEkK,UAAU,+BAA0B,GAAQlK,EAAEJ,YAAE,CAAC+B,YAAE,yDAAyD3B,GAAG,MAAM0D,GAAE,CAACiF,KAAK,QAAQ9G,EAAE,EAAE8D,EAAE,EAAEF,MAAK,EAAGC,MAAK,EAAG8B,iBAAiB,M,cCAlqF,MAAMlG,GAAE3B,YAAY2B,GAAGxB,KAAK2L,SAASnK,EAAExB,KAAK4L,gBAAgB,KAAK5L,KAAK6L,oBAAoB,KAAK7L,KAAK8L,kBAAkB,KAAK9L,KAAK+L,SAAS,KAAK/L,KAAKgM,MAAM,KAAKhM,KAAKiM,eAAe,KAAKjM,KAAKkM,mBAAmB,KAAKlM,KAAKmM,UAAU,KAAKnM,KAAKmG,MAAM,KAAKnG,KAAKoM,oBAAoB,KAAKpM,KAAKkG,kBAAkB,KAAKlG,KAAKqM,mBAAmB,KAAKrM,KAAKsM,6BAA6B,KAAKtM,KAAKuM,8BAA6B,EAAGvM,KAAKwM,mBAAkB,EAAGxM,KAAKyM,+BAA8B,EAAGzM,KAAK0M,oBAAmB,EAAG1M,KAAK2M,SAAQ,CAAE,E,mCCAjO,MAAMjL,WAAUxB,KAAEL,YAAY+C,EAAE9C,EAAE+B,GAAGkD,MAAMnC,EAAE9C,EAAE+B,GAAG7B,KAAK4M,oBAAoB,KAAK5M,KAAK6M,OAAOC,sBAAsB9M,KAAK4M,oBAAoB/J,aAAE7C,KAAK6M,OAAO/M,GAAG,CAACiN,aAAajN,GAAG,MAAM+B,EAAE7B,KAAK4M,oBAAoBhK,aAAE5C,KAAK4M,oBAAoBzK,QAAQ,KAAK,UAAU4C,MAAMiI,OAAOlN,GAAG0B,YAAE1B,EAAyD,CAAtD,MAAM+C,GAAE,MAAC,MAA8B,OAAxB,EAAA7C,KAAK4M,sBAAL,EAA0BK,YAAYpK,CAAC,CAAChB,SAASA,CAAC,CAAChB,UAAUkE,MAAMlE,UAAUb,KAAK4M,oBAAoB9M,YAAEE,KAAK4M,oBAAoB,CAACM,wBAAwBtK,EAAE9C,GAAG,MAAM0B,EAAEuD,MAAMmI,wBAAwBtK,EAAE9C,GAAG,GAAG+B,YAAE7B,KAAK4M,sBAAsB/K,YAAEL,GAAG,CAAC,MAAM1B,EAAEE,KAAKmN,sBAAsBvK,GAAGf,YAAE/B,IAAI0B,EAAE4L,oBAAoBtN,EAAE,CAAC,OAAO0B,CAAC,CAAC6L,sBAAsBzK,EAAE9C,GAAG,QAAQiF,MAAMsI,sBAAsBzK,EAAE9C,MAAME,KAAK4M,qBAAqB5M,KAAK4M,oBAAoBS,sBAAsBzK,EAAE9C,GAAG8C,GAAG5C,KAAKsN,wBAAwB1K,KAAK,CAAC2K,eAAe3K,EAAE9C,GAAG,MAAM+B,EAAEkD,MAAMwI,eAAe3K,EAAE9C,GAAG,GAAG+B,GAAG7B,KAAK4M,oBAAoB,CAAC,MAAM/K,EAAE7B,KAAKsN,wBAAwB1K,GAAG,GAAGf,EAAE,OAAO7B,KAAK4M,oBAAoBW,eAAe1L,EAAE/B,EAAE,CAAC,OAAO+B,CAAC,CAACsL,sBAAsBvK,GAAG,MAAM9C,EAAE8C,EAAE4K,cAAc3L,EAAE,CAACkK,SAASjM,EAAEiM,SAASc,OAAO/M,EAAE+M,OAAOY,YAAY,CAAC,EAAE,EAAE,GAAGC,aAAa,CAAC,EAAE,EAAE,EAAE,GAAGC,aAAa,CAAC,EAAE,GAAGC,kBAAkB,QAAQC,gBAAgB,EAAEC,mBAAmB,MAAM,OAAOlL,EAAE4K,cAAc3L,EAAE7B,KAAK4M,oBAAoBM,wBAAwBtK,EAAE,CAAC0K,wBAAwB1K,GAAG,IAAI,MAAM9C,KAAK8C,EAAEmL,mBAAmB,GAAGjO,EAAEkO,wBAAwBhO,KAAK4M,oBAAoB,OAAO9M,CAAC,E,cCA3+C,MAAM4B,GAAE7B,YAAYC,GAAGE,KAAKiO,cAAcnO,EAAEE,KAAKkO,WAAW,IAAIC,IAAInO,KAAKoO,QAAQ,IAAIC,IAAI,MAAMtO,EAAED,EAAEwO,MAAMnI,OAAOrG,EAAEwO,MAAMnI,MAAM8E,cAAclL,GAAGC,KAAKuO,cAAczO,GAAG0B,YAAE1B,EAAEC,GAAGC,KAAKwO,0BAA0B1O,GAAGE,KAAKiO,cAAcQ,+BAA+B3O,KAAKE,KAAKuO,cAAczO,GAAGA,EAAE4O,IAAI1O,KAAKwO,0BAA0B1O,GAAGE,KAAKiO,cAAcjE,yBAAyBlK,GAAG,CAACe,UAAUb,KAAKkO,WAAWtN,QAAQZ,KAAKoO,QAAQO,SAAS,CAAC7O,EAAEC,IAAIC,KAAK2C,OAAO5C,IAAI,CAACiH,IAAIlH,GAAG,MAAM0B,EAAE,CAACmB,OAAO,IAAI3C,KAAK2C,OAAO7C,IAAI,GAAGE,KAAKoO,QAAQpG,IAAIlI,GAAG,OAAO0B,EAAE,MAAME,EAAE1B,KAAKuO,cAAczO,EAAE8I,SAAS/G,EAAE7B,KAAKwO,0BAA0B9M,GAA4C,OAAzC1B,KAAKoO,QAAQpG,IAAIlI,IAAIE,KAAKoO,QAAQpH,IAAIlH,GAAUE,KAAK4O,iBAAiBlN,GAAGM,KAAKlC,GAAGA,EAAE+O,aAAa9O,YAAE8B,IAAIA,EAAEiN,YAAYhP,EAAEiP,WAAWhP,YAAE8B,IAAIA,EAAEkN,SAASjP,EAAEkP,UAAS,EAAGjP,YAAE8B,IAAI/B,EAAEmP,KAAK,UAAU,CAAC,GAAGzN,CAAC,CAACmB,OAAO5C,GAAG,GAAGC,KAAKoO,QAAQpG,IAAIjI,GAAG,CAAC,GAAGC,KAAKkO,WAAWnD,KAAK,CAAC,MAAMvJ,EAAExB,KAAKuO,cAAcxO,EAAE6I,SAASlH,EAAE1B,KAAKkO,WAAWgB,IAAI1N,GAAGE,IAAI5B,YAAE4B,EAAE3B,GAAG,IAAI2B,EAAEE,QAAQ5B,KAAKkO,WAAWiB,OAAO3N,GAAG,CAACxB,KAAKoO,QAAQe,OAAOpP,GAAGA,EAAEiP,UAAS,EAAGjP,EAAE8O,YAAW,CAAE,CAAC,CAACO,WAAWtP,GAAGE,KAAKqP,cAAcvP,GAAGC,IAAIA,EAAE8O,WAAW/O,EAAEgP,YAAY/O,EAAEgP,SAASjP,EAAEiP,SAAShP,EAAEkP,KAAK,UAAU,CAAC,EAAE,GAAG,CAACK,cAAcxP,GAAGE,KAAKqP,cAAcvP,GAAGA,IAAIA,EAAE+O,YAAW,EAAG/O,EAAEiP,UAAS,CAAE,GAAG,CAACQ,sBAAsBzP,GAAGE,KAAKqP,cAAcvP,GAAGA,IAAIA,EAAEmP,KAAK,UAAU,CAAC,EAAE,GAAG,CAACO,wBAAwB1P,GAAGE,KAAKqP,cAAcvP,GAAGC,IAAIA,EAAE8O,WAAW/O,EAAEgP,WAAW,GAAG,CAACW,qBAAqBzP,KAAKoO,QAAQO,SAAS7O,IAAIA,EAAE+O,YAAW,CAAE,GAAG,CAACD,iBAAiB9O,GAAG,MAAMC,EAAEC,KAAKkO,WAAWgB,IAAIpP,GAAG,GAAGC,EAAE,OAAOA,EAAE,MAAMyB,EAAE,IAAI6J,MAAM,OAAOrL,KAAKkO,WAAWwB,IAAI5P,EAAE0B,GAAGA,CAAC,CAAC6N,cAAcvP,EAAEC,GAAG,GAAG,IAAIC,KAAKoO,QAAQrD,MAAM,IAAI/K,KAAKkO,WAAWnD,KAAK,OAAO,MAAMvJ,EAAExB,KAAKuO,cAAczO,EAAE8I,SAASlH,EAAE1B,KAAKkO,WAAWgB,IAAI1N,GAAG,MAAME,GAAGA,EAAEiN,QAAQ5O,EAAE,E,6CCArsC,IAAIsE,GAAE,cAAc7C,IAAE3B,YAAYC,GAAGiF,MAAMjF,GAAGE,KAAK2P,OAAO,IAAIpO,KAAE,EAAEyG,YAAI,yBAAyBlI,IAAC,CAAI0E,KAAK1E,EAAE8J,OAAO,GAAGnF,KAAK3E,EAAE8J,OAAO,GAAGlF,KAAK5E,EAAE8J,OAAO,GAAGjF,KAAK7E,EAAE8J,OAAO,KAAK,CAAC,aAAa,aAAa,aAAa,eAAe5J,KAAK4P,SAAS,IAAIvB,IAAIrO,KAAK6P,iBAAiB,IAAI1B,IAAInO,KAAK0H,iBAAiB,KAAK1H,KAAK2F,KAAK,KAAK3F,KAAK4F,KAAK,KAAK5F,KAAKiL,cAAc,KAAKjL,KAAKuH,UAAS,CAAE,CAACuI,MAAMhQ,GAAGE,KAAK+P,SAASjQ,EAAE,CAACe,UAAUb,KAAK4P,SAAShP,QAAQZ,KAAK2P,OAAO9O,UAAUb,KAAK2P,OAAO,KAAK3P,KAAK6P,iBAAiBjP,QAAQZ,KAAK6P,iBAAiB,IAAI,CAACG,SAAShQ,KAAK4P,SAAS7E,KAAK,IAAI/K,KAAK+P,SAAS1E,MAAM4E,KAAKjQ,KAAK4P,SAASM,WAAWlQ,KAAKuH,UAAS,EAAGvH,KAAK4P,SAAShP,QAAQ,CAAKuP,wBAAoB,OAAOnQ,KAAK4P,SAAS7E,IAAI,CAAC3E,yBAAyBtG,EAAE0B,EAAEzB,IAAI2B,YAAEF,IAAIA,EAAEuI,OAAO/J,KAAK0H,oBAAoB9D,GAAEY,KAAK1E,EAAE,GAAG8D,GAAEa,KAAK3E,EAAE,GAAG8D,GAAEc,KAAK5E,EAAE,GAAG8D,GAAEe,KAAK7E,EAAE,GAAGE,KAAKgQ,SAAShQ,KAAK2P,OAAOrO,OAAOsC,IAAG9D,GAAGC,EAAED,EAAE8I,QAAQ8F,OAAO,CAAC1H,IAAIlH,GAAGE,KAAK4P,SAAS5I,IAAIlH,GAAGE,KAAKuH,UAAS,CAAE,CAAC5E,OAAO7C,GAAG,GAAGE,KAAK4P,SAAST,OAAOrP,GAAG,YAAYE,KAAKuH,SAASvH,KAAK4P,SAAS7E,KAAK,GAAG/K,KAAK2P,OAAOhN,OAAO7C,GAAG,MAAM0B,EAAEK,YAAE/B,EAAE8I,QAAQ5I,KAAKoQ,KAAK,kBAAkB,MAAM5O,GAAGxB,KAAK6P,iBAAiBV,OAAO3N,EAAE,CAACuO,SAASjQ,GAAG,GAAG,IAAIA,EAAE8B,OAAO,OAAO,MAAMJ,EAAExB,KAAKoQ,KAAK,iBAAiB,IAAI,MAAM1O,KAAK5B,EAAE,CAAC4B,EAAE2O,cAAcrQ,KAAK0H,kBAAkB,MAAM5H,EAAE+B,YAAEH,EAAEkH,QAAQpH,GAAG,MAAM1B,GAAGE,KAAK6P,iBAAiBH,IAAI5P,EAAE4B,EAAEkI,OAAO,CAAC5J,KAAK2P,OAAOxN,KAAKrC,EAAE,CAACc,QAAQZ,KAAK2P,OAAO/O,QAAQZ,KAAK4P,SAAShP,QAAQZ,KAAK6P,iBAAiBjP,QAAQZ,KAAKuH,UAAS,CAAE,CAACgE,gBAAgBzL,EAAE0B,GAAGoC,GAAEY,KAAK1E,EAAE,GAAG8D,GAAEa,KAAK3E,EAAE,GAAG8D,GAAEc,KAAK5E,EAAE,GAAG8D,GAAEe,KAAK7E,EAAE,GAAGE,KAAKgQ,SAAShQ,KAAK2P,OAAOrO,OAAOsC,IAAG9D,IAAI0B,EAAE1B,EAAE,GAAG,CAAC4L,UAAU5L,EAAE0B,GAAGxB,KAAKgQ,SAAS,MAAMtO,EAAE1B,KAAK6P,iBAAiBX,IAAIpP,GAAG,OAAO4B,EAAEmB,YAAErB,EAAEE,GAAG,IAAI,GAAG5B,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMhG,GAAE+F,UAAU,wBAAmB,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMhG,GAAE+F,UAAU,YAAO,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMhG,GAAE+F,UAAU,YAAO,GAAQtK,YAAE,CAACC,YAAE,CAACsK,eAAc,KAAMhG,GAAE+F,UAAU,qBAAgB,GAAQtK,YAAE,CAACC,eAAKsE,GAAE+F,UAAU,gBAAW,GAAQtK,YAAE,CAACC,YAAE,CAACuK,UAAS,KAAMjG,GAAE+F,UAAU,oBAAoB,MAAM/F,GAAEvE,YAAE,CAAC8C,YAAE,iDAAiDyB,IAAG,MAAMT,GAAE,CAACY,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,G,qDCAljD,IAAIjC,GAAE,cAAcG,IAAEyN,aAAaxQ,MAAID,YAAY2B,GAAGuD,MAAMvD,GAAGxB,KAAKuQ,iBAAiB,EAAEvQ,KAAKwQ,aAAa,IAAI5N,GAAC,CAAK8E,uBAAkB,MAAC,OAAgB,OAAhB,EAAO1H,KAAK4G,WAAI,EAAT,EAAWc,gBAAgB,CAAChB,aAAa1G,KAAKyQ,oBAAoBzQ,KAAK4G,KAAKsF,mBAAmBlM,KAAK0Q,iBAAiB,CAAC1Q,KAAK2Q,YAAY3Q,KAAK4Q,aAAa9P,aAAEd,KAAK4G,KAAKiK,MAAMC,aAAa9Q,KAAK4Q,aAAaG,QAAQC,MAAM1N,KAAE2N,IAAI,MAAMzP,EAAExB,KAAKkR,oBAAoBlR,KAAK0H,iBAAiB1H,KAAK2Q,YAAY3Q,KAAKmR,MAAM3P,EAAE,GAAGxB,KAAKoR,MAAM5P,EAAE,GAAG,MAAM1B,EAAEE,KAAK2Q,WAAW3F,OAAOhL,KAAKwQ,aAAaxJ,IAAI,CAAClH,EAAEmI,GAAG,oBAAoBzG,GAAGxB,KAAKqR,eAAe7P,EAAE8P,UAAUxR,EAAEmI,GAAG,sBAAsBzG,GAAGxB,KAAKqR,eAAe7P,EAAE8P,UAAUxR,EAAEmI,GAAG,uBAAuBzG,GAAGxB,KAAKqR,eAAe7P,EAAE8P,UAAUxR,EAAEmI,GAAG,yBAAyBzG,GAAGxB,KAAKqR,eAAe7P,EAAE8P,UAAUxR,EAAEmI,GAAG,sBAAsBzG,GAAGxB,KAAKqR,eAAe7P,EAAE8P,UAAUxR,EAAEmI,GAAG,wBAAwBzG,GAAGxB,KAAKqR,eAAe7P,MAAM,CAAC+P,UAAUvR,KAAKwQ,aAAa3P,SAAS,CAAC2Q,uBAAuB,MAAMhQ,EAAE,MAAMxB,KAAKmG,MAAMnG,KAAKmG,MAAMsL,cAAc,KAAK,GAAG,MAAMjQ,GAAG,kBAAkBA,EAAEkQ,KAAK,CAAC,MAAM5R,EAAEM,aAAEJ,KAAKmG,MAAMuB,kBAAkB7E,EAAEgD,aAAErE,EAAEmQ,MAAM3R,KAAKuQ,iBAAiBhP,YAAEC,EAAEoQ,OAAO,GAAG/O,EAAE/C,CAAC,MAAME,KAAKuQ,iBAAiB,CAAC,CAACsB,aAAarQ,EAAE1B,EAAE+C,EAAED,GAAG,GAAGkP,GAAE,GAAGtQ,EAAEsQ,GAAE,GAAGhS,EAAEgS,GAAE,GAAGjP,GAAG7C,KAAKyQ,oBAAoBsB,eAAeD,GAAElP,EAAEkP,IAAG,OAAOpQ,IAAEoE,UAAU9F,KAAKgS,eAAelI,MAAM,mDAAmD,KAAK,MAAMvI,EAAEvB,KAAKuQ,iBAAiBxQ,EAAEC,KAAKmR,MAAM5P,EAAEM,EAAE7B,KAAKoR,MAAM7P,EAAEvB,KAAKyQ,oBAAoBwB,YAAYC,GAAErQ,EAAEiQ,IAAG9R,KAAKyQ,oBAAoBwB,YAAYE,GAAEpS,EAAE+R,IAAuD,OAAO9R,KAAK4Q,aAAawB,MAAMF,GAAEC,GAAE,MAAMnS,KAAK4Q,aAAayB,UAAUrS,KAAK0Q,iBAAiB,KAAtnD,EAA6nD,MAA9IlP,GAAGA,EAAE8Q,UAAU9Q,EAAE8Q,SAASC,oBAA4HvS,KAAK4Q,aAAa4B,QAAQ/O,IAAIgP,qBAAqBX,IAAG9R,KAAKyQ,oBAAoBiC,YAAYZ,IAAG,IAAI,CAACT,eAAe7P,GAAE,MAAC,MAAM1B,EAAEE,KAAK0H,iBAAiB,GAAc,OAAX,EAAClG,EAAE8Q,YAAF,EAAYC,mBAAmBxS,YAAED,GAAG,OAAOF,YAAEmC,IAAG,MAAM4Q,qBAAqB9P,GAAGrB,EAAE8Q,SAASzP,EAAE+P,WAAW5S,KAAK6S,cAAc/S,EAAE+C,EAAEY,IAAIZ,EAAErC,IAAIuB,IAAG,MAAM0B,IAAIb,EAAEpC,IAAIkB,GAAGF,EAAEsR,yBAAyB9S,KAAK6S,cAAc/S,EAAE8C,EAAElB,EAAEK,IAAG6B,YAAE7B,GAAEgR,IAAG/S,KAAKmR,MAAM5Q,KAAKkD,IAAIzD,KAAKmR,MAAMpP,GAAE,IAAI/B,KAAKoR,MAAM7Q,KAAKC,IAAIR,KAAKoR,MAAMrP,GAAE,IAAIiR,GAAEpJ,OAAOmJ,GAAEC,GAAEtL,iBAAiB5H,EAAEE,KAAKiP,KAAK,mBAAmB+D,IAAGrP,YAAEd,EAAEY,IAAIb,GAAGe,YAAEd,EAAErC,IAAIkB,EAAE,CAACwP,oBAAoB1P,EAAE1B,GAAG,OAAOF,YAAEmC,IAAGF,YAAEL,IAAI1B,EAAEmT,QAAQC,QAAQpT,GAAGE,KAAK6S,cAAcrR,EAAE1B,EAAEgT,yBAAyBrP,IAAI3D,EAAEgT,yBAAyBtS,IAAIuB,MAAKA,EAAC,CAAC8Q,cAAcrR,EAAE1B,EAAE+C,EAAED,GAAG,IAAI,IAAIlB,EAAE,EAAEA,EAAE,IAAIA,EAAEoQ,GAAE,GAAG,EAAEpQ,EAAE5B,EAAE,GAAG+C,EAAE,GAAGiP,GAAE,GAAG,EAAEpQ,EAAE5B,EAAE,GAAG+C,EAAE,GAAGiP,GAAE,GAAG,EAAEpQ,EAAE5B,EAAE,GAAG+C,EAAE,GAAG7C,KAAKyQ,oBAAoB0C,iBAAiBrB,GAAEA,GAAEtQ,GAAGC,YAAEmB,EAAEkP,IAAG,OAAOlP,CAAC,GAAGpB,YAAE,CAACtB,YAAE,CAACmK,eAAc,KAAM3H,GAAE0H,UAAU,aAAQ,GAAQ5I,YAAE,CAACtB,YAAE,CAACmK,eAAc,KAAM3H,GAAE0H,UAAU,kBAAa,GAAQ5I,YAAE,CAACtB,YAAE,CAACmK,eAAc,KAAM3H,GAAE0H,UAAU,YAAO,GAAQ5I,YAAE,CAACtB,eAAKwC,GAAE0H,UAAU,mBAAmB,MAAM1H,GAAElB,YAAE,CAAC6C,YAAE,6DAA6D3B,IAAG,MAAMX,GAAEnC,cAAImT,GAAE7O,cAAI8O,GAAE,CAACtL,iBAAiB,KAAKkC,OAAOmJ,GAAEK,QAAQ,SAAStB,GAAEtO,cAAI0O,GAAE1O,cAAI2O,GAAE3O,c,ICA4d6P,G,2GAAG,MAAMC,GAAGhQ,cAAIiQ,GAAGC,cAAIC,GAAG,+CAA+CC,GAAGnS,IAAEuE,UAAU2N,IAAI,IAAIE,GAAGN,GAAG,cAAcvT,IAAED,YAAY2B,GAAGuD,MAAMvD,GAAGxB,KAAK4T,gBAAgB,IAAIC,KAAG,CAACC,eAAeC,MAAI/T,MAAMA,KAAK8T,eAAe,KAAK9T,KAAKgU,gBAAgB,KAAKhU,KAAKiU,+BAA8B,EAAGjU,KAAKkU,sBAAsB,KAAKlU,KAAKmU,sBAAsB,IAAIC,IAAI,CAAC5S,EAAEzB,IAAIC,KAAKqU,WAAW1I,SAASnK,EAAEzB,KAAKC,KAAKsU,mBAAmB,IAAInG,IAAInO,KAAK2Q,WAAW,KAAK3Q,KAAKgM,MAAM,KAAKhM,KAAKuU,oBAAoB,IAAIlG,IAAIrO,KAAKwU,kBAAkB,IAAIrG,IAAInO,KAAKyU,uBAAuB,IAAItG,IAAInO,KAAK0U,SAAS,IAAIvG,IAAInO,KAAK2U,uBAAuB,IAAIxG,IAAInO,KAAK4U,0BAA0B,IAAIzG,IAAInO,KAAK6U,kBAAkB,EAAE7U,KAAK8U,SAAS,IAAIpT,IAAE1B,KAAKqU,WAAWU,KAAG/U,KAAKgV,uBAAsB,EAAGhV,KAAKiV,sBAAsB,KAAKjV,KAAKkV,gBAAgB,KAAKlV,KAAKmV,+BAA+B,KAAKnV,KAAKoV,oCAAoC,KAAKpV,KAAKqV,2BAA2B,KAAKrV,KAAKsV,iBAAiB,KAAKtV,KAAKuV,kBAAkB,KAAKvV,KAAKwV,cAAc,KAAKxV,KAAKyV,cAAc,EAAEzV,KAAK0V,qCAAqC,KAAK1V,KAAK2V,cAAc,KAAK3V,KAAK4V,cAAc,KAAK5V,KAAK6V,SAAS,KAAK7V,KAAK8V,cAAc,KAAK9V,KAAK+V,uBAAuB,KAAK/V,KAAKgW,6BAA6B,KAAKhW,KAAKiW,kCAAkC,KAAKjW,KAAKkW,+BAA+B,CAAC,EAAElW,KAAKmW,gBAAgB,IAAIhI,IAAInO,KAAKoW,kBAAkB,EAAEpW,KAAKqW,oCAAoC,EAAErW,KAAKsW,aAAa,EAAEtW,KAAKuW,gBAAgB,EAAEvW,KAAKwW,gBAAgB,EAAExW,KAAKyW,oBAAoB,IAAI7S,IAAE,CAAC8S,UAAUlV,GAAGA,GAAG,IAAImV,GAAG/R,YAAYpD,IAAIA,EAAEZ,QAAQY,KAAKxB,KAAK4W,sBAAqB,EAAG5W,KAAK6W,wBAAuB,EAAG7W,KAAK8W,sBAAsB,IAAIzI,IAAIrO,KAAK+W,mBAAmB,IAAInT,IAAE5D,KAAKgX,sBAAsBC,KAAGC,KAAKlX,KAAKmX,mBAAmB,KAAKnX,KAAKoX,mCAAkC,EAAGpX,KAAKsO,MAAM,KAAKtO,KAAKmG,MAAM,KAAKnG,KAAKqX,wBAAuB,EAAGrX,KAAKsX,iCAAgC,EAAGtX,KAAKuX,iBAAgB,EAAGvX,KAAK2F,KAAK,KAAK3F,KAAK4F,KAAK,KAAK5F,KAAKwX,YAAY,EAAExX,KAAKyX,cAAS,EAAOzX,KAAK0X,sBAAqB,CAAE,CAAKC,mBAAc,MAAC,OAAO3X,KAAKwV,gBAAgBxV,KAAKwV,cAAc,IAAIoC,GAAG,CAAC3M,cAA8B,OAAjB,EAACjL,KAAKsO,MAAMnI,YAAK,EAAhB,EAAkB8E,cAAcvD,iBAAiB1H,KAAKiV,sBAAsBtP,KAAK3F,KAAK2F,KAAKC,KAAK5F,KAAK4F,OAAO5F,KAAKwV,cAAc1F,MAAMzE,MAAM4E,KAAKjQ,KAAKsU,mBAAmBpE,YAAYlQ,KAAKwV,cAAcxF,SAAShQ,KAAKwV,aAAa,CAAKqC,uBAAmB,OAAO7X,KAAKoW,iBAAiB,CAAK0B,4BAAwB,OAAOlY,YAAEI,KAAKgU,kBAAkB,eAAehU,KAAKgU,gBAAgBnL,KAAKoO,KAAGc,MAAM1T,YAAErE,KAAKmX,mBAAmBnX,KAAKgX,sBAAsB,CAAKgB,mBAAe,OAAOhY,KAAK2V,aAAa,CAAKsC,wBAAoB,OAAOjY,KAAKkY,kBAAkB,CAAKC,sBAAkB,OAAOnY,KAAKsV,gBAAgB,CAAK8C,yBAAqB,OAAOpY,KAAKqY,mBAAmB,CAAKC,mBAAe,OAAOtY,KAAK8V,aAAa,CAAKyC,uBAAmB,OAAOvY,KAAKuV,iBAAiB,CAAKhO,eAAU,MAAC,SAASvH,KAAK4U,0BAA0B7J,KAAK,GAAG/K,KAAKmI,SAAiC,OAA1B,EAAEnI,KAAKqY,sBAAL,EAA0B9Q,UAAU3H,YAAEI,KAAKsV,mBAAmBtV,KAAKsV,iBAAiB/N,UAAU3H,YAAEI,KAAKuV,oBAAoBvV,KAAKuV,kBAAkBhO,UAAUvH,KAAKmV,gCAAgCnV,KAAKoV,qCAAqCpV,KAAK0V,sCAAsC1V,KAAKqU,WAAW9M,UAAUvH,KAAKwW,gBAAgB,EAAE,CAAKrO,cAAS,MAAC,OAAOnI,KAAKmW,gBAAgBpL,KAAK,KAAuB,OAAnB,EAAC/K,KAAKwV,iBAAL,EAAoBjO,SAAQ,CAAKiR,+BAA0B,MAAC,OAAOxY,KAAKsO,MAAM9H,YAAiC,OAAxB,EAAExG,KAAKsO,MAAMmK,kBAAW,EAAtB,EAAwBC,cAAa,CAAKvI,wBAAmB,QAAC,OAAOnQ,KAAKuH,SAASvH,KAAKmW,gBAAgBpL,KAAK,KAAsB,OAAlB,EAAA/K,KAAKwV,oBAAa,EAAlB,EAAoBrF,oBAAmB,GAAG,KAA4B,OAAxB,EAAAnQ,KAAKqY,0BAAmB,EAAxB,EAA0BlI,oBAAmB,GAAG,CAAC,CAAKwI,0BAAsB,MAAMnX,EAAExB,KAAKsO,OAAOtO,KAAKsO,MAAM1H,MAAM5G,KAAKsO,MAAM1H,KAAKgS,gBAAgB7Y,EAAEyB,EAAEA,EAAEqX,WAAWC,yBAAyB,EAAEhZ,EAAE0B,EAAEA,EAAEqX,WAAWE,yBAAyB,EAAEnW,EAAEpB,EAAEA,EAAEqX,WAAWG,2BAA2B,EAAEtX,EAAE1B,KAAKiZ,wBAAwBpX,EAAEtB,KAAKC,IAAI,EAAEZ,YAAE8B,GAAGA,EAAEwX,qBAAqB,GAAG3X,EAAE3B,YAAE8B,IAAIA,EAAEyX,oBAAoB,EAAErZ,EAAE4B,EAAEyX,oBAAoB,GAAGrZ,EAAE+C,EAAEtC,KAAKG,KAAKkC,EAAEf,GAAG3B,EAAEK,KAAKC,IAAIT,EAAEQ,KAAKkD,IAAI3D,EAAE+C,EAAEtB,IAAI8C,EAAErE,KAAKoQ,KAAK,uBAAuB,OAAO/L,GAAGA,EAAE+U,+BAA+BrZ,GAAGsE,EAAEgV,+BAA+BvZ,GAAGuE,EAAEiV,iCAAiC1W,GAAGyB,EAAE4U,0BAA0BvX,GAAG2C,EAAEkV,0BAA0BrZ,EAAEmE,EAAE,CAAC+U,6BAA6BrZ,EAAEsZ,6BAA6BvZ,EAAEwZ,+BAA+B1W,EAAEqW,wBAAwBvX,EAAE6X,wBAAwBrZ,EAAE,CAAK+Y,8BAA0B,MAAMzX,EAAEgY,aAAGxZ,KAAKyZ,qBAAqB1Z,EAAEC,KAAKoQ,KAAK,2BAA2B,OAAO,IAAI5O,EAAEkY,iBAAiB9Z,YAAEG,KAAKyB,EAAEmY,YAAY5Z,EAAEmZ,sBAAsB1X,EAAE0X,sBAAsBnZ,EAAE6Z,yBAAyBpY,EAAEoY,yBAAyB7Z,EAAEoZ,qBAAqB3X,EAAE2X,sBAAsBpZ,EAAEmZ,uBAAuB1X,EAAE0X,sBAAsBnZ,EAAE6Z,0BAA0BpY,EAAEoY,yBAAyB7Z,EAAEoZ,sBAAsB3X,EAAE2X,qBAAqBpZ,EAAEyB,CAAC,CAAKqY,iBAAa,MAAMrY,EAAE5B,YAAEI,KAAKiZ,0BAA0BjZ,KAAK8Z,cAAc9Z,KAAKiZ,wBAAwBc,OAAOC,qBAAqBha,KAAKoW,kBAAkB,EAAErW,EAAEC,KAAKia,6BAA6BC,QAAQ,CAAC1Y,EAAEzB,IAAIyB,EAAEzB,EAAEga,OAAOI,eAAe,GAAG,OAAOna,KAAKwX,YAAYhW,EAAEzB,CAAC,CAAKqa,2BAAuB,GAAGpa,KAAKwX,aAAaxX,KAAKoW,kBAAkB,OAAOpW,KAAKsW,aAAatW,KAAKuW,iBAAiBvW,KAAKoW,kBAAkB,GAAG,EAAEpW,KAAKwX,YAAYxX,KAAKoW,kBAAkB,GAAGxW,YAAEI,KAAKiZ,yBAAyB,CAAC,MAAMzX,EAAExB,KAAK8Z,cAAc9Z,KAAKiZ,wBAAwBc,OAAOC,qBAAqB,EAAE,OAAOha,KAAKiZ,wBAAwBc,OAAOM,gBAAgB7Y,CAAC,CAAC,OAAO,CAAC,CAAK8Y,gCAA4B,OAAO/Z,KAAKC,IAAI,GAAGR,KAAKsW,aAAatW,KAAKuW,iBAAiBvW,KAAKoa,qBAAqB,CAAKX,0BAAsB,OAAOzZ,KAAKgU,gBAAgBhU,KAAKua,qCAAqCva,KAAKgU,iBAAiBhU,KAAKia,4BAA4B,CAACO,oBAAoBhZ,GAAE,MAAC,GAAG,cAAcA,EAAEqH,KAAK,OAAOrH,EAAEiZ,QAAQ,MAAM1a,EAAEC,KAAKyU,uBAAuBvF,IAAI1N,EAAEkZ,IAAI,GAAG9a,YAAEG,GAAG,OAAOA,EAAE,MAAMD,EAAE6a,YAAGnZ,EAAE,CAACoZ,aAAuB,OAAX,EAAC5a,KAAKmG,YAAK,EAAV,EAAYyU,aAAaC,UAAS,EAAGC,mBAAmB9a,KAAK+a,oBAAoBvZ,KAAKoB,EAAE9C,EAAE+M,QAAQ,KAAK,OAAOzM,YAAEwC,IAAI9C,EAAEgK,OAAO4J,GAAG5J,MAAMhK,EAAEgK,MAAMkR,SAAShb,KAAKyU,uBAAuB/E,IAAIlO,EAAEkZ,GAAG9X,GAAGA,CAAC,CAAC2X,qCAAqC/Y,GAAG,GAAGpB,YAAEoB,GAAG,MAAM,GAAG,MAAMzB,EAAEyB,EAAEyZ,aAAanb,EAAE,yBAAyB0B,GAAGA,EAAE0Z,qBAAqB,KAAKpb,GAAGC,GAAGA,EAAE6B,QAAQ,MAAM,GAAG,MAAMgB,EAAE,GAAGlB,EAAE1B,KAAKmb,mCAAmCrb,GAAGF,YAAE8B,IAAIkB,EAAEZ,KAAKN,GAAG,IAAI,MAAMG,KAAK9B,EAAE,CAAC,MAAMyB,EAAExB,KAAKmb,mCAAmCtZ,GAAGjC,YAAE4B,IAAIoB,EAAEZ,KAAKR,EAAE,CAAC,OAAOoB,CAAC,CAACuY,mCAAmC3Z,GAAG,GAAGpB,YAAEoB,GAAG,OAAO,KAAK,MAAMzB,EAAEC,KAAK0U,SAASxF,IAAI1N,EAAEkZ,IAAI,GAAG9a,YAAEG,GAAG,OAAOA,EAAEqb,WAAW,MAAMtb,EAAEE,KAAKwa,oBAAoBhZ,GAAG,OAAO5B,YAAEE,GAAGub,aAAGvb,GAAG,IAAI,CAACma,6BAA6B,MAAMzY,EAAE,GAAG,OAAOxB,KAAK0U,SAAS/F,SAAS5O,IAAIH,YAAEG,IAAIyB,EAAEQ,KAAKjC,EAAEqb,WAAW,IAAI5Z,CAAC,CAAK8Z,qBAAiB,OAAOtb,KAAKmG,MAAM8E,aAAa,CAACvE,aAAa1G,KAAKiV,sBAAsBjV,KAAKsO,MAAM1H,KAAKc,iBAAiB1H,KAAK2V,cAAc,IAAI4F,EAAG,CAACtQ,cAAcjL,KAAKsO,MAAMnI,OAAOnG,KAAKsO,MAAMnI,MAAM8E,cAActF,KAAK3F,KAAK2F,KAAKC,KAAK5F,KAAK4F,KAAKsF,qBAAqBlL,KAAKiV,sBAAsBuG,wBAAwBxb,KAAKsO,MAAMkN,wBAAwBhQ,gBAAgB,IAAIxL,KAAK2X,aAAahJ,QAAQnN,GAAGxB,KAAKsU,mBAAmB3F,QAAQnN,GAAGia,QAAQ,IAAIpQ,MAAM4E,KAAKjQ,KAAKsU,mBAAmBpE,YAAY,MAAM1O,EAAE,CAACA,EAAEzB,EAAED,IAAIE,KAAK2X,aAAavR,yBAAyB5E,EAAEzB,EAAED,IAAI4b,mBAAmB3b,GAAGC,KAAK,GAAGJ,YAAEG,EAAEqY,oBAAoB,CAAC,MAAMtY,EAAEC,EAAEqY,mBAAmBpY,KAAKwB,GAAGxB,KAAKqY,oBAAoBvY,CAAC,CAAC,GAAGF,YAAEG,EAAEoY,iBAAiB,CAAC,MAAMrY,EAAEC,EAAEoY,gBAAgBnY,KAAKwB,GAAGxB,KAAKsV,iBAAiBxV,CAAC,CAAC,GAAGF,YAAEG,EAAEwY,kBAAkB,CAAC,MAAM/W,EAAEzB,EAAEwY,iBAAiB,CAACP,aAAahY,KAAK2V,cAAcgG,gBAAgB,IAAI3b,KAAKsU,mBAAmBvJ,KAAK6Q,0BAA0Bpa,GAAGxB,KAAKiK,qCAAqClK,GAAGA,EAAEkJ,kBAAkB4S,IAAGC,OAAOta,EAAEua,YAAEhc,EAAE6I,QAAQ5I,KAAKsb,iBAAiBU,IAAG7S,WAAW8S,yBAAyBza,GAAGxB,KAAKiK,qCAAqClK,GAAGA,EAAEkJ,kBAAkB4S,IAAGC,OAAOta,EAAEwa,IAAG7S,WAAW+S,wBAAwB,IAAIlc,KAAKiK,qCAAqCzI,GAAGA,EAAE0I,oBAAoB2R,IAAGC,YAAY9b,KAAKuV,kBAAkB/T,CAAC,CAAC,GAAG5B,YAAEG,EAAEwJ,cAAc,CAAC,MAAM/H,EAAEzB,EAAEwJ,aAAavJ,MAAMA,KAAK4V,cAAcpU,CAAC,CAAC,GAAG5B,YAAEG,EAAE0J,UAAU7J,YAAEI,KAAKsV,kBAAkB,CAAC,MAAM9T,EAAEzB,EAAE0J,QAAQzJ,KAAKA,KAAKsV,kBAAkBtV,KAAK6V,SAASrU,CAAC,CAAC,GAAG5B,YAAEG,EAAEuY,cAAc,CAAC,MAAM9W,EAAEzB,EAAEuY,aAAatY,MAAMA,KAAK8V,cAActU,CAAC,CAACxB,KAAKqV,2BAA2B,IAAI8G,gBAAgBnc,KAAKkY,mBAAmBlY,KAAKoc,kBAAkB,CAACrP,yBAAwB,UAAC,MAAMvL,EAAExB,KAAKqV,2BAA2BgH,OAAOtc,EAAEC,KAAKsO,MAAM1H,KAAK5G,KAAK+V,uBAAuB,IAAIuG,IAAGtc,KAAKiV,sBAAsBlV,GAAGC,KAAKuc,iBAAiBxc,EAAEC,KAAKmG,MAAMuI,KAAK1O,KAAKmU,sBAAsBvI,gBAAgB7L,EAAEyc,sBAAsBxc,KAAKiW,kCAAkClW,EAAEyc,sBAAsBC,iBAAiBzc,KAAKsO,OAAO1O,YAAEI,KAAKgU,mBAAmBhU,KAAKmU,sBAAsBpI,SAAS/L,KAAKgU,iBAAiBhU,KAAKmU,sBAAsBnI,MAAMhM,KAAKgM,MAAMhM,KAAKmU,sBAAsBtI,oBAAoB9L,EAAEyc,sBAAsB3Q,oBAAoB7L,KAAKmU,sBAAsBjI,mBAAmBnM,EAAEmM,mBAAmBlM,KAAKmU,sBAAsBhO,MAAMnG,KAAKmG,MAAMnG,KAAKmU,sBAAsBjO,kBAAkBlG,KAAKsO,MAAMtO,KAAKmU,sBAAsB9H,mBAAmB,IAAIqQ,KAAG3c,EAAE4c,wBAAwB3c,KAAKmU,sBAAsBrI,kBAAkB/L,EAAE+L,kBAAkB9L,KAAKmU,sBAAsByI,6BAA6Bpb,GAAGxB,KAAK4c,6BAA6Bpb,GAAGxB,KAAKmU,sBAAsB0I,+BAA+Brb,GAAGxB,KAAK6c,+BAA+Brb,GAAG,MAAM1B,EAAEgd,YAAG9c,KAAKmG,MAAMsL,cAAczR,KAAKoX,mCAAmC,GAAGpX,KAAKmU,sBAAsB7H,mCAAmCyQ,YAAGjd,EAAEE,KAAKiV,sBAAsBzT,EAAEkS,IAAIhR,YAAElB,GAAGxB,KAAKmU,sBAAsB5H,6BAA6BxM,EAAEwM,8BAA8BvM,KAAKmG,MAAMoG,6BAA6BvM,KAAKmU,sBAAsB3H,oBAAoBxM,KAAKsO,MAAM9B,kBAAkBxM,KAAKmU,sBAAsB1H,gCAA+D,OAAhC,EAACzM,KAAKsO,MAAM1H,KAAKgS,mBAAhB,EAAiCoE,iCAAgChd,KAAKmU,sBAAsBzH,qBAAoD,OAAhC,EAAC1M,KAAKsO,MAAM1H,KAAKgS,kBAA2B,OAAZ,EAA/B,EAAiCC,cAAjC,EAA6CnM,oBAAmB,oBAAoB1M,KAAKsO,MAAM,CAAC,MAAMA,MAAM9M,GAAGxB,KAAKA,KAAKmU,sBAAsB/H,oBAAoBrM,EAAEuG,eAAe2W,eAAeC,4BAA4B1b,GAAGxB,KAAK8U,SAAS9N,IAAInF,aAAG,IAAI9B,EAAEuG,eAAe2W,eAAeE,sBAAsB3b,KAAK,CAACxB,KAAK8U,SAAS9N,IAAI,CAACuD,aAAG,IAAIvK,KAAKwY,2BAA2B,IAAIxY,KAAKqU,WAAW+I,YAAY,IAAIpd,KAAKqd,6BAA6B9S,aAAG,iBAAI,CAAW,OAAX,EAACvK,KAAKmG,YAAK,EAAV,EAAYoG,6BAA6BvM,KAAKsO,MAAM1H,KAAK2F,6BAA6B,IAAG,KAAI,MAAC,MAAM/K,EAAEzB,EAAEwM,8BAA8BvM,KAAKmG,MAAMoG,6BAA6B/K,IAAIxB,KAAKmU,sBAAsB5H,+BAA+BvM,KAAKmU,sBAAsB5H,6BAA6B/K,EAAe,OAAd,EAACxB,KAAK6V,WAAL,EAAezD,QAAQpS,KAAKsd,gCAAgC,IAAI/S,aAAG,IAAIvK,KAAKsO,MAAM9B,oBAAoBhL,GAAGxB,KAAKud,2BAA2B/b,KAAK+I,aAAG,kBAAyB,OAAzB,EAAIvK,KAAKsO,MAAM1H,KAAKiK,YAAK,EAArB,EAAuB2M,UAAU,IAAG,IAAIxd,KAAKyd,sBAAsBlT,aAAG,mBAAqC,OAAhC,EAACvK,KAAKsO,MAAM1H,KAAKgS,mBAAhB,EAAiCoE,gCAAgC,IAAExb,GAAGxB,KAAK0d,8BAA8Blc,KAAK+I,aAAG,qBAAqC,OAAhC,EAACvK,KAAKsO,MAAM1H,KAAKgS,kBAA2B,OAAZ,EAA/B,EAAiCC,cAAjC,EAA6CnM,mBAAmB,IAAElL,GAAGxB,KAAK2d,0BAA0Bnc,KAAKuR,aAAG,kBAAoB,OAApB,EAAIhT,EAAEuG,qBAAc,EAAhB,EAAkBsX,YAAY,IAAGpc,IAAI,IAAIA,EAAEkG,iBAAiBqC,OAAO/J,KAAKmU,sBAAsBhI,YAAYvM,YAAEG,EAAEuG,eAAeoB,oBAAoB1H,KAAKmU,sBAAsBhI,UAAUpM,EAAEuG,eAAeoB,kBAAkB1H,KAAK8U,SAAS9M,IAAI,mBAAmBhI,KAAK6d,0BAA0B,CAAC,MAAMrc,EAAE,kBAAc,OAAd,EAAIxB,KAAKsO,YAAK,EAAV,EAAYwP,cAAc,EAAC9d,KAAK8U,SAAS9N,IAAI,CAAClC,YAAEtD,EAAE,UAAUA,IAAIxB,KAAK+d,2BAA2Bvc,GAAGxB,KAAKge,gDAAgD,GAAG,CAACC,cAAc,KAAKje,KAAK6d,sBAAsB7d,KAAKge,gDAAgD,KAAK,kBAAkB,IAAI,CAACE,SAAQ,IAAK3T,aAAG,IAAIvK,KAAK8X,wBAAwBtW,IAAI5B,YAAEI,KAAK2Q,cAAc3Q,KAAK2Q,WAAWwN,aAAa3c,GAAGxB,KAAKmU,sBAAsBxH,QAAQ3M,KAAK8X,wBAAwBb,KAAGc,MAAMvW,IAAIyV,KAAGC,MAAMlX,KAAKoI,QAAQgW,KAAG,GAAGC,OAAKre,KAAKqU,WAAWtU,EAAE8G,mBAAmBC,UAAUG,aAAaqX,KAAGC,cAAcve,MAAMA,KAAKmG,OAAO,qBAAqBnG,KAAKmG,OAAOnG,KAAK8U,SAAS9N,IAAIuD,aAAG,IAAIvK,KAAKmG,MAAMqY,mBAAmB,IAAIxe,KAAK4V,cAAc6I,4BAA4Bze,KAAK0e,aAAa,2BAA2B1e,KAAK2e,eAAe3e,KAAKsO,MAAMvC,UAAU6S,OAAO,SAAS5e,KAAKqV,2BAA2B,IAAI,CAACwJ,mBAAmB7e,KAAKqV,6BAA6BrV,KAAKqV,2BAA2ByJ,QAAQ9e,KAAKqV,2BAA2B,KAAK,CAACxU,UAAUb,KAAK6e,mBAAmB7e,KAAK+e,uBAAuB/e,KAAKgf,4BAA4Bhf,KAAKsO,MAAM1H,KAAK2C,aAAa0V,oBAAoBjf,MAAMA,KAAKsO,MAAM1H,KAAK6C,QAAQwV,oBAAoBjf,MAAMA,KAAKqY,oBAAoB7U,YAAExD,KAAKqY,qBAAqBrY,KAAKsV,iBAAiB9R,YAAExD,KAAKsV,kBAAkBtV,KAAKuV,kBAAkB/R,YAAExD,KAAKuV,mBAAmBvV,KAAK4V,cAAc,KAAK5V,KAAK6V,SAAS,KAAK7V,KAAK8V,cAActS,YAAExD,KAAK8V,eAAe9V,KAAKY,QAAQZ,KAAK2V,cAAcnS,YAAExD,KAAK2V,eAAe3V,KAAK0V,qCAAqC7P,YAAE7F,KAAK0V,sCAAsC1V,KAAKkU,sBAAsB1Q,YAAExD,KAAKkU,uBAAuBlU,KAAKgM,QAAQhM,KAAKgM,MAAMrJ,OAAO3C,KAAK2Q,YAAY3Q,KAAK2Q,WAAW,KAAK3Q,KAAKgM,MAAM,MAAMhM,KAAK8U,SAAStR,YAAExD,KAAK8U,UAAU9U,KAAKqU,WAAW1R,SAAS3C,KAAKqU,WAAWU,KAAG/U,KAAKiV,sBAAsB,KAAKjV,KAAKwI,KAAK,QAAQ,MAAM,IAAI,MAAMhH,KAAKxB,KAAKkW,+BAA+BlW,KAAKkW,+BAA+B1U,GAAG0d,OAAO,IAAItc,IAAE,0BAA0B,6BAA6B5C,KAAKkW,+BAA+B,KAAKlW,KAAKiW,kCAAkCpQ,YAAE7F,KAAKiW,mCAAmCjW,KAAK4T,gBAAgBpQ,YAAExD,KAAK4T,iBAAiB5T,KAAKyW,oBAAoB,KAAKzW,KAAKyU,uBAAuB7T,QAAQZ,KAAK8W,sBAAsBlW,QAAQZ,KAAKwV,cAAchS,YAAExD,KAAKwV,cAAc,CAAC5U,QAAO,QAAmB,OAAlB,EAAAZ,KAAK8V,gBAAL,EAAoBrG,qBAAqB7P,YAAEI,KAAKkU,wBAAwBlU,KAAKkU,sBAAsBzE,qBAAqBzP,KAAKsU,mBAAmB3F,SAASnN,GAAGA,EAAEX,YAA8B,OAAnB,EAACb,KAAKwV,gBAAL,EAAoB5U,QAAQZ,KAAKsU,mBAAmB1T,QAAQZ,KAAKoW,kBAAkB,EAAEpW,KAAKwX,YAAY,EAAExX,KAAKqd,yBAAyBrd,KAAK0U,SAAS/F,QAAQnL,KAAGxD,KAAK0U,SAAS9T,QAAQZ,KAAKwU,kBAAkB5T,QAAQZ,KAAK2U,uBAAuB/T,QAAQZ,KAAK4U,0BAA0BhU,QAAQZ,KAAKmW,gBAAgBvV,QAAQZ,KAAKyW,oBAAoB7V,QAAQZ,KAAKsW,aAAa,EAAEtW,KAAKuW,gBAAgB,EAAEvW,KAAK0e,aAAa,YAAY1e,KAAK0e,aAAa,WAAW1e,KAAK0e,aAAa,qBAAqB1e,KAAK2V,cAAc3K,OAAOiE,KAAK,UAAU,CAACsN,iBAAiB/a,EAAEzB,GAAGC,KAAKgM,MAAMxK,EAAE2d,OAAOnf,KAAK2Q,WAAW,IAAIyO,KAAG,CAACC,YAAYrf,KAAKwY,yBAAyB2F,aAAane,KAAK8X,uBAAuB/X,GAAGC,KAAKgM,MAAMhF,IAAIhH,KAAK2Q,YAAY,MAAM7Q,EAAEE,KAAK2Q,WAAW3F,OAAOlL,EAAEmI,GAAG,wBAAwBzG,GAAGxB,KAAK4c,6BAA6Bpb,EAAE8Q,SAASgN,cAAcxf,EAAEmI,GAAG,qBAAqBzG,GAAGxB,KAAK6c,+BAA+Brb,EAAE8Q,SAASgN,cAAcxf,EAAEmI,GAAG,uBAAuBzG,GAAGxB,KAAK4c,6BAA6Bpb,EAAE8P,OAAOgB,SAASgN,cAAcxf,EAAEmI,GAAG,yBAAyBzG,GAAGxB,KAAK4c,6BAA6Bpb,EAAE8P,OAAOgB,SAASgN,cAAcxf,EAAEmI,GAAG,sBAAsBzG,GAAGxB,KAAK4c,6BAA6Bpb,EAAE8P,OAAOgB,SAASgN,aAAa,CAAC1C,6BAA6Bpb,GAAG,GAAGpB,YAAEJ,KAAKkU,wBAAwB9T,YAAEoB,GAAG,OAAO,MAAMzB,EAAEC,KAAKsU,mBAAmBpF,IAAI1N,GAAGzB,GAAGC,KAAKkU,sBAAsB3E,sBAAsBxP,EAAE,CAAC8c,+BAA+Brb,GAAG,GAAGpB,YAAEJ,KAAKkU,wBAAwB9T,YAAEoB,GAAG,OAAO,MAAMzB,EAAEC,KAAKsU,mBAAmBpF,IAAI1N,GAAGzB,GAAGC,KAAKkU,sBAAsB1E,wBAAwBzP,EAAE,CAACsd,yBAAyB,MAAM7b,EAAExB,KAAK2Y,oBAAoBY,wBAAwBxZ,EAAEC,KAAKoW,kBAAkB5U,EAAE+d,GAAGzf,GAAGE,KAAKwY,2BAA2BzY,EAAED,IAAIE,KAAKyX,WAAWzX,KAAKyX,SAAS3X,EAAEA,GAAGE,KAAK2Q,WAAW0O,YAAW,EAAGrf,KAAKmK,gCAAgCnK,KAAK2Q,WAAW0O,YAAW,EAAGrf,KAAKwf,oBAAoBxf,KAAKyf,8BAA8B,CAACA,8BAA8Bzf,KAAK2Q,WAAW7B,UAAU9O,KAAKyX,WAAW,MAAMzX,KAAKmG,MAAMuZ,SAAS1f,KAAKmG,MAAMuZ,QAAQ,EAAE,CAAC1V,yBAAyBxI,GAAG,OAAOxB,KAAKsU,mBAAmBpF,IAAI1N,EAAE,CAACiN,+BAA+BjN,GAAE,MAAC,OAAuB,OAAhB,EAAAxB,KAAKsO,MAAMnI,QAAX,EAAkB8E,cAAcjL,KAAK2f,iCAAiCne,GAAG,IAAI,CAACoe,oBAAoBpe,EAAEzB,EAAEC,KAAKsO,MAAMnI,OAAOnG,KAAKsO,MAAMnI,MAAM8E,eAAe,OAAO8Q,YAAEva,EAAEzB,EAAE,CAAK8f,mCAA+B,MAAMre,EAAExB,KAAKsO,MAAMnI,OAAOnG,KAAKsO,MAAMnI,MAAM8E,cAAc,IAAIzJ,EAAE,OAAO,KAAK,MAAMzB,EAAE,IAAIoO,IAAI,OAAOnO,KAAKsU,mBAAmB3F,SAAS7O,IAAI,IAAIA,EAAE,OAAO,MAAM8C,EAAE9C,EAAE8I,QAAQlH,EAAE1B,KAAK4f,oBAAoBhd,EAAEpB,GAAG5B,YAAE8B,IAAI3B,EAAE2P,IAAIhO,EAAE5B,EAAE,IAAIC,CAAC,CAAK+Z,oBAAgB,SAAS9Z,KAAK6V,WAAW7V,KAAK6V,SAASiK,qBAAqB,CAAC/S,yBAAyBvL,GAAG,MAAMzB,EAAEC,KAAK4V,eAAe5V,KAAK4V,cAAcmK,mBAAmBve,GAAG1B,EAAEE,KAAK6V,UAAU7V,KAAK6V,SAASkK,mBAAmBve,SAAS0C,YAAE,CAACnE,EAAED,GAAG,CAACkgB,uBAAuBhgB,KAAK4V,eAAe5V,KAAK4V,cAAcmK,qBAAqB/f,KAAK6V,UAAU7V,KAAK6V,SAASoK,sBAAsB,CAAKC,uBAAmB,GAAGlgB,KAAKmW,gBAAgBpL,KAAK,EAAE,MAAM,UAAU,IAAIvJ,EAAE,EAAEzB,EAAE,EAAE,OAAO8C,YAAE7C,KAAK0U,UAAU,CAAC5U,EAAE8C,KAAK,GAAGhD,YAAEE,GAAG,CAAC,MAAM4B,EAAE5B,EAAEqgB,sBAAsB,GAAGze,EAAE0e,QAAQ,EAAE,OAAM,EAAGpgB,KAAKwU,kBAAkBxM,IAAIpF,KAAK7C,GAAG2B,EAAE2e,KAAK7e,GAAGE,EAAE4e,KAAK,CAAC,OAAM,CAAE,IAAI,UAAUvgB,GAAG,GAAG,IAAIyB,EAAE,OAAOA,GAAG,GAAG,IAAIzB,EAAE,OAAO,OAAO,CAACqI,QAAQ5G,GAAGxB,KAAKqU,WAAWkM,aAAa/e,GAAGxB,KAAKwgB,qBAAqBhf,GAAGxB,KAAK0e,aAAa,WAAW1e,KAAKmI,SAASnI,KAAK0e,aAAa,YAAY1e,KAAK0e,aAAa,oBAAoB,CAAC+B,sBAAsBjf,EAAEzB,GAAGA,EAAEC,KAAK8W,sBAAsB3H,OAAO3N,GAAGxB,KAAK8W,sBAAsB9P,IAAIxF,GAAG,MAAM1B,EAAEE,KAAK2f,iCAAiCne,GAAG5B,YAAEE,IAAIE,KAAK0gB,sBAAsB5gB,EAAE,CAAC6f,iCAAiCne,GAAG,OAAOtB,YAAEF,KAAKsU,oBAAoBvU,GAAGC,KAAK4f,oBAAoB7f,EAAE6I,WAAWpH,GAAG,CAACkf,sBAAsBlf,GAAG,GAAGpB,YAAEoB,GAAG,OAAM,EAAG,MAAMzB,EAAEyB,EAAEoH,QAAQ9I,EAAEE,KAAK4f,oBAAoB7f,GAAG6C,EAAE7C,EAAE4gB,UAAU3gB,KAAKsO,MAAM9H,YAAYpG,YAAEN,KAAKE,KAAK8W,sBAAsB9O,IAAIlI,IAAI,OAAO0B,EAAEyH,kBAAkB4S,IAAG+E,aAAahe,EAAEoZ,IAAG7S,QAAQ,CAAC0X,uBAAuBrf,GAAG,MAAMzB,EAAEC,KAAKsU,mBAAmBpF,IAAI1N,EAAEkN,KAAK,GAAG3O,EAAE,OAAO+gB,QAAQC,QAAQhhB,GAAG,MAAMD,EAAEE,KAAKkW,+BAA+B1U,EAAEkN,KAAK,GAAG5O,EAAE,OAAOA,EAAEkhB,QAAQ,MAAMpe,EAAEnB,cAAI,OAAOzB,KAAKkW,+BAA+B1U,EAAEkN,KAAK9L,EAAEA,EAAEoe,OAAO,CAACjU,kCAAkCvL,EAAEzB,GAAG,MAAMD,EAAEE,KAAKiV,sBAAsBrS,EAAE5C,KAAKsO,MAAM1H,KAAK+V,uBAAuBjb,EAAE1B,KAAKsO,MAAM1H,KAAKN,eAAeoB,iBAAyE7E,EAAE7C,KAAK+V,uBAAuB,CAACkL,QAAQjhB,KAAK+V,uBAAuBmL,iBAAiBthB,YAAEG,IAAIA,EAAEmhB,iBAAiBC,iBAAiBvhB,YAAEG,IAAIA,EAAEohB,iBAAiBC,0BAA0BphB,KAAKsO,MAAM1H,KAAKya,YAAY,KAAKnhB,QAAQsB,EAAE8f,yBAAlR,CAAC9f,EAAEzB,EAAE2B,IAAI6f,YAAE/f,EAAEoB,EAAE7C,EAAEyB,EAAE1B,EAAEC,EAAE2B,KAAK,CAACF,EAAEzB,EAAE6C,IAAI2e,YAAE/f,EAAEE,EAAE3B,EAAEyB,EAAE1B,EAAEC,EAAE6C,IAA2PC,EAAEc,YAAE5D,EAAE,WAAW,IAAIG,EAAE,OAAO,KAAK,MAAME,EAAEF,EAAEshB,YAAY,GAAGthB,EAAEuhB,wBAAwB,CAAC,MAAMjgB,EAAExB,KAAKmU,sBAAsBrI,kBAAkB,GAAGtK,EAAE,CAAC8J,YAAElL,EAAEkT,IAAI,MAAMvT,EAAEsE,YAAE7C,EAAEqQ,aAAayB,GAAG,GAAGA,GAAG,GAAG,EAAExT,EAAE,UAAU,GAAGM,EAAE,GAAGG,KAAKkD,IAAIrD,EAAE,GAAGL,GAAGK,EAAE,GAAGG,KAAKC,IAAIJ,EAAE,GAAGL,EAAE,CAAC,CAAC,MAAM,CAACyhB,YAAYphB,EAAEshB,mBAAmBxhB,EAAEwhB,mBAAmB,CAAC3U,wBAAwBvL,EAAEzB,SAASgC,aAAG,kBAAc,OAAd,EAAI/B,KAAKsO,YAAK,EAAV,EAAYwP,cAAc,IAAG,MAAMhe,EAAEE,KAAKsO,MAAMnI,OAAOnG,KAAKsO,MAAMnI,MAAM8E,cAAcvJ,EAAE1B,KAAKsO,MAAMwP,eAAe6D,MAAM5hB,GAAGA,IAAIyB,GAAG1B,GAAGC,EAAEqF,YAAY5D,EAAE4D,YAAYrF,EAAEqF,WAAWtF,KAAK0B,EAAE4D,WAAWtF,KAAK,IAAI4B,EAAE,MAAM,IAAIkB,IAAE,oCAAoC,oCAAoC,MAAMf,QAAQ7B,KAAK6gB,uBAAuBnf,GAAG,OAAO1B,KAAK4hB,4BAA4B/f,EAAE9B,EAAE,CAAC8hB,wBAAwBrgB,EAAEzB,GAAG,MAAMD,EAAEE,KAAKsU,mBAAmBpF,IAAI1N,EAAEkN,KAAK,IAAI5O,EAAE,OAAO,KAAK,MAAM8C,EAAE9C,EAAE+hB,0BAA0B,GAAG,IAAIjf,EAAEkf,OAAOC,KAAK,IAAInf,EAAEof,OAAOD,IAAI,OAAO,KAAKE,YAAEC,GAAG,EAAE,EAAE,GAAG,IAAIxgB,EAAE,EAAE,GAAGkB,EAAEkf,OAAOC,IAAI,EAAE,CAAC,IAAI5P,YAAEvP,EAAEkf,OAAOK,OAAOniB,KAAKmU,sBAAsBjI,mBAAmBxE,iBAAiB0a,GAAGriB,GAAG,OAAO,KAAKsiB,YAAEH,GAAGA,GAAGE,IAAI1gB,GAAG,CAAC,GAAGkB,EAAEof,OAAOD,IAAI,EAAE,CAAC,MAAMvgB,EAAE1B,GAAG8C,EAAEof,OAAOG,OAAOtgB,EAAEwC,YAAErE,KAAK+V,uBAAuBlE,aAAarQ,EAAE1B,EAAE,UAAU,GAAG,GAAGmiB,YAAEG,GAAG5gB,EAAE1B,EAAE+B,IAAIsQ,YAAEiQ,GAAGpiB,KAAK+V,uBAAuBrO,iBAAiB0a,GAAGriB,GAAG,OAAO,KAAKsiB,YAAEH,GAAGA,GAAGE,IAAI1gB,GAAG,CAAC,OAAOA,EAAE,GAAG4gB,YAAEJ,GAAGA,GAAG,EAAExgB,GAAG,IAAI6gB,KAAG,CAACxgB,EAAEmgB,GAAG,GAAGrc,EAAEqc,GAAG,GAAG5W,EAAE4W,GAAG,GAAGxa,iBAAiB3H,GAAG,CAACyiB,mBAAmBhhB,EAAEzB,GAAG,MAAMD,EAAEE,KAAK0U,SAASxF,IAAI1N,EAAEkZ,IAAI,GAAGta,YAAEN,GAAG,MAAM,IAAI8C,IAAE,mCAAmC,mCAAmC,MAAMlB,EAAEF,EAAEmJ,aAAa8X,QAAQ1iB,GAAG,IAAI,IAAI2B,EAAE,MAAM,IAAIkB,IAAE,gCAAgC,iCAAiC,MAAMf,EAAE/B,EAAE0iB,mBAAmB9gB,GAAG,GAAG,MAAMG,EAAE,MAAM,IAAIe,IAAE,wBAAwB,kCAAkC,OAAOf,CAAC,CAACkc,2BAA2Bvc,GAAGxB,KAAK0X,uBAAuB1X,KAAKgH,IAAIxF,EAAEkhB,OAAO1iB,KAAK2C,OAAOnB,EAAEmhB,SAAS,CAACC,qBAAqBphB,GAAG,MAAMzB,EAAEyB,EAAEoH,QAAQ8F,IAAI5O,EAAEE,KAAKsU,mBAAmBpF,IAAInP,GAAG,IAAIK,YAAEN,KAAKM,YAAEJ,KAAK2U,uBAAuBzF,IAAInP,IAAI,OAAOyB,EAAEqhB,UAAU,IAAI,UAAU7iB,KAAK8iB,6BAA6BhjB,GAAG,MAAM,IAAI,WAAWE,KAAK+iB,8BAA8BjjB,EAAE0B,GAAG,MAAM,IAAI,SAASxB,KAAKgjB,4BAA4BljB,EAAE0B,GAAG,MAAM,IAAI,aAAa,MAAM,IAAI,YAAYxB,KAAKijB,+BAA+BnjB,EAAE0B,GAAG,CAACuhB,8BAA8BvhB,EAAEzB,GAAG,MAAMD,EAAEC,EAAE6I,QAAQpD,SAAS,GAAGpF,YAAEN,GAAG,YAAYE,KAAKkjB,iBAAiBnjB,EAAE6I,SAAS,GAAGxI,YAAEoB,GAAG,CAAC,MAAMA,EAAEzB,EAAE6I,QAAQiE,QAAQ9M,EAAE6I,QAAQiE,OAAO6N,GAAG,GAAGlZ,EAAE,CAAC,MAAMzB,EAAEC,KAAK0U,SAASxF,IAAI1N,GAAG,GAAG5B,YAAEG,IAAIA,EAAEojB,aAAaC,KAAGC,QAAQ,MAAM,CAAC,YAAYrjB,KAAKkjB,iBAAiBnjB,EAAE6I,QAAQ,CAAC,MAAMhG,EAAEpB,EAAE8hB,kBAAkBljB,YAAEL,EAAEwjB,WAAW3gB,EAAE2K,eAAe/L,EAAEzB,EAAEwjB,WAAWvjB,KAAKkjB,iBAAiB1hB,EAAEoH,SAAS5I,KAAKwjB,sBAAsB1jB,EAAE,CAACkjB,4BAA4BxhB,EAAEzB,GAAG,MAAMD,EAAEC,EAAE6I,QAAQhG,EAAEhD,YAAE4B,GAAGA,EAAE8hB,iBAAiB1jB,YAAEG,EAAE0jB,UAAUzjB,KAAK0U,SAASxF,IAAInP,EAAE0jB,SAAS/I,IAAI,KAAK,GAAGta,YAAEwC,IAAIxC,YAAEL,EAAEwjB,UAAU,YAAYvjB,KAAKkjB,iBAAiBpjB,GAAG,MAAM4B,EAAEkB,EAAEiK,OAAOhL,EAAE7B,KAAKwa,oBAAoBza,EAAEwjB,UAAU,GAAG3jB,YAAEiC,KAAKA,EAAEgH,OAAOnH,EAAEmH,MAAM,cAAchH,EAAEgH,OAAO,cAAcnH,EAAEmH,KAAK,YAAY7I,KAAKkjB,iBAAiBpjB,GAAG,MAAMyB,EAAEvB,KAAKwU,kBAAkBtF,IAAIxN,EAAEgZ,IAAI,GAAGnZ,GAAG,IAAIA,EAAEwJ,KAAK,YAAY/K,KAAKkjB,iBAAiBpjB,GAAG,MAAM+C,EAAE6gB,YAAEhiB,EAAEG,GAAG,GAAGzB,YAAEyC,GAAG,YAAY7C,KAAK2jB,qBAAqBjiB,EAAEgZ,GAAG7Y,GAAG,MAAM3B,EAAE,CAAC0jB,KAAK/gB,EAAEghB,yBAAyB,GAAGC,mBAAmB,IAAI,GAAGlhB,EAAEmhB,mBAAmB7jB,IAAI8S,YAAE9S,EAAE0jB,MAAM,YAAY5jB,KAAKkjB,iBAAiBpjB,GAAG,MAAMuE,EAAErE,KAAKgkB,kBAAkBlkB,GAAG,GAAGM,YAAEiE,GAAG,YAAYrE,KAAKkjB,iBAAiBpjB,GAAG,MAAM0D,EAAEZ,EAAE6S,cAAc,IAAI,MAAM7V,KAAKM,EAAE4jB,mBAAmBlkB,IAAI,GAAG4D,IAAIZ,EAAE6S,eAAezV,KAAKikB,0BAA0BrkB,YAAE4B,GAAG,IAAI,MAAM5B,KAAKM,EAAE2jB,yBAAyBjkB,EAAE4B,EAAE6C,GAAGrE,KAAK2jB,qBAAqBjiB,EAAEgZ,GAAG7Y,EAAE,CAACihB,6BAA6BthB,GAAGxB,KAAK0gB,sBAAsBlf,KAAKxB,KAAK6V,UAAU7V,KAAKsO,MAAM1H,KAAK6C,QAAQD,WAAWxJ,KAAKsO,MAAM1H,KAAK2C,aAAaC,WAAW,CAACyZ,+BAA+BzhB,EAAEzB,GAAG,CAACmkB,iBAAiB1iB,GAAGxB,KAAKgV,uBAAsB,EAAGhV,KAAK2C,OAAOnB,GAAGxB,KAAKgH,IAAIxF,GAAGxB,KAAKgV,uBAAsB,EAAGhV,KAAK8X,wBAAwBb,KAAGC,MAAMlX,KAAKmkB,iBAAiB,CAACjB,iBAAiB1hB,GAAGxB,KAAKkkB,iBAAiB,CAAC1iB,GAAG,CAAC4iB,oBAAoB5iB,GAAG,MAAMzB,EAAEC,KAAK6U,kBAAkB,OAAO7U,KAAK6U,oBAAoB7U,KAAK4U,0BAA0BlF,IAAIlO,EAAEkN,IAAI3O,GAAG,IAAIC,KAAK4U,0BAA0B7J,MAAM/K,KAAK0e,aAAa,YAAY3e,CAAC,CAACskB,kBAAkB7iB,GAAGA,IAAIxB,KAAK4U,0BAA0BzF,OAAO3N,EAAEkN,KAAK,IAAI1O,KAAK4U,0BAA0B7J,OAAO/K,KAAKmkB,kBAAkBnkB,KAAK0e,aAAa,aAAa,CAACuF,0BAA0B,IAAIziB,EAAE,EAAExB,KAAK0U,SAAS/F,SAAS5O,IAAIH,YAAEG,KAAKyB,EAAEjB,KAAKC,IAAIgB,EAAEzB,EAAE0V,eAAe,IAAIzV,KAAKwI,KAAK,gBAAgBhH,EAAE,CAACgiB,sBAAsBhiB,GAAG,MAAMzB,EAAEwT,GAAGzT,EAAE0B,EAAEkG,iBAAiBxG,YAAEM,EAAEzB,GAAG,MAAM6C,EAAE5C,KAAKiV,sBAAsBvT,EAAE2R,GAAGiR,OAAO,GAAGzf,YAAE/E,EAAE8C,IAAI2hB,YAAExkB,EAAE,GAAGA,EAAE,GAAG,EAAED,EAAE4B,EAAEkB,KAAK7C,EAAE,GAAG2B,EAAE,GAAG3B,EAAE,GAAG2B,EAAE,GAAG6iB,YAAExkB,EAAE,GAAGA,EAAE,GAAG,EAAED,EAAE4B,EAAEkB,GAAG7C,EAAE,GAAG2B,EAAE,GAAG3B,EAAE,GAAG2B,EAAE,MAAM8iB,SAASzkB,EAAE,KAAKykB,SAASzkB,EAAE,KAAKykB,SAASzkB,EAAE,KAAKykB,SAASzkB,EAAE,KAAK,OAAO,MAAM8B,EAAE7B,KAAK8T,eAAe,IAAIvS,EAAE,KAAK,MAAMsB,EAAE2hB,SAASzkB,EAAE,KAAKykB,SAASzkB,EAAE,IAAIG,EAAE2C,KAAKhB,GAAG,MAAMA,EAAE4iB,MAAM1kB,EAAE,GAAG8B,EAAE4iB,MAAM7kB,EAAEiD,KAAKhB,GAAG,MAAMA,EAAE6iB,MAAM3kB,EAAE,GAAG8B,EAAE6iB,MAAS7iB,GAAI9B,EAAE,GAAG8B,EAAE8iB,MAAM5kB,EAAE,GAAG8B,EAAE+iB,MAAM7kB,EAAE,GAAG8B,EAAEgjB,MAAM9kB,EAAE,GAAG8B,EAAEijB,MAAM5kB,GAAGN,KAAK2B,EAAEvB,KAAK4T,gBAAgB1E,IAAI,kBAAkB3N,EAAEojB,KAAKpkB,KAAKkD,IAAI1D,EAAE,GAAG8B,EAAE8iB,MAAMpjB,EAAEqjB,KAAKrkB,KAAKkD,IAAI1D,EAAE,GAAG8B,EAAE+iB,MAAMrjB,EAAEsjB,KAAKtkB,KAAKC,IAAIT,EAAE,GAAG8B,EAAEgjB,MAAMtjB,EAAEujB,KAAKvkB,KAAKC,IAAIT,EAAE,GAAG8B,EAAEijB,MAAMvjB,EAAEmG,iBAAiB9E,IAAQrB,EAAEvB,KAAK4T,gBAAgB1E,IAAI,kBAAkB3N,EAAEojB,KAAK5kB,EAAE,GAAGwB,EAAEqjB,KAAK7kB,EAAE,GAAGwB,EAAEsjB,KAAK9kB,EAAE,GAAGwB,EAAEujB,KAAK/kB,EAAE,GAAGwB,EAAEmG,iBAAiB9E,GAAErB,IAAIrB,IAAIqB,EAAEkjB,KAAK1kB,EAAE,IAAIH,IAAI2B,EAAEmjB,KAAK3kB,EAAE,IAAIC,KAAKwI,KAAK,iBAAiBjH,GAAG,CAACyd,4BAA4Bhf,KAAKoV,sCAAsCpV,KAAKoV,oCAAoC0J,QAAQ9e,KAAKoV,oCAAoC,KAAK,CAACrI,4BAA2B,QAAC/M,KAAKgf,4BAA4B,MAAMxd,EAAE,IAAI2a,gBAAgBnc,KAAKoV,oCAAoC5T,EAAE,MAAMzB,EAAE+c,YAAG9c,KAAKmG,MAAMsL,cAAczR,KAAKoX,mCAAmCpX,KAAKmU,sBAAsB7H,mCAAmCyQ,YAAGhd,EAAEC,KAAKiV,sBAAsBzT,EAAE6a,OAAO3I,IAAIhR,YAAElB,EAAE6a,QAAQrc,KAAKoV,oCAAoC,KAAkB,OAAd,EAACpV,KAAK6V,WAAL,EAAekP,sBAAsB/kB,KAAKglB,yBAAyB,CAACxjB,EAAEzB,EAAED,KAAK0B,EAAE6L,sBAAsB,gBAAgBtN,GAAGA,EAAE4O,SAASnN,IAAI,MAAMzB,EAAEyB,EAAEoH,QAAQ9I,EAAE0B,EAAE6H,cAAc,IAAI,MAAMzG,KAAK9C,EAAG8C,EAAEoL,sBAAsBiX,8BAA8BllB,EAAE6C,EAAE,IAAK5C,KAAKklB,gBAAgBplB,EAAE,IAAIE,KAAKmlB,oCAA4D,OAAzB,EAACnlB,KAAKqY,sBAAL,EAA0B0M,qBAAqB,CAACI,oCAAoCnlB,KAAKgW,8BAA8BhW,KAAKmG,MAAMsL,eAAe,sBAAsBzR,KAAKmG,MAAMsL,cAAcC,MAAM,IAAI1R,KAAKqW,uCAAuCrW,KAAKsO,MAAM1H,KAAKkF,kBAAkBsZ,WAAWplB,KAAKgW,8BAA8BhW,KAAKgW,6BAA6BzE,UAAUvR,KAAKgW,6BAA6B,QAAQhW,KAAKmG,MAAMsL,eAAezR,KAAKmG,MAAMsL,eAAe,sBAAsBzR,KAAKmG,MAAMsL,cAAcC,OAAO1R,KAAKqW,oCAAoC,IAAIrW,KAAKgW,6BAA6B,IAAIqP,GAAG,CAAClf,MAAMnG,KAAKmG,MAAMwK,WAAW3Q,KAAK2Q,WAAW/J,KAAK5G,KAAKsO,MAAM1H,OAAO5G,KAAKsO,MAAM1H,KAAKkF,kBAAkBwZ,SAAS,QAAQtlB,KAAKgW,8BAA8B,CAACuP,2BAA0B,YAACvlB,KAAKY,QAAQhB,YAAEI,KAAKuV,oBAAoBvV,KAAKuV,kBAAkB3U,QAAqB,OAAd,EAACZ,KAAK6V,WAAL,EAAezD,QAA0B,OAAnB,EAACpS,KAAK4V,gBAAL,EAAoBhV,QAAgC,OAAzB,EAACZ,KAAKqY,sBAAL,EAA0BzX,QAAuB,OAAhB,EAACZ,KAAK2Q,aAAL,EAAiB6U,oCAAoCxlB,KAAKgW,+BAA+BhW,KAAKsO,MAAM1H,KAAKkF,kBAAkBsZ,WAAWplB,KAAKgW,8BAA8BhW,KAAKgW,6BAA6BzE,UAAUvR,KAAKgW,6BAA6B,KAAK,CAACyP,sBAAsBzlB,KAAK0X,sBAAqB,EAAG1X,KAAK6d,qBAAqB,CAACA,sBAAsB7d,KAAK0lB,sBAAqB,EAAG,CAACpI,gCAAgCtd,KAAK0lB,sBAAqB,EAAG,CAACA,qBAAqBlkB,GAAE,GAAI,IAAIxB,KAAK0X,qBAAqB,OAAO,MAAMoG,eAAe/d,EAAE6G,KAAK9G,GAAGE,KAAKsO,MAAM1L,EAAE9C,EAAEwG,eAAesX,cAAc7d,GAAGA,EAAE6B,OAAO7B,EAAE0b,UAAU,MAAMja,GAAGoB,GAAG5C,KAAKulB,2BAA2BvlB,KAAKmU,sBAAsB5H,6BAA6BvM,KAAKsO,MAAM1H,KAAK2F,8BAA8BvM,KAAKmG,MAAMoG,6BAA6BvM,KAAKmU,sBAAsB3H,oBAAoBxM,KAAKsO,MAAM9B,kBAAkBxM,KAAKwI,KAAK,iBAAiB,MAAM5F,IAAIpB,EAAExB,KAAKgH,IAAIpE,GAAG5C,KAAKkkB,iBAAiBthB,GAAG,CAACsiB,gBAAgB1jB,GAAG,MAAMzB,EAAEC,KAAKwU,kBAAkBtF,IAAI1N,GAAG1B,EAAE,GAAGC,IAAIA,EAAE4O,SAAS,CAACnN,EAAEzB,KAAI,MAAC,MAAM6C,EAAEpB,EAAEqY,WAAW7Z,KAAK2lB,mBAAmBnkB,EAAEzB,GAAqB,OAAnB,EAACC,KAAKwV,gBAAL,EAAoB7S,OAAOnB,GAAG1B,EAAEkC,KAAKR,EAAEoH,SAASpH,EAAEX,UAAUb,KAAK4lB,yBAAyB7lB,EAAE6C,GAAG5C,KAAKqd,yBAAyBrd,KAAK2V,cAAc3K,OAAOiE,KAAK,UAAU,IAAIjP,KAAKwU,kBAAkB9E,IAAIlO,EAAE,IAAI2M,MAAM,MAAMvL,EAAE5C,KAAK0U,SAASxF,IAAI1N,GAAGgC,YAAEZ,GAAG5C,KAAK0U,SAASvF,OAAO3N,GAAGxB,KAAKgH,IAAIlH,EAAE,CAAC+lB,2BAA2BrkB,GAAG,MAAMzB,EAAEC,KAAKwU,kBAAkBtF,IAAI1N,GAAG,GAAGzB,EAAE,CAAC,MAAMyB,EAAE,GAAGzB,EAAE4O,SAAS5O,GAAGyB,EAAEQ,KAAKjC,EAAE6I,WAAW5I,KAAKkkB,iBAAiB1iB,EAAE,CAAC,CAACmkB,mBAAmBnkB,EAAEzB,GAAE,UAACC,KAAKuU,oBAAoBpF,OAAOpP,GAAqB,OAAnB,EAACC,KAAK8V,gBAAL,EAAoBxG,cAAc9N,GAAgB,OAAd,EAACxB,KAAK6V,WAAL,EAAevG,cAAc9N,GAAqB,OAAnB,EAACxB,KAAK4V,gBAAL,EAAoBtG,cAAc9N,GAAG5B,YAAEI,KAAKkU,wBAAwBlU,KAAKkU,sBAAsB5E,cAAc9N,EAAE,CAACwF,IAAIxF,GAAGA,GAAG,IAAIA,EAAEI,SAAS5B,KAAKsO,MAAM1H,KAAKN,gBAAgBtG,KAAKsO,MAAM1H,KAAKN,eAAesX,cAAc5d,KAAK8lB,yBAAyBtkB,KAAKyV,KAAGc,MAAM/X,KAAK+lB,YAAYvkB,GAAGxB,KAAKgmB,cAAcxkB,GAAGxB,KAAK0e,aAAa,aAAahL,GAAG5J,MAAM,SAAS,mEAAmE,CAACgc,yBAAyBtkB,GAAG,GAAGxB,KAAK8X,wBAAwBb,KAAGC,OAAO,SAASlX,KAAKmG,MAAMyU,cAAc,MAAM5a,KAAKmG,MAAMyU,cAAc,IAAI,MAAM7a,KAAKyB,EAAE,GAAG5B,YAAEG,EAAEyF,WAAW,SAASzF,EAAEyF,SAASqD,OAAO9I,EAAEyF,SAASygB,OAAO,OAAOhP,KAAGc,MAAM,OAAO/X,KAAK8X,qBAAqB,CAACkO,cAAcxkB,GAAGxB,KAAK6W,wBAAuB,EAAG7W,KAAK4W,sBAAqB,EAAG,IAAI,MAAM7W,KAAKyB,EAAExB,KAAKkmB,YAAYnmB,EAAEC,KAAKgkB,kBAAkBjkB,EAAE2T,IAAIuD,KAAGC,MAAMlX,KAAKmkB,kBAAkBnkB,KAAK6V,WAAW7V,KAAKsO,MAAM1H,KAAK6C,QAAQD,WAAWxJ,KAAKmkB,mBAAmBnkB,KAAKsO,MAAM1H,KAAK2C,aAAaC,UAAU,CAACuc,YAAYvkB,GAAG,IAAI,MAAMzB,KAAKyB,EAAE,CAAC,MAAMA,EAAEzB,EAAE2O,IAAI,IAAI5O,EAAEE,KAAKmW,gBAAgBjH,IAAI1N,GAAG1B,EAAEA,EAAEkH,IAAIlH,EAAE+Q,QAAQsV,GAAGC,KAAKtmB,EAAEumB,gBAAgBvH,QAAQ9e,KAAKsW,gBAAgBxW,EAAEE,KAAKyW,oBAAoB6P,UAAUtmB,KAAKsW,eAAetW,KAAKmW,gBAAgBzG,IAAIlO,EAAE1B,IAAIA,EAAEkH,IAAIjH,CAAC,CAACC,KAAK0e,aAAa,WAAW1e,KAAK0e,aAAa,oBAAoB,CAAC/b,OAAOnB,GAAGxB,KAAK8X,wBAAwBb,KAAGc,MAAM/X,KAAKumB,eAAe/kB,GAAGxB,KAAKwmB,iBAAiBhlB,GAAGxB,KAAK0e,aAAa,WAAW,CAAC8H,iBAAiBhlB,GAAG,IAAI,MAAMzB,KAAKyB,EAAExB,KAAKymB,eAAe1mB,GAAGC,KAAKmkB,kBAAkBnkB,KAAK6V,UAAU7V,KAAKsO,MAAM1H,KAAK6C,QAAQD,WAAWxJ,KAAKsO,MAAM1H,KAAK2C,aAAaC,UAAU,CAAC+c,eAAe/kB,GAAG,IAAI,MAAMzB,KAAKyB,EAAE,CAAC,MAAMA,EAAEzB,EAAE2O,IAAI5O,EAAEE,KAAKmW,gBAAgBjH,IAAI1N,GAAG,GAAG1B,EAAEA,EAAEkH,MAAMlH,EAAE6C,OAAO7C,EAAEkH,IAAI,KAAKhH,KAAKmW,gBAAgBhH,OAAO3N,GAAG1B,EAAE+Q,QAAQsV,GAAG9C,SAASvjB,EAAEumB,gBAAgBvH,QAAQ9e,KAAKsW,oBAAoB,CAAC,MAAMxW,EAAEE,KAAKyW,oBAAoB6P,UAAUxmB,EAAE6C,OAAO5C,EAAEC,KAAKmW,gBAAgBzG,IAAIlO,EAAE1B,GAAGE,KAAKuW,iBAAiB,CAAC,CAAC,IAAIvW,KAAKmW,gBAAgBpL,MAAM/K,KAAK0mB,wBAAwB1mB,KAAK0e,aAAa,WAAW1e,KAAK0e,aAAa,oBAAoB,CAACgI,wBAAwB1mB,KAAKyW,oBAAoB7V,QAAQZ,KAAKmkB,mBAAmBnkB,KAAKsW,cAActW,KAAKuW,kBAAkB7C,GAAGiT,KAAK,8CAA8C3mB,KAAKsW,aAAa,EAAEtW,KAAKuW,gBAAgB,CAAC,CAACiK,qBAAqBhf,GAAE,MAAC,GAAGxB,KAAK6W,wBAAuB,EAAG7W,KAAK4W,sBAAqB,EAAG,IAAI5W,KAAKmW,gBAAgBpL,MAAwB,OAApB,EAAE/K,KAAKwV,gBAAL,EAAoBjO,SAASvH,KAAKwV,cAAcxF,aAAa,CAAC,IAAI,MAAMjQ,EAAED,KAAKE,KAAKmW,gBAAgB,CAAC,GAAG3U,EAAEolB,KAAK,MAAM9mB,EAAEkH,KAAKlH,EAAE+Q,QAAQsV,GAAGC,KAAKpmB,KAAK6mB,yBAAyB/mB,GAAG,IAAI8C,EAAE5C,KAAK8X,sBAAsB,IAAIhY,EAAE6C,QAAQ7C,EAAEkH,KAAKlH,EAAE+Q,QAAQsV,GAAGW,QAAQ9mB,KAAKuW,kBAAkB/U,EAAEulB,eAAe/mB,KAAKymB,eAAe3mB,EAAE6C,QAAQ7C,EAAE6C,OAAO,KAAKC,EAAEqU,KAAGC,MAAMpX,EAAEkH,IAAI,OAAOlH,EAAE+Q,OAAO,KAAKsV,GAAGW,MAAM9mB,KAAKkmB,YAAYpmB,EAAEkH,IAAIlH,EAAE0N,cAAc5K,GAAG9C,EAAEkH,IAAI,KAAKhH,KAAKsW,eAAe9U,EAAEulB,eAAe,MAAM,KAAKZ,GAAGa,SAASlnB,EAAEkH,IAAI,KAAKhH,KAAKsW,eAAe,KAAK6P,GAAG9C,SAAS,MAAMvjB,EAAE6C,QAAQ,MAAM7C,EAAEkH,KAAKhH,KAAKmW,gBAAgBhH,OAAOpP,EAAE,CAAC,IAAIC,KAAKmW,gBAAgBpL,OAAO/K,KAAK0mB,wBAAwB1mB,KAAK0e,aAAa,WAAW,CAAC,CAACmI,yBAAyBrlB,GAAG,IAAIA,EAAEwF,IAAI,YAAYxF,EAAEqP,MAAMsV,GAAGW,OAAO,MAAM/mB,EAAEyB,EAAEwF,IAAIxB,SAAS5F,YAAEG,IAAI,SAASA,EAAE8I,OAAO9I,EAAEkmB,OAAOjmB,KAAKinB,6BAA6BzlB,EAAEzB,GAAGC,KAAKknB,sCAAsC1lB,EAAE,CAACuL,mCAAmCvL,EAAEzB,GAAGyB,EAAEqP,MAAMsV,GAAG9C,QAAQ7hB,EAAE6kB,gBAAgB,IAAIlK,gBAAgB,MAAMrc,EAAE0B,EAAE6kB,gBAAgBhK,OAAO,UAAUtc,EAAEoC,KAAK,CAACka,OAAOvc,GAA2D,CAAvD,MAAM8C,GAAG,OAAO5C,KAAKmnB,8BAA8B3lB,EAAEoB,EAAE,CAACpB,EAAE6kB,gBAAgB,KAAKrmB,KAAKknB,sCAAsC1lB,EAAE,CAAC2lB,8BAA8B3lB,EAAEzB,GAAGyB,EAAE6kB,gBAAgB,KAAKe,YAAErnB,GAAGyB,EAAEqP,MAAMsV,GAAGC,IAAI5kB,EAAEqP,MAAMsV,GAAGa,QAAQ,CAACja,4CAA4CvL,GAAG,GAAGpB,YAAEJ,KAAKmG,MAAM4F,WAAW,eAAe/L,KAAKmG,MAAM4F,SAASlD,KAAK,OAAOrH,EAAEgM,cAAcxN,KAAKgkB,kBAAkBxiB,EAAEwF,IAAI0M,SAASlS,EAAEqP,MAAMsV,GAAGW,OAAOtlB,EAAEqP,MAAMsV,GAAG9C,QAAQ7hB,EAAE6kB,gBAAgB,IAAIlK,gBAAgB,IAAIpc,EAAE,KAAK,IAAIA,QAAQC,KAAKqnB,uBAAuB7lB,EAAEwF,IAAI,CAACqV,OAAO7a,EAAE6kB,gBAAgBhK,QAA6F,CAApF,MAAMvc,GAAG,OAAO0B,EAAE6kB,gBAAgB,UAAUe,YAAEtnB,GAAG0B,EAAEqP,MAAMsV,GAAGC,IAAI5kB,EAAEqP,MAAMsV,GAAGa,SAAS,CAAC5mB,YAAEL,IAAIK,YAAEL,EAAE8M,SAAS6G,KAAK1T,KAAK4W,uBAAuB5W,KAAK4W,sBAAqB,EAAGlD,GAAGiT,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,yCAAyClZ,EAAEgM,cAAc,MAAMhM,EAAEgM,cAAczN,EAAEyB,EAAEqP,MAAMsV,GAAGW,KAAK,CAACZ,YAAY1kB,EAAEzB,EAAED,GAAG,GAAGE,KAAK2U,uBAAuBjF,IAAIlO,EAAEkN,IAAIlN,GAAGpB,YAAEL,IAAIK,YAAEL,EAAE8M,UAAUya,YAAE9lB,GAAG,OAAOwG,YAAI,8CAA8ChI,KAAKuX,iBAAiBvX,KAAKgM,MAAMub,WAAWC,8BAA8BC,yBAAyBjmB,EAAE0D,SAAS1D,EAAEkN,IAAI1O,KAAKmG,MAAMuU,GAAG1a,KAAKmG,MAAMuI,IAAI1O,KAAKmG,MAAMuhB,cAAc,MAAM9kB,EAAE7C,EAAE8M,OAAOnL,EAAE1B,KAAK2nB,4BAA4B/kB,EAAE7C,EAAEgM,UAAU,GAAG3L,YAAEsB,GAAG,OAAO1B,KAAKwjB,sBAAsBhiB,EAAEgE,UAAU,MAAM3D,EAAE7B,KAAKokB,oBAAoB5iB,GAAGD,EAAE,IAAIqmB,KAAGpmB,EAAEzB,EAAEC,KAAKmG,OAAO,IAAItD,GAAE,EAAG,MAAM3C,EAAEsB,IAAIA,IAAIE,EAAEmL,OAAO6N,KAAK7X,GAAE,EAAG,EAAE7C,KAAK+W,mBAAmB/U,KAAK9B,GAAG,MAAMmE,EAAE,KAAK,KAAKrE,KAAKwW,iBAAgBxW,KAAK6nB,UAA/B,CAA2F,GAA3C7nB,KAAK+W,mBAAmB+Q,gBAAgB5nB,GAAMF,KAAK4U,0BAA0B1F,IAAI1N,EAAEkN,OAAO7M,GAAGgB,GAAGnB,EAAEmmB,WAAW7nB,KAAKqX,wBAAwB7V,EAAEqL,QAAQrL,EAAEqL,OAAO6N,KAAKhZ,EAAEmL,OAAO6N,KAAKhZ,EAAEqmB,WAAW/nB,KAAKmkB,sBAAsB,CAAC,MAAMpkB,EAAEC,KAAKgoB,yBAAyBtmB,EAAEH,GAAGvB,KAAKwV,eAAe5V,YAAEG,IAAIC,KAAKwV,cAAcxO,IAAIjH,KAAK2B,EAAEqmB,WAAW/nB,KAAKqkB,kBAAkB7iB,EAAE,CAACxB,KAAK2V,cAAc3K,OAAOiE,KAAK,WAAWjP,KAAK6V,UAAU7V,KAAKsO,MAAM1H,KAAK6C,QAAQD,UAAnb,CAA6b,EAAEhG,EAAEzD,MAAMC,KAAKwW,gBAAgBxW,KAAK6nB,YAAY7nB,KAAK+W,mBAAmB+Q,gBAAgB5nB,GAAG2C,IAAIukB,YAAErnB,GAAGC,KAAKgH,IAAI,CAACxF,IAAIE,EAAEmmB,WAAW7nB,KAAKqkB,kBAAkB7iB,IAAI,IAAIxB,KAAKwW,gBAAgB1W,IAAImX,KAAGc,MAAMrW,EAAES,MAAM,IAAInC,KAAKqU,WAAW1I,SAAStH,KAAK7C,GAAGxB,KAAKqU,WAAW1I,UAAU,IAAInI,EAAEhC,OAAOE,EAAES,KAAKkC,EAAEb,EAAE,CAACijB,eAAejlB,GAAG,MAAMzB,EAAEyB,EAAEkN,IAAI5O,EAAEE,KAAKsU,mBAAmBpF,IAAInP,GAAG,GAAGD,EAAE,OAACA,EAAEwjB,iBAAiB2E,gBAAgBnoB,GAAG,MAAM0B,EAAE1B,EAAE+Z,WAAWjX,EAAE9C,EAAEyS,kBAAkBvS,KAAK2lB,mBAAmB7lB,EAAEC,GAAqB,OAAnB,EAACC,KAAKwV,gBAAL,EAAoB7S,OAAO7C,GAAG,MAAM4B,EAAE5B,EAAEwjB,iBAAiBzW,OAAO6N,GAAG1a,KAAKwU,kBAAkBtF,IAAIxN,GAAGyN,OAAOpP,GAAGC,KAAK2U,uBAAuBxF,OAAOpP,GAAGC,KAAK4lB,yBAAyB7lB,EAAEyB,EAAEoB,GAAG9C,EAAEe,UAAUb,KAAK2V,cAAc3K,OAAOiE,KAAK,UAAU,MAAMjP,KAAK2U,uBAAuBxF,OAAOpP,GAAGC,KAAK4U,0BAA0BzF,OAAOpP,GAAG,IAAIC,KAAK4U,0BAA0B7J,OAAO/K,KAAKmkB,kBAAkBnkB,KAAK0e,aAAa,YAAY,CAAC3D,oBAAoBvZ,GAAG,GAAGA,aAAa0mB,MAAI1mB,aAAa2mB,KAAG,CAAC,MAAMpoB,EAAEC,KAAKmU,sBAAsBhO,MAAM,QAAQpG,EAAE+H,cAAc/H,EAAE+H,aAAaC,MAAMhI,GAAGA,EAAE8M,SAASrL,GAAG,CAAC,OAAM,CAAE,CAAC4mB,+BAA+B5mB,GAAG,QAAQA,aAAa0mB,OAAKloB,KAAK+a,oBAAoBvZ,MAAMkS,GAAG5J,MAAM,oHAAmH,EAAG,CAACka,kBAAkBxiB,EAAEzB,GAAG,MAAMD,EAAE0B,EAAEgE,SAAS,GAAGpF,YAAEN,GAAG,OAAOC,IAAIC,KAAK6W,yBAAyB7W,KAAK6W,wBAAuB,EAAG9W,EAAE4mB,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,2CAA2C,KAAK,IAAI2N,YAAEvoB,EAAE4H,iBAAiB1H,KAAKiV,uBAAuB,OAAOlV,IAAIC,KAAK6W,yBAAyB7W,KAAK6W,wBAAuB,EAAG9W,EAAE4mB,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,8DAA8D,KAAK,IAAI1a,KAAKqX,wBAAwBzX,YAAE4B,EAAEqL,QAAQ,OAAO9M,IAAIC,KAAK4W,uBAAuB5W,KAAK4W,sBAAqB,EAAG7W,EAAE4mB,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,+DAA+D,KAAK,MAAM9X,EAAE5C,KAAKiU,8BAA8BqU,YAAE9mB,EAAExB,KAAKmG,OAAO3E,EAAE,IAAIE,EAAqN,OAAnHA,EAA7F1B,KAAKsO,MAAMia,mBAAmBvoB,KAAKsX,iCAAiC1X,YAAEI,KAAKgU,kBAAoBhU,KAAKsO,MAAMia,iBAAiB3lB,EAAE5C,KAAKgU,gBAAgBhU,KAAKkV,iBAAwB,CAACrI,OAAOjK,EAAEiK,QAAQ5L,EAAE2B,EAAE4C,WAAkBpF,YAAEsB,IAAItB,YAAEsB,EAAEmL,SAAS9M,IAAIC,KAAK4W,uBAAuB5W,KAAK4W,sBAAqB,EAAG7W,EAAE4mB,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,yCAAyC,MAAMhZ,CAAC,CAAC2lB,uBAAuB7lB,EAAEzB,GAAG,MAAMD,EAAE0B,EAAEgE,SAAS,GAAGpF,YAAEN,GAAG,OAAO4T,KAAK1T,KAAK6W,yBAAyB7W,KAAK6W,wBAAuB,EAAGnD,GAAGiT,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,2CAA2C,KAAK,IAAI1a,KAAKqX,wBAAwBzX,YAAE4B,EAAEqL,QAAQ,OAAO6G,KAAK1T,KAAK4W,uBAAuB5W,KAAK4W,sBAAqB,EAAGlD,GAAGiT,KAAM,oBAAmB3mB,KAAKmG,MAAMuU,+DAA+D,KAAK,MAAM9X,EAAE5C,KAAKiU,8BAA8BqU,YAAE9mB,EAAExB,KAAKmG,OAAO3E,EAAE,OAAOxB,KAAKsO,MAAMka,sBAAsB5lB,EAAE5C,KAAKgU,gBAAgBhU,KAAKkV,gBAAgBnV,EAAE,CAAC0oB,wBAAwBjnB,EAAEzB,GAAG,IAAIC,KAAKooB,+BAA+B5mB,GAAG,OAAO,KAAK,MAAM1B,EAAEE,KAAKwa,oBAAoBhZ,GAAG,IAAI1B,EAAE,OAAO,KAAK,IAAI8C,EAAE,GAAGhD,YAAEG,IAAI,yBAAyBA,GAAGA,EAAEmb,qBAAqB,CAAC,MAAM1Z,EAAEmZ,YAAG5a,EAAEmb,qBAAqB,CAACwN,eAAc,IAAK9oB,YAAE4B,EAAEqL,SAAS,cAAcrL,EAAEqL,OAAOhE,MAAM,QAAQrH,EAAEqL,OAAOhE,OAAOjG,EAAEpB,EAAEqL,OAAOlC,aAAa,CAAC,MAAMjJ,ECAxuvC,SAAW5B,EAAEC,EAAEyB,GAAG,IAAIgC,EAAsC,OAAbA,EAApB,aAAa1D,EAAE+I,KAAOhG,GAASD,KAAS,IAAIY,EAAE1D,EAAEC,EAAEyB,EAAE,CDA2pvCmnB,CAAG7oB,EAAEE,KAAKmU,sBAAsBvR,GAAG,OAAOlB,EAAES,MAAM,KAAK,MAAMX,EAAEE,EAAE+T,cAAcjU,EAAExB,KAAKyV,eAAezV,KAAKwI,KAAK,gBAAgBhH,GAAGxB,KAAK0e,aAAa,0BAA0B,IAAI,SAAShd,CAAC,CAACimB,4BAA4BnmB,EAAEzB,GAAG,IAAID,EAAEE,KAAK0U,SAASxF,IAAI1N,EAAEkZ,IAAI,YAAO,IAAS5a,IAAIA,EAAE0B,aAAaonB,KAAG,IAAIC,KAAGrnB,GAAGA,GAAGxB,KAAKqU,WAAW1I,SAASnK,KAAKA,GAAGxB,KAAKyoB,wBAAwBjnB,EAAEzB,KAAKC,KAAKyoB,wBAAwBjnB,EAAEzB,GAAGC,KAAK0U,SAAShF,IAAIlO,EAAEkZ,GAAG5a,IAAIF,YAAEE,MAAMA,EAAEioB,WAAWjoB,CAAC,CAACgpB,kBAAkBtnB,GAAG,OAAOpB,YAAEJ,KAAKkU,yBAAyBlU,KAAKkU,sBAAsB,IAAI6U,GAAG/oB,OAAOA,KAAKkU,sBAAsBlN,IAAIxF,EAAE,CAACwnB,sBAAsBxnB,GAAGxB,KAAKwX,aAAahW,EAAEqY,WAAW7Z,KAAKsU,mBAAmB5E,IAAIlO,EAAEoH,QAAQ8F,IAAIlN,GAAGxB,KAAKoW,oBAAoB5U,EAAE+Q,oBAAoBvS,KAAKqW,sCAAsCrW,KAAKmlB,qCAAqCnlB,KAAKqd,wBAAwB,CAACuI,yBAAyBpkB,EAAEzB,EAAED,GAAE,GAAIE,KAAKwX,aAAazX,EAAEC,KAAKsU,mBAAmBnF,OAAO3N,GAAGxB,KAAKoW,oBAAoBtW,IAAIE,KAAKqW,sCAAsCrW,KAAKmlB,qCAAqCnlB,KAAKqd,wBAAwB,CAAC2K,yBAAyBxmB,EAAEzB,GAAE,UAAC,MAAMD,EAAEC,EAAE6I,QAAQ,GAAG5I,KAAK2U,uBAAuBxF,OAAOrP,EAAE4O,MAAM1O,KAAK0U,SAAS1M,IAAIxG,EAAEqL,OAAO6N,IAAI,OAAO1a,KAAKgH,IAAI,CAAClH,IAAI,KAAK,GAAGE,KAAKsU,mBAAmBtM,IAAIlI,EAAE4O,KAAK,OAAO,KAAK,MAAM9L,EAAEpB,EAAE0L,wBAAwBnN,GAAG,GAAGK,YAAEwC,GAAG,OAAO,KAAK5C,KAAKgpB,sBAAsBpmB,GAAG,MAAMlB,EAAEF,EAAEqL,OAAO6N,GAAmH,GAAhH1a,KAAKwU,kBAAkBxM,IAAItG,IAAI1B,KAAKwU,kBAAkB9E,IAAIhO,EAAE,IAAIyM,KAAKnO,KAAKwU,kBAAkBtF,IAAIxN,GAAGgO,IAAI5P,EAAE4O,IAAI9L,GAAMA,EAAEmM,UAAU/O,KAAKuU,oBAAoBvN,IAAIlH,EAAE4O,KAAK9L,EAAE8C,SAAS,KAAK9F,YAAEE,EAAE0F,WAAW,UAAU1F,EAAE0F,SAASqD,OAAOjG,EAAE8C,SAASujB,aAAGnpB,EAAE0F,SAASxF,KAAKiV,wBAAwBjV,KAAK0gB,sBAAsB9d,GAAGhD,YAAEI,KAAKsV,mBAAmBtV,KAAKsV,iBAAiBtM,iBAAiBpG,GAAGhD,YAAEI,KAAKuV,mBAAmB,CAAC,MAAM2T,kBAAkB1nB,GAAGxB,KAAKuV,kBAAkB3S,EAAEqG,kBAAkB4S,IAAGC,OAAOta,EAAEwa,IAAG7S,SAAS3H,GAAGxB,KAAKuV,kBAAkB4T,SAAS,CAAmB,OAAlB,EAAAnpB,KAAK4V,gBAAL,EAAoBxG,WAAWxM,GAAgB,OAAd,EAAC5C,KAAK6V,WAAL,EAAezG,WAAWxM,GAAqB,OAAnB,EAAC5C,KAAK8V,gBAAL,EAAoB1G,WAAWxM,GAAG5C,KAAK4V,eAAe5V,KAAKsO,MAAM1H,KAAK2C,aAAa6f,6BAA6BppB,KAAK4C,GAAGA,EAAE8D,WAAW1G,KAAKgM,MAAMhM,KAAK2Q,WAAW3Q,KAAKsO,OAAO1O,YAAEI,KAAKkU,wBAAwBlU,KAAKkU,sBAAsB9E,WAAWxM,GAAG,MAAMf,EAAE7B,KAAKkW,+BAA+BpW,EAAE4O,KAAK,OAAO7M,WAAW7B,KAAKkW,+BAA+BpW,EAAE4O,KAAK7M,EAAEkf,QAAQne,IAAIA,CAAC,CAACmc,uBAAuB/e,KAAKmV,iCAAiCnV,KAAKmV,+BAA+B2J,QAAQ9e,KAAKmV,+BAA+B,KAAK,CAACpI,qBAAqBvL,GAAG,GAAGxB,KAAK+e,uBAAuBvd,IAAIxB,KAAKgU,gBAAgB,GAAGhU,KAAKqpB,kBAAkB7nB,GAAGpB,YAAEoB,IAAIxB,KAAKspB,uBAAuB,MAAK,GAAIC,YAAE/nB,GAAG,GAAG5B,YAAE4B,IAAIA,EAAEgoB,eAAe,CAAC,MAAMzpB,EAAE,IAAIoc,gBAAgBnc,KAAKmV,+BAA+BpV,EAAE,MAAM0pB,YAAY3pB,SAASE,KAAK0pB,gBAAgBhnB,YAAE3C,GAAG,MAAM6C,EAAE9C,EAAE6pB,sBAAsBnoB,GAAGoB,UAAU9C,EAAE8pB,2BAA2BlnB,YAAE3C,IAAIC,KAAK8X,wBAAwBb,KAAGc,YAAY/X,KAAKqU,WAAW1I,UAAU,IAAI3L,KAAKspB,uBAAuB9nB,EAAEoB,IAAI7C,EAAEsc,QAAQrc,KAAKspB,uBAAuB9nB,EAAEoB,GAAG5C,KAAKmV,+BAA+B,IAAI,MAAM,GAAGnV,KAAK8X,wBAAwBb,KAAGc,MAAM,CAAC,MAAMhY,EAAE,IAAIoc,gBAAgBnc,KAAKmV,+BAA+BpV,QAAQC,KAAKqU,WAAW1I,UAAU,IAAI3L,KAAKspB,uBAAuB9nB,GAAE,IAAKzB,EAAEsc,QAAQrc,KAAKmV,+BAA+B,IAAI,MAAMnV,KAAKspB,uBAAuB9nB,GAAE,QAASxB,KAAKspB,uBAAuB9nB,GAAE,EAAG,CAACuL,sBAAsB,OAAO3M,YAAEJ,KAAKkV,kBAAkBlV,KAAKkV,sBAAsB2U,cAAI7pB,KAAKkV,iBAAiBlV,KAAKkV,eAAe,CAACoU,uBAAuB9nB,EAAEzB,GAAGC,KAAKgU,gBAAgBxS,EAAExB,KAAKiU,8BAA8BlU,EAAEC,KAAKmU,sBAAsB2V,OAAOhpB,YAAEd,KAAKkV,iBAAiB,MAAMpV,EAAEE,KAAKmU,sBAAsBpI,SAAS,GAAGvK,IAAI1B,EAAE,OAAO,GAAGE,KAAKyU,uBAAuB7T,QAAQR,YAAEoB,GAAG,OAAOxB,KAAKmU,sBAAsBpI,SAAS,UAAU/L,KAAKsd,gCAAgC,MAAM1a,EAAE8gB,YAAE5jB,EAAE0B,GAAGxB,KAAK+pB,+BAA+BnnB,EAAEpB,EAAE1B,GAAGE,KAAKmU,sBAAsBpI,SAASvK,EAAEpB,YAAEwC,KAAK,aAAaA,EAAEiG,KAAK7I,KAAKsd,gCAAgC,YAAY1a,EAAEiG,OAAO7I,KAAKgqB,mBAAmBpnB,EAAEpB,EAAE1B,GAAGE,KAAKiqB,2BAA2BjqB,KAAKsd,iCAAiCtd,KAAK0e,aAAa,2BAA2B,CAACwL,qBAAqB1oB,GAAG,IAAI,MAAMzB,KAAKyB,EAAEoiB,KAAK,OAAO7jB,GAAG,IAAI,kBAAkB,IAAI,gBAAgB,IAAI,mBAAmB,MAAM,IAAI,oBAAoB,IAAI,gBAAgB,IAAI,wBAAwByB,EAAEoiB,KAAK7jB,GAAG,MAAM,QAAQ,OAAM,EAAG,OAAM,CAAE,CAACoqB,oBAAoB3oB,EAAEzB,EAAED,GAAG0B,EAAEA,GAAG,GAAGzB,EAAEA,GAAG,GAAG,MAAM6C,EAAE,GAAG,IAAI,MAAMlB,KAAK3B,EAAE,CAAC,MAAMA,EAAEC,KAAKwU,kBAAkBtF,IAAIxN,EAAEgZ,IAAI3a,GAAGA,EAAE4O,SAAS,CAAC9M,EAAEN,KAAK,MAAMsB,EAAEhB,EAAE+G,QAAQ1I,EAAEF,KAAKmG,iBAAiB+L,IAAElS,KAAKmG,MAAM,KAAKvG,EAAEkB,YAAEd,KAAKkV,iBAAiB,GAAGxT,IAAI5B,EAAEsqB,eAAetqB,EAAEuqB,UAAU/B,YAAEzlB,EAAE3C,GAAG,CAAC4pB,OAAOlqB,MAAME,EAAEsqB,cAAc,OAAO,MAAM/lB,EAAExC,EAAEgY,WAAWrY,EAAEI,QAAQ9B,EAAEsqB,cAAcxnB,EAAEZ,KAAKa,GAAG7C,KAAK2U,uBAAuBjF,IAAInO,EAAEsB,GAAG,MAAMzC,EAAEJ,KAAKsU,mBAAmBpF,IAAI3N,GAAGvB,KAAK2lB,mBAAmBvlB,EAAEmB,GAAGM,EAAEhB,UAAUd,EAAEoP,OAAO5N,GAAGvB,KAAK4lB,yBAAyBrkB,EAAE8C,GAAGrE,KAAKqd,wBAAwB,IAAIrd,KAAK+W,mBAAmB7D,QAAQ1R,GAAGA,EAAEE,EAAEgZ,KAAK,EAAElZ,EAAEI,QAAQgB,EAAEhB,UAAU5B,KAAK2U,uBAAuBhG,SAASnN,GAAGoB,EAAEZ,KAAKR,KAAKxB,KAAK2U,uBAAuB/T,QAAQZ,KAAKgH,IAAIpE,IAAI5C,KAAKmkB,kBAAkBnkB,KAAK6V,UAAU7V,KAAKsO,MAAM1H,KAAK6C,QAAQD,WAAWxJ,KAAKsO,MAAM1H,KAAK2C,aAAaC,UAAU,CAAC8gB,8BAA8B9oB,EAAEzB,EAAED,GAAG,MAAM8C,EAAEpB,EAAEoiB,KAAKwG,cAAc1oB,EAAEF,EAAEoiB,KAAK2G,iBAAiB,GAAG3nB,GAAGlB,EAAE,CAAC,MAAMG,EAAEH,EAAEA,EAAEghB,MAAM8H,KAAKhpB,GAAGA,EAAEqL,SAAS,GAAGtL,EAAEG,EAAEA,EAAEihB,QAAQ6H,KAAKhpB,GAAGA,EAAEqL,SAAS,GAAG,GAAGnL,EAAE,IAAI,IAAIF,EAAE,EAAEA,EAAEE,EAAE+oB,QAAQ7oB,OAAOJ,IAAIK,EAAEG,KAAKN,EAAE+oB,QAAQjpB,GAAG+hB,SAAS1W,QAAQtL,EAAES,KAAKN,EAAE+oB,QAAQjpB,GAAGiiB,SAAS5W,QAAQ,OAAOjK,GAAG9C,EAAEsqB,eAAe7oB,EAAES,KAAKlC,EAAEsqB,eAAerqB,EAAEqqB,eAAevoB,EAAEG,KAAKjC,EAAEqqB,gBAAgBtqB,EAAEsqB,eAAevoB,EAAED,QAAQL,EAAES,KAAKjC,EAAEqqB,eAAepqB,KAAKmqB,oBAAoBtoB,EAAEN,EAAExB,UAAUyB,EAAEoiB,KAAKwG,qBAAqB5oB,EAAEoiB,KAAK2G,kBAAiB,CAAE,CAAC,OAAM,CAAE,CAACG,iCAAiClpB,EAAEzB,EAAED,GAAG,GAAG,kBAAkB,MAADC,OAAC,EAADA,EAAG8I,OAAM,kBAAkB,MAAD/I,OAAC,EAADA,EAAG+I,OAAMjJ,YAAE4B,IAAI,YAAYA,EAAEqH,KAAK,MAAM,GAAG,MAAMjG,EAAEpB,GAAG5B,YAAE4B,GAAGA,EAAEkZ,GAAG,KAAKhZ,EAAEF,GAAGA,EAAEoiB,KAAK/hB,EAAEH,GAAGA,EAAE0oB,cAAc7oB,EAAEG,GAAGA,EAAE6oB,iBAAiB,IAAI1nB,EAAE,GAAGtB,EAAEsB,EAAEtB,EAAEopB,UAAUH,KAAKhpB,IAAC,CAAIopB,MAAMhoB,EAAEpB,EAAEiiB,SAAS5W,QAAQge,MAAMjoB,EAAEpB,EAAE+hB,SAAS1W,gBAAgB,CAAChK,EAAE,GAAG,IAAI,MAAMrB,KAAK1B,EAAEyqB,iBAAiB,CAAC,MAAMzqB,EAAE8C,EAAEpB,EAAEqL,QAAQnL,EAAE3B,EAAEwqB,iBAAiB5I,MAAM5hB,GAAGA,EAAE+qB,QAAQtpB,EAAEspB,QAAQppB,GAAG5B,IAAI8C,EAAElB,EAAEmL,SAAShK,EAAEb,KAAK,CAAC4oB,MAAM9qB,EAAE+qB,MAAMjoB,EAAElB,EAAEmL,SAAS,CAAC,CAAC,OAAOhL,GAAG/B,EAAEsqB,eAAevnB,EAAEb,KAAK,CAAC4oB,MAAMhoB,EAAE9C,EAAEsqB,eAAeS,MAAMjoB,EAAE7C,EAAEqqB,iBAAiBvnB,CAAC,CAAC8gB,qBAAqBniB,EAAEzB,GAAG,MAAMD,EAAEF,YAAEG,IAAIA,EAAE,iBAAiBA,EAAEA,EAAEA,EAAE2a,GAAG,KAAK,IAAIlZ,GAAGA,IAAI1B,EAAE,OAAO,MAAM8C,EAAE5C,KAAKwU,kBAAkBtF,IAAI1N,GAAGxB,KAAKwU,kBAAkBrF,OAAO3N,QAAG,IAASoB,GAAG5C,KAAKwU,kBAAkB9E,IAAI5P,EAAE8C,GAAG,MAAMlB,EAAE1B,KAAK0U,SAASxF,IAAI1N,GAAG,QAAG,IAASE,IAAI1B,KAAK0U,SAASvF,OAAO3N,GAAGxB,KAAK0U,SAAShF,IAAI5P,EAAE4B,GAAG9B,YAAE8B,IAAI,CAAC,MAAMF,EAAE,iBAAiBzB,EAAE,KAAKA,EAAEH,YAAE4B,GAAGE,EAAEmL,OAAOrL,EAAEE,EAAEmL,OAAO6N,GAAG5a,CAAC,CAAC,CAACiqB,+BAA+BvoB,EAAEzB,EAAED,GAAG,MAAM8C,EAAE5C,KAAK0qB,iCAAiClpB,EAAEzB,EAAED,GAAG,IAAI,MAAM8qB,MAAMlpB,EAAEmpB,MAAMhpB,KAAKe,EAAE5C,KAAK2jB,qBAAqBjiB,EAAEG,EAAE,CAACmoB,mBAAmBxoB,EAAE1B,EAAE8C,GAAG,GAAG5C,KAAKkqB,qBAAqB1oB,GAAG,OAAM,EAAG,GAAG1B,aAAaC,KAAG6C,aAAa7C,KAAGC,KAAKsqB,8BAA8B9oB,EAAE1B,EAAE8C,IAAI,IAAImoB,OAAOC,KAAKxpB,EAAEoiB,MAAMhiB,OAAO,OAAM,EAAG,IAAI,MAAM7B,KAAKC,KAAKwU,kBAAkB,CAAC,MAAM5R,EAAE5C,KAAK0U,SAASxF,IAAInP,GAAG,GAAGH,YAAEgD,GAAG,OAAOA,EAAEqoB,kBAAkBzpB,EAAE1B,IAAI,KAAKorB,KAAGC,gBAAgBnrB,KAAKklB,gBAAgBnlB,GAAG,MAAM,KAAKmrB,KAAGE,kBAAkBprB,KAAK6lB,2BAA2B9lB,GAAG,KAAKmrB,KAAGG,aAAa,CAAC,OAAM,CAAE,CAACC,gBAAgBtrB,KAAKglB,yBAAyB,CAACxjB,EAAEzB,IAAIyB,EAAE6L,sBAAsB,UAAUtN,KAAKC,KAAKyf,6BAA6B,CAAClC,yBAAyB/b,GAAGA,IAAIxB,KAAKmU,sBAAsB3H,oBAAoBxM,KAAKmU,sBAAsB3H,kBAAkBhL,EAAExB,KAAK2Q,WAAW4a,YAAY/pB,EAAExB,KAAKglB,yBAAyB,CAACxjB,EAAEzB,IAAIyB,EAAE6L,sBAAsB,oBAAoBtN,KAAKC,KAAK4V,eAAe5V,KAAK4V,cAAc4V,0BAA0BxrB,KAAK6V,UAAU7V,KAAK6V,SAAS2V,0BAA0B,CAAC9N,8BAA8Blc,GAAGxB,KAAKmU,sBAAsB1H,8BAA8BjL,EAAExB,KAAKglB,yBAAyB,CAACxjB,EAAEzB,EAAED,KAAK0B,EAAE6L,sBAAsB,gCAAgCtN,IAAIC,KAAKklB,gBAAgBplB,EAAE,GAAG,CAAC6d,0BAA0Bnc,GAAGxB,KAAKmU,sBAAsBzH,mBAAmBlL,EAAExB,KAAKglB,yBAAyB,CAACxjB,EAAEzB,EAAED,IAAIE,KAAKklB,gBAAgBplB,IAAI,CAAC2d,oBAAoBzd,KAAKglB,yBAAyB,CAACxjB,EAAEzB,EAAED,KAAK0B,EAAE6L,sBAAsB,aAAatN,IAAIC,KAAKklB,gBAAgBplB,EAAE,GAAG,CAACke,iDAAiDhe,KAAK0V,sCAAsC1V,KAAK0V,qCAAqC/S,SAAS3C,KAAK0V,qCAAqC5D,aAAG,KAAK9R,KAAK0V,qCAAqC,IAAI,GAAG,CAAC+V,kBAAkBjqB,EAAEzB,GAAG,MAAMD,EAAEE,KAAKmU,sBAAsBlI,eAAerJ,EAAE8oB,cAAI,OAAOC,aAAGnqB,EAAEoB,EAAE7C,GAAGC,KAAKmU,sBAAsBlI,eAAe2f,YAAEpY,cAAI5Q,GAAG5C,KAAKmU,sBAAsBlI,eAAe,MAAMjL,YAAEhB,KAAKmU,sBAAsBlI,eAAenM,EAAE,CAACmK,oCAAoCzI,GAAE,MAAC,IAAIzB,GAAE,EAAGC,KAAKsU,mBAAmB3F,SAAS7O,IAAI0B,EAAE1B,KAAKC,GAAE,EAAG,IAAIA,IAA2B,OAAvB,EAAAC,KAAKsO,MAAM1H,KAAK6C,UAAhB,EAAyBD,WAAWxJ,KAAKsO,MAAM1H,KAAK2C,aAAaC,WAAW,CAACwb,wBAAwBxjB,GAAG,IAAI,MAAMzB,EAAED,KAAKE,KAAK0U,SAAS,CAAC,GAAGtU,YAAEN,GAAG,OAAO0B,EAAE1B,EAAEE,KAAKwU,kBAAkBtF,IAAInP,IAAI8rB,GAAG9rB,EAAE,CAAC,CAACoK,8BAA8BvK,YAAEI,KAAKuV,oBAAoBvV,KAAKuV,kBAAkB4T,UAAUnpB,KAAKiK,qCAAqCzI,IAAI,MAAMzB,EAAEC,KAAK0gB,sBAAsBlf,GAAG1B,EAAEF,YAAEI,KAAKsV,mBAAmBtV,KAAKsV,iBAAiBtM,iBAAiBxH,GAAG,OAAOzB,GAAGD,CAAC,GAAG,CAAC0f,mBAAmBxf,KAAKiK,qCAAqCzI,GAAGA,EAAEyH,kBAAkB4S,IAAG+E,cAAa,EAAG5E,IAAG7S,UAAU,CAACkgB,kBAAkB7nB,GAAE,MAAC,MAAMzB,EAAE+rB,YAAEtqB,EAAE,CAACoZ,aAAuB,OAAX,EAAC5a,KAAKmG,YAAK,EAAV,EAAYyU,eAAe,GAAG7a,EAAE,CAAC,MAAMyB,EAAG,uBAAsBxB,KAAKmG,MAAM4lB,MAAO,GAAE/rB,KAAKmG,MAAM4lB,UAAU,UAAU/rB,KAAKmG,MAAMuU,sCAAsChH,GAAGiT,KAAKnlB,EAAEzB,EAAEib,QAAQ,CAAC,CAACiP,2BAA0B,MAAc,OAAb,EAAAjqB,KAAK6V,WAAL,EAAezD,QAAQpS,KAAK2Q,WAAWqb,8BAA8BhsB,KAAK0e,aAAa,WAAW,CAACyF,kBAAkB,GAAGnkB,KAAK4U,0BAA0B7J,KAAK,GAAG/K,KAAKgV,sBAAsB,OAAO,IAAIxT,GAAE,EAAGxB,KAAK0U,SAAS/F,SAAS,CAAC5O,EAAED,KAAK,GAAGM,YAAEL,IAAIA,EAAEgoB,WAAW,EAAE,OAAO,MAAMnlB,EAAE5C,KAAKwU,kBAAkBtF,IAAIpP,GAAG8C,GAAG,IAAIA,EAAEmI,OAAO/K,KAAKwU,kBAAkBrF,OAAOrP,GAAGE,KAAK0U,SAASvF,OAAOrP,GAAG0D,YAAEzD,GAAGyB,GAAE,EAAG,IAAIA,IAAIxB,KAAKikB,0BAA0BjkB,KAAK0e,aAAa,2BAA2B,CAAKuN,WAAO,MAAM,CAACC,kBAAkB,MAAMC,SAAS,IAAInsB,KAAKsU,mBAAmB0W,QAAQ5mB,OAAOgoB,QAAQ,IAAIpsB,KAAK0U,SAASsW,QAAQ5mB,OAAOioB,iBAAiB,IAAIrsB,KAAKwU,kBAAkBwW,QAAQ5mB,OAAOomB,KAAKhpB,IAAC,CAAI8qB,SAAS9qB,EAAE2qB,SAAS,IAAInsB,KAAKwU,kBAAkBtF,IAAI1N,GAAGwpB,QAAQ5mB,WAAWmoB,sBAAsB,IAAIvsB,KAAK2U,uBAAuBqW,QAAQ5mB,OAAOooB,mBAAmB,IAAIxsB,KAAKuU,qBAAqBnQ,OAAOqoB,eAAezsB,KAAKmW,kBAAkBiW,QAAQpsB,KAAK0U,SAAS6D,iBAAiBvY,KAAKuV,kBAAkBmX,WAAW1sB,KAAKmW,gBAAgBpL,KAAK4hB,kBAAkBnrB,IAAIxB,KAAKmX,mBAAmB3V,CAAC,EAAE,CAAKorB,sBAAkB,MAAM,CAACjM,QAAQ3gB,KAAKsU,mBAAmBvJ,KAAK8hB,QAAQ7sB,KAAK2U,uBAAuB5J,KAAK+hB,QAAQ9sB,KAAKmW,gBAAgBpL,KAAK,GAAG,IAAIob,GAA6lF3kB,GAA1lFmS,GAAG2Q,OAAOhhB,cAAI9B,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,sBAAiB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,uBAAkB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qCAAgC,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,kBAAa,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,sCAAiC,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,2CAAsC,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,kCAA6B,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,2BAAsB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,wBAAmB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,yBAAoB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,0BAAqB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qBAAgB,GAAQ5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,qBAAgB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,4CAAuC,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qBAAgB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qBAAgB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,gBAAW,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qBAAgB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,uBAAkB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,6BAAwB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,0BAAqB,GAAQ5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,wBAAwB,MAAM5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,yCAAoC,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,aAAQ,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,aAAQ,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,8BAAyB,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,uCAAkC,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,0BAAqB,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,uBAAkB,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,eAAe,MAAM5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,oBAAoB,MAAM5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,kBAAkB,MAAM5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,qBAAqB,MAAM5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,eAAe,MAAM5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,mBAAmB,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,WAAW,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,UAAU,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,KAAMqJ,GAAGvJ,UAAU,2BAA2B,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,EAAG0iB,UAAU,MAAMrZ,GAAGvJ,UAAU,oBAAoB,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,EAAG0iB,UAAU,CAAC,mEAAmE,iEAAiE,8BAA8BrZ,GAAGvJ,UAAU,sBAAsB,MAAM5I,YAAE,CAACurB,YAAE,CAACziB,UAAS,EAAG0iB,UAAU,MAAMrZ,GAAGvJ,UAAU,0BAA0B,MAAM5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,YAAO,GAAQ5I,YAAE,CAACurB,YAAE,CAAC1iB,eAAc,KAAMsJ,GAAGvJ,UAAU,YAAO,GAAQ5I,YAAE,CAACurB,eAAKpZ,GAAGvJ,UAAU,iBAAiB,MAAMuJ,GAAGN,GAAG7R,YAAE,CAACyrB,YAAExZ,KAAKE,KAAanS,GAA8F2kB,KAAKA,GAAG,CAAC,IAAlG3kB,GAAE4kB,IAAI,GAAG,MAAM5kB,GAAEA,GAAE6hB,QAAQ,GAAG,UAAU7hB,GAAEA,GAAEslB,MAAM,GAAG,QAAQtlB,GAAEA,GAAEwlB,SAAS,GAAG,WAAyB,MAAMrQ,GAAG9W,cAAcG,KAAKgH,IAAI,KAAKhH,KAAKwN,cAAc,KAAKxN,KAAK6Q,MAAMsV,GAAGC,IAAIpmB,KAAK2C,OAAO,IAAI,CAAC/B,QAAQZ,KAAKgH,IAAI,KAAKhH,KAAKwN,cAAc,KAAKxN,KAAK6Q,MAAMsV,GAAGC,IAAIpmB,KAAKqmB,gBAAgB,KAAKrmB,KAAK2C,OAAO,IAAI,EAAE,MAAM4c,GAAG,GAAG2C,GAAG5e,cAAI8e,GAAG9e,cAAIuoB,GAAG,IAAI1d,G,oCEJ96qD,6IAIwtB,IAAI/N,EAAE,cAAcN,IAAED,YAAY2B,GAAGuD,MAAMvD,GAAGxB,KAAKktB,cAAc,IAAIttB,IAAEI,KAAKmtB,cAAa,EAAGntB,KAAKotB,yBAAyB,EAAEptB,KAAKqtB,kBAAkB,IAAIhf,IAAIrO,KAAK8U,SAAS,IAAIlS,IAAE5C,KAAKstB,kBAAiB,EAAGttB,KAAKkG,kBAAkB,KAAKlG,KAAKqG,aAAa,KAAKrG,KAAKgL,OAAO,IAAIjL,GAAC,CAAC2G,aAAa,MAAMlF,EAAExB,KAAK8L,kBAAkBhM,EAAEE,KAAKkG,kBAAkBU,KAAKC,mBAAmBC,UAAU9G,KAAK8U,SAAS9N,IAAI,CAACxF,EAAEyG,GAAG,oBAAoBzG,GAAGxB,KAAKutB,kBAAkB/rB,KAAKK,aAAG,IAAI7B,KAAKkG,kBAAkBM,YAAY,IAAIxG,KAAKwtB,qBAAqB1tB,EAAEmH,aAAa5C,IAAEopB,oBAAoBztB,OAAO,CAACa,UAAUb,KAAKqtB,kBAAkBzsB,QAAQZ,KAAK8U,SAASjU,UAAUb,KAAK8U,SAAS,KAAK9U,KAAKkG,kBAAkB,KAAKlG,KAAKqG,aAAa,KAAKrG,KAAKoG,yBAAyB,KAAKpG,KAAK8L,kBAAkB,IAAI,CAAClL,QAAQZ,KAAKqtB,kBAAkBzsB,QAAQZ,KAAK0e,aAAa,WAAW,CAAC8O,oBAAmB,IAAKxtB,KAAKkG,kBAAkBM,UAAUxG,KAAKstB,kBAAiB,GAAG,IAAKttB,KAAKkG,kBAAkBM,WAAWxG,KAAKstB,mBAAmBttB,KAAKmtB,cAAa,EAAGntB,KAAK0e,aAAa,YAAY,CAACqG,sBAAsB/kB,KAAKmtB,cAAa,EAAGntB,KAAK0e,aAAa,WAAW,CAAKnX,eAAW,OAAOvH,KAAKmI,OAAO,CAAKA,cAAU,OAAOnI,KAAKqtB,kBAAkBtiB,KAAK,GAAG/K,KAAKktB,gBAAgBltB,KAAKktB,cAAcQ,OAAO1tB,KAAKmtB,YAAY,CAAKhd,wBAAoB,OAAOnQ,KAAKqtB,kBAAkBtiB,KAAK/K,KAAKktB,cAAcniB,KAAK/K,KAAKotB,wBAAwB,CAAChlB,QAAQ5G,GAAG,IAAIxB,KAAKmtB,eAAentB,KAAK2tB,iCAAiC3tB,KAAKmtB,cAAa,EAAG3rB,EAAEulB,gBAAgBvlB,EAAEosB,KAAK,IAAI5tB,KAAKktB,cAAcW,MAAMrsB,KAAKxB,KAAKmI,UAAU3G,EAAEolB,MAAM5mB,KAAK8tB,qBAAqBtsB,GAAGxB,KAAK+tB,oBAAoBvsB,GAAGxB,KAAKkG,kBAAkBU,KAAK2C,aAAaC,WAAWxJ,KAAK0e,aAAa,WAAW,CAACoP,qBAAqBtsB,GAAG,MAAM1B,EAAEE,KAAKkG,kBAAkBU,KAAKsF,mBAAmBnM,EAAEC,KAAKqG,aAAayR,wBAAwBtU,IAAEuU,MAAM,IAAI,MAAMnV,KAAK5C,KAAKqtB,kBAAkBrC,OAAO,CAAC,MAAMnpB,EAAE7B,KAAKqG,aAAa2D,yBAAyBpH,GAAG,GAAG5C,KAAKqtB,kBAAkBle,OAAOvM,GAAGlB,YAAEG,KAAKA,EAAEmsB,mBAAmBhuB,KAAK8L,kBAAkBhM,EAAEC,GAAGyB,EAAEulB,gBAAgBvlB,EAAEolB,KAAK,MAAM,CAAC,CAACmH,oBAAoBvsB,GAAG,MAAMxB,KAAKktB,cAAcQ,QAAQlsB,EAAEolB,MAAM,CAAC,MAAM9mB,EAAEE,KAAKktB,cAAcjrB,MAAMlC,EAAEC,KAAK8L,kBAAkBpE,iBAAiB1H,KAAKgL,OAAOiE,KAAK,uBAAuB,CAACrF,OAAO9J,EAAE4H,iBAAiB3H,IAAI,MAAM6C,EAAE5C,KAAKqtB,kBAAkBtiB,KAAK/K,KAAKoG,yBAAyBtG,EAAEC,GAAGyB,IAAI,MAAM1B,EAAEE,KAAKqG,aAAa2D,yBAAyBxI,GAAGE,YAAE5B,IAAIA,EAAEmuB,yBAAyBjuB,KAAKqtB,kBAAkBrmB,IAAIxF,EAAE,IAAIxB,KAAKotB,yBAAyB,IAAIptB,KAAKqtB,kBAAkBtiB,KAAKnI,GAAG,GAAG5C,KAAKotB,yBAAyB5rB,EAAEulB,cAAc,CAAC,CAAC4G,iCAAiC3tB,KAAKktB,cAActsB,QAAQZ,KAAKqtB,kBAAkBzsB,QAAQZ,KAAKqG,aAAaiO,mBAAmB3F,SAAS,CAACnN,EAAE1B,IAAIE,KAAKqtB,kBAAkBrmB,IAAIlH,IAAI,CAACytB,kBAAkB/rB,GAAG,GAAG,UAAUA,EAAE4R,WAAWpT,KAAKqG,aAAaF,MAAMsL,eAAe,sBAAsBzR,KAAKqG,aAAaF,MAAMsL,cAAcC,MAAM,OAAO,MAAM9H,OAAO9J,EAAE4H,iBAAiB3H,GAAGyB,EAAE,GAAGxB,KAAKkG,kBAAkBM,UAAU,CAAC,IAAIxG,KAAKstB,iBAAiB,CAAC,MAAM9rB,EAAExB,KAAKqG,aAAayN,eAAetS,GAAG1B,EAAE,GAAG0B,EAAEmjB,MAAM7kB,EAAE,GAAG0B,EAAEqjB,MAAM/kB,EAAE,GAAG0B,EAAEojB,MAAM9kB,EAAE,GAAG0B,EAAEsjB,OAAO9kB,KAAKstB,kBAAiB,EAAG,CAACttB,KAAKgL,OAAOiE,KAAK,uBAAuB,CAACrF,OAAO9J,EAAE4H,iBAAiB3H,GAAG,MAAMD,EAAE,MAAK,IAAKE,KAAKmtB,cAAa,EAAGntB,KAAKktB,cAAclmB,IAAIlH,GAAGE,KAAK0e,aAAa,WAAW,GAAGld,YAAE,CAACD,eAAKnB,EAAEgK,UAAU,yBAAoB,GAAQ5I,YAAE,CAACD,eAAKnB,EAAEgK,UAAU,oBAAe,GAAQ5I,YAAE,CAACD,eAAKnB,EAAEgK,UAAU,gCAA2B,GAAQ5I,YAAE,CAACD,eAAKnB,EAAEgK,UAAU,yBAAoB,GAAQ5I,YAAE,CAACD,YAAE,CAAC+I,UAAS,KAAMlK,EAAEgK,UAAU,WAAW,MAAM5I,YAAE,CAACD,YAAE,CAAC+I,UAAS,KAAMlK,EAAEgK,UAAU,oBAAoB,MAAMhK,EAAEoB,YAAE,CAACqB,YAAE,+DAA+DzC,GAAG,MAAMF,EAAEE,C,oCCJ7yI,+DAI6P,MAAM8D,EAAErE,cAAcG,KAAKkuB,SAAS,IAAIpuB,IAAE,CAAC4W,UAAU5W,GAAGA,GAAG0B,gBAAMxB,KAAKmuB,WAAW3sB,cAAIxB,KAAKyG,QAAO,CAAE,CAAKinB,YAAQ,OAAO,IAAI1tB,KAAKkuB,SAAStsB,MAAM,CAAKmJ,WAAO,OAAO/K,KAAKkuB,SAAStsB,MAAM,CAAChB,QAAQZ,KAAKkuB,SAASttB,OAAO,CAACoG,IAAIlH,GAAGE,KAAKouB,UAAUtuB,KAAKE,KAAKquB,iBAAiBvuB,GAAG8C,YAAE5C,KAAKkuB,SAAS5H,UAAUxmB,GAAGE,KAAKyG,QAAO,EAAG,CAACxE,MAAM,OAAOjC,KAAKyG,QAAQzG,KAAKsuB,cAActuB,KAAKkuB,SAASjsB,KAAK,CAAC4rB,MAAM/tB,GAAG,OAAOE,KAAKsuB,YAAYxuB,GAAGA,EAAEyuB,aAAa,CAACD,YAAYxuB,EAAEF,KAAG,MAAM4B,EAAExB,KAAKkuB,SAASrrB,EAAE,IAAIwL,IAAI,IAAItO,EAAE,EAAE,KAAKA,IAAIyB,EAAEI,QAAQ,CAACJ,EAAE4C,MAAM,CAACtE,EAAE0B,IAAI1B,EAAE,GAAG0B,EAAE,KAAKzB,EAAEyB,EAAEI,OAAOiB,EAAEjC,QAAQ,IAAI,IAAIb,EAAE,EAAEA,EAAEyB,EAAEI,SAAS7B,EAAE,CAAC,GAAGD,EAAE8mB,KAAK,OAAO,MAAMhnB,EAAE4B,EAAEgtB,UAAUzuB,GAAG,GAAGH,EAAE,CAAC,IAAI,IAAIE,EAAEC,EAAE,EAAED,EAAE0B,EAAEI,SAAS9B,EAAE,CAAC,MAAM8C,EAAEpB,EAAEgtB,UAAU1uB,GAAG,GAAG,MAAM8C,GAAGA,EAAE,IAAIhD,EAAE,GAAG,MAAMiD,EAAEmE,IAAIpE,EAAE,CAACC,EAAE8L,SAAS5O,IAAI,GAAGH,IAAIG,EAAE,OAAO,GAAGA,EAAE,IAAIH,EAAE,GAAG,YAAYiD,EAAEsM,OAAOpP,GAAG,MAAMmE,EAAExC,YAAE9B,GAAGiC,EAAEH,YAAE3B,GAAGK,EAAEJ,KAAKmuB,WAAW5sB,YAAE3B,EAAEG,EAAEK,GAAG,MAAMU,EAAEoD,EAAErC,GAAGH,YAAEtB,GAAGU,GAAGA,EAA11B,MAAg2B8B,YAAEhD,EAAEQ,GAAGyC,EAAEsM,OAAOpP,GAAGyB,EAAEmB,OAAO5C,GAAGD,EAAEinB,eAAe,IAAIlkB,EAAEmE,IAAIpH,EAAE,CAAC,CAAC,CAACI,KAAKyG,QAAO,CAAE,CAAC2nB,UAAUtuB,GAAG,OAAOE,KAAKkuB,SAASnmB,MAAMvG,GAAGqB,YAAErB,EAAE1B,IAAI,CAACuuB,iBAAiBvuB,GAAGE,KAAKkuB,SAASO,eAAejtB,IAAIqB,YAAE/C,EAAE0B,IAAI,CAAKyqB,WAAO,MAAMnsB,EAAEE,KAAK,MAAM,CAAC0uB,cAAcltB,GAAG1B,EAAEouB,SAASnmB,MAAMjI,GAAGC,YAAED,EAAE0B,KAAK,E,oCCJt2C,mIAI6wB,IAAI6C,EAAE,cAAcvE,IAAED,YAAY2B,GAAGuD,MAAMvD,GAAGxB,KAAKwG,WAAU,EAAGxG,KAAKiG,QAAQ,KAAKjG,KAAK2uB,0BAAyB,EAAG3uB,KAAK4uB,gCAA+B,EAAG5uB,KAAK8U,SAAS,IAAIpT,IAAE1B,KAAKkG,kBAAkB,KAAKlG,KAAKuH,UAAS,CAAE,CAACb,aAAa,MAAMR,kBAAkB1E,GAAGxB,KAAKA,KAAK6uB,oBAAoB,IAAIjvB,IAAE,CAACsM,mBAAmB1K,EAAEoF,KAAKsF,qBAAqB,MAAMpM,EAAE0B,EAAEoF,KAAKlF,EAAE5B,EAAEwG,eAAevG,EAAED,EAAE+G,mBAAmBC,UAAU9G,KAAK8U,SAAS9N,IAAI,CAAClH,EAAEmI,GAAG,UAAU,IAAIjI,KAAK8uB,gBAAgBlsB,aAAG,IAAI9C,EAAE+Q,MAAMke,SAAS,IAAI/uB,KAAK8uB,eAAevtB,KAAGxB,EAAEkH,aAAa/G,IAAE8uB,mBAAmBhvB,MAAM4C,aAAG,IAAIlB,EAAEutB,yBAAyB,IAAIjvB,KAAKkvB,6BAA6B,UAAUpvB,EAAEgR,YAAY9Q,KAAKmvB,wBAAuB,EAAGnvB,KAAK8U,SAAS9N,IAAI,CAACpE,aAAG,qBAAI,CAAClB,EAAE0tB,YAAY1tB,EAAE2tB,UAAe,OAAN,EAACvvB,EAAE0qB,MAAW,OAAR,EAAL,EAAO8E,SAA4B,OAAtB,EAAb,EAAeC,2BAAV,EAAL,EAAqC1mB,KAAK,IAAG,IAAI7I,KAAKwvB,gCAAgC3sB,MAAI,CAAChC,UAAUb,KAAKwI,KAAK,oBAAoB,MAAMxI,KAAKiG,QAAQ,KAAKjG,KAAK6uB,oBAAoB,KAAK7uB,KAAK8U,SAAS/U,YAAEC,KAAK8U,SAAS,CAACtN,YAAYxH,KAAKuH,UAAUvH,KAAKwI,KAAK,YAAW,EAAG,CAACf,UAAUjG,GAAGxB,KAAKiG,QAAQzE,EAAExB,KAAK2uB,0BAAyB,EAAG3uB,KAAKwH,WAAW,CAACsnB,cAAc9uB,KAAKwH,WAAW,CAAC0nB,yBAAyBlvB,KAAKwH,YAAYxH,KAAK2uB,0BAAyB,CAAE,CAAKQ,2BAAuB3tB,GAAGxB,KAAK4uB,+BAA+BptB,EAAExB,KAAKwH,YAAYxH,KAAK2uB,0BAAyB,CAAE,CAACa,+BAA+B,MAAMhuB,EAAExB,KAAKkG,kBAAkBU,KAAK9G,EAAE0B,EAAE8E,eAAe5E,EAAE,UAAUF,EAAEsP,YAAY/Q,EAAEyB,EAAEgpB,IAAI8E,QAAQ9tB,EAAEgpB,IAAI8E,OAAOC,sBAAsB,SAAS/tB,EAAEgpB,IAAI8E,OAAOC,qBAAqB1mB,KAAK7I,KAAKmvB,uBAAuBztB,IAAI5B,EAAE2vB,QAAQ1vB,CAAC,CAAC2vB,4BAA4B,IAAI1vB,KAAK2uB,yBAAyB,OAAO3uB,KAAK2uB,0BAAyB,EAAG,MAAMntB,EAAExB,KAAKkG,kBAAkBU,KAAK,IAAI9G,EAAE,GAAGE,KAAK4uB,+BAA+B9uB,GAAG,GAAG0D,YAAEhC,EAAEkG,kBAAkBioB,WAAW,CAAC,MAAMlsB,IAAI/B,EAAElB,IAAIT,GAAGyB,EAAE8E,eAAe2oB,uBAAuBnvB,EAAE4B,EAAEnB,KAAKC,IAAI,GAAGT,EAAE2B,IAA/0D,IAAq1D,GAAG,CAAC1B,KAAK6uB,oBAAoB7e,OAAOhQ,KAAKiG,QAAQzE,EAAEkG,iBAAiB5H,EAAE,CAAKqI,cAAU,OAAOnI,KAAKuH,QAAQ,CAACa,UAAU,GAAGpI,KAAKwI,KAAK,YAAW,IAAKxI,KAAKiG,QAAQ,YAAYjG,KAAKwI,KAAK,aAAY,GAAIxI,KAAK0vB,4BAA4B,MAAMluB,EAAExB,KAAKkG,kBAAkBU,KAAKgpB,QAAQ9vB,EAAE0D,YAAExD,KAAKkG,kBAAkBU,KAAKc,kBAAkBioB,OAAO3vB,KAAKwI,KAAK,aAAaxI,KAAK6uB,oBAAoBgB,mBAAmBruB,EAAE1B,GAAG,GAAG0B,YAAE,CAACK,YAAE,CAACyI,UAAS,KAAMjG,EAAE+F,UAAU,iBAAY,GAAQ5I,YAAE,CAACK,YAAE,CAACwI,eAAc,KAAMhG,EAAE+F,UAAU,yBAAoB,GAAQ5I,YAAE,CAACK,YAAE,CAACyI,UAAS,KAAMjG,EAAE+F,UAAU,gBAAW,GAAQ/F,EAAE7C,YAAE,CAACpB,YAAE,8DAA8DiE,GAAG,MAAMH,EAAEG,C,0ECArrGvE,EAAY0B,E,kBAAAA,EAAkH1B,IAAIA,EAAE,CAAC,IAApH0B,EAAEupB,OAAO,GAAG,SAASvpB,EAAEA,EAAEsuB,eAAe,GAAG,iBAAiBtuB,EAAEA,EAAEuuB,SAAS,GAAG,WAAWvuB,EAAEA,EAAEwuB,MAAM,GAAG,QAAoB,MAAMptB,EAAE/C,cAAcG,KAAKiwB,OAAO,EAAE,CAACC,UAAU1uB,EAAEoB,GAAG5C,KAAKiwB,OAAOjuB,KAAK,CAAC6G,KAAK/I,EAAEirB,OAAOoF,cAAcvtB,EAAE0O,OAAO9P,GAAG,CAAC4uB,kBAAkB5uB,EAAEoB,EAAEC,GAAG7C,KAAKiwB,OAAOjuB,KAAK,CAAC6G,KAAK/I,EAAEgwB,eAAeK,cAAcvtB,EAAEytB,eAAe7uB,EAAE8M,MAAMzL,GAAG,CAACytB,YAAY9uB,EAAEoB,GAAG5C,KAAKiwB,OAAOjuB,KAAK,CAAC6G,KAAK/I,EAAEiwB,SAASI,cAAcvtB,EAAED,OAAOnB,GAAG,CAACmB,OAAOnB,GAAG,IAAI,IAAI1B,EAAEE,KAAKiwB,OAAOruB,OAAO,EAAE9B,GAAG,IAAIA,EAAE,CAAC,MAAM8C,EAAE5C,KAAKiwB,OAAOnwB,GAAG8C,EAAEutB,gBAAgB3uB,IAAIxB,KAAKuwB,uBAAuB3tB,GAAG5C,KAAKiwB,OAAOjtB,OAAOlD,EAAE,GAAG,CAAC,CAAC0wB,aAAahvB,GAAG,IAAI,IAAIoB,EAAE5C,KAAKiwB,OAAOruB,OAAO,EAAEgB,GAAG,IAAIA,EAAE,CAAC,MAAMC,EAAE7C,KAAKiwB,OAAOrtB,GAAGC,EAAEgG,OAAO/I,EAAEirB,QAAQloB,EAAEyO,SAAS9P,IAAIxB,KAAKuwB,uBAAuB1tB,GAAG7C,KAAKiwB,OAAOjtB,OAAOJ,EAAE,GAAG,CAAC,CAAC6tB,qBAAqBjvB,GAAG,IAAI,IAAIoB,EAAE5C,KAAKiwB,OAAOruB,OAAO,EAAEgB,GAAG,IAAIA,EAAE,CAAC,MAAMC,EAAE7C,KAAKiwB,OAAOrtB,GAAGC,EAAEgG,OAAO/I,EAAEgwB,gBAAgBjtB,EAAEwtB,iBAAiB7uB,IAAIxB,KAAKuwB,uBAAuB1tB,GAAG7C,KAAKiwB,OAAOjtB,OAAOJ,EAAE,GAAG,CAAC,CAAC0E,YAAYtH,KAAKiwB,OAAOthB,SAASnN,IAAIxB,KAAKuwB,uBAAuB/uB,EAAE,IAAIxB,KAAKiwB,OAAO,EAAE,CAACM,uBAAuB3tB,GAAG,OAAOA,EAAEiG,MAAM,KAAK/I,EAAEirB,OAAOnoB,EAAEutB,cAAcO,UAAUlvB,IAAEmvB,UAAU/tB,EAAE0O,OAAOsf,gBAAgBhuB,EAAEutB,eAAevtB,EAAEutB,cAAcO,UAAUlvB,IAAEqvB,cAAcjuB,EAAE0O,OAAOwf,cAAcluB,EAAEutB,eAAe,MAAM,KAAKrwB,EAAEgwB,eAAeltB,EAAE0L,MAAMyiB,gCAAgCnuB,EAAEytB,eAAeztB,EAAEutB,eAAe,MAAM,KAAKrwB,EAAEiwB,SAASntB,EAAED,OAAOC,EAAEutB,eAAe,ECAz2C,MAAM3uB,EAAE3B,YAAY2B,EAAEzB,GAAGC,KAAKgxB,UAAUxvB,EAAExB,KAAKiL,cAAclL,EAAEC,KAAKixB,eAAe,IAAInxB,EAAEE,KAAKkxB,IAAI,IAAI7iB,IAAIrO,KAAKmxB,QAAO,CAAE,CAACC,WAAWtxB,GAAG,GAAGE,KAAKiL,cAAc,CAAC,MAAMzJ,EAAE1B,EAAE8I,QAAQxD,WAAWpF,KAAKiL,eAAe,OAAOjL,KAAKkxB,IAAIlpB,IAAIxG,EAAE,CAAC,OAAOxB,KAAKkxB,IAAIlpB,IAAIlI,EAAE8I,QAAQ8F,IAAI,ECAhN,MAAMhN,EAAE7B,YAAYC,GAAGE,KAAKiO,cAAcnO,EAAEE,KAAKqxB,WAAW,IAAIhmB,KAAK,CAACxK,UAAUb,KAAKqxB,YAAYrxB,KAAKqxB,WAAW1iB,SAAS7O,GAAGA,EAAEmxB,eAAe3pB,cAActH,KAAKqxB,WAAW,IAAI,CAACC,WAAW5vB,EAAEG,GAAG,MAAM9B,EAAE,IAAIyB,EAAEE,EAAEG,GAAG7B,KAAKqxB,WAAWrvB,KAAKjC,GAAG,MAAMH,EAAEE,aAAG,IAAIE,KAAKuxB,WAAWxxB,KAAK,MAAM,CAAC2P,IAAI3P,EAAEyxB,OAAO5xB,EAAE,CAAC2xB,WAAWzxB,GAAGA,EAAEmxB,eAAe3pB,YAAY,MAAM9F,EAAExB,KAAKqxB,WAAWrxB,KAAKqxB,WAAW5O,QAAQ3iB,IAAI,GAAG,IAAI0B,GAAGxB,KAAKqxB,WAAWruB,OAAOxB,EAAE,EAAE,CAACiwB,mBAAmB3xB,EAAE0B,GAAG1B,EAAE4xB,kBAAkBlwB,EAAEwvB,UAAUxvB,EAAEyvB,eAAe,CAACU,sBAAsB7xB,EAAE0B,GAAG1B,EAAE8xB,kBAAkBpwB,EAAEyvB,eAAe,CAACY,OAAO/xB,EAAE0B,GAAG1B,EAAEoxB,IAAIlqB,IAAIxF,GAAG,MAAME,EAAE1B,KAAKiO,cAAcqG,mBAAmBpF,IAAI1N,GAAGE,GAAG1B,KAAKyxB,mBAAmB/vB,EAAE5B,EAAE,CAACgyB,QAAQhyB,EAAE0B,GAAGA,EAAEmN,SAASnN,GAAGxB,KAAK6xB,OAAO/xB,EAAE0B,IAAI,CAACuwB,aAAajyB,EAAE0B,GAAGA,EAAEmN,SAASnN,GAAG1B,EAAEoxB,IAAIlqB,IAAIxF,KAAKxB,KAAKgyB,eAAelyB,EAAE,CAACsP,WAAWtP,GAAGE,KAAKqxB,WAAW1iB,SAASnN,KAAKA,EAAE2vB,QAAQ3vB,EAAE4vB,WAAWtxB,IAAIE,KAAKyxB,mBAAmB3xB,EAAE0B,EAAE,GAAG,CAAC8N,cAAcxP,GAAGE,KAAKqxB,WAAW1iB,SAASnN,IAAIA,EAAE4vB,WAAWtxB,IAAIE,KAAK2xB,sBAAsB7xB,EAAE0B,EAAE,GAAG,CAACiO,qBAAqBzP,KAAKqxB,YAAYrxB,KAAKqxB,WAAW1iB,SAAS7O,GAAGA,EAAEmxB,eAAe3pB,aAAa,CAAC0qB,eAAelyB,GAAG,MAAM0B,EAAExB,KAAKiO,cAAcqG,mBAAmBxU,EAAEmL,cAAczJ,EAAEmN,SAASnN,IAAIA,GAAG1B,EAAEsxB,WAAW5vB,IAAIxB,KAAKyxB,mBAAmBjwB,EAAE1B,EAAE,IAAIA,EAAEoxB,IAAIviB,SAASjN,IAAI,MAAMG,EAAEL,EAAE0N,IAAIxN,GAAGG,GAAG7B,KAAKyxB,mBAAmB5vB,EAAE/B,EAAE,GAAG,CAAKmsB,WAAO,MAAM,CAACgG,OAAOjyB,KAAKqxB,WAAW,E","file":"static/js/1.f5f6374b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this._compareMinX=l,this._compareMinY=c,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),g.prune(),M.prune(),X.prune(),Y.prune()}all(t){this._all(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(f(t,n))for(g.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;f(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):g.push(h))}n=g.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!f(t,i))return!1;for(g.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(f(t,h)){if(i.leaf||x(t,h))return!0;g.push(s)}}i=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new b([]),this}remove(i){if(!i)return this;let e,s=this._data,h=null,a=0,r=!1;const o=this._toBBox(i);for(X.clear(),Y.clear();s||X.length>0;){if(s||(s=n(X.pop()),h=X.data[X.length-1],a=Y.pop()??0,r=!0),s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),X.push(s),this._condense(X),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(X.push(s),Y.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_all(t,i){let n=t;for(M.clear();n;){if(!0===n.leaf)for(const t of n.children)i(t);else M.pushArray(n.children);n=M.pop()??null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this._toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));p(t,i,n,l,this._compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);p(t,a,i,o,this._compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this._toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=u(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this._toBBox,s=n?t:e(t);X.clear();const h=this._chooseSubtree(s,this._data,i,X);for(h.children.push(t),o(h,s);i>=0&&X.data[i].children.length>this._maxEntries;)this._split(X,i),i--;this._adjustParentBBoxes(s,X,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this._toBBox),a(o,this._toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this._data=new j([t,i]),this._data.height=t.height+1,a(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this._toBBox),o=r(t,a,n,this._toBBox),l=_(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:l,s=t.leaf?this._compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this._toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=d(h)+d(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=d(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=d(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this._compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this._compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function _(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const g=new e,M=new e,X=new e,Y=new e({deallocator:void 0});class B{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends B{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{B as BBox,h as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getCentroidOptimizedGeometry as e}from\"../centroid.js\";import{OptimizedFeature as r}from\"../OptimizedFeature.js\";import o from\"../OptimizedGeometry.js\";const i={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new r(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(r,i)=>(t(r.centroid)&&(r.centroid=e(new o,r.geometry,i.hasZ,i.hasM)),r.centroid)};export{i as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{isSome as r,isNone as a}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as n}from\"../../../../geometry/projection.js\";import{create as c}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityFlag as h,VisibilityGroup as o}from\"./enums.js\";import{scaleBoundsPredicate as p}from\"../../../support/layerViewUtils.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";const y=t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\");let g=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(e.registerTask(d.SCALE_VISIBILITY,this)),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this.updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e;else{const r=c();n(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&u(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&u(e.minScale,e.maxScale))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(b)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),b),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),b)):!t&&this.handles.has(b)&&this.handles.remove(b),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(){const e=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&e&&e.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(!this._layerScaleRangeVisibilityQuery){this._layerScaleRangeVisibilityQuery=!0;const i=this.layer.effectiveScaleRange;e.queryVisibleScaleRange(this._extent,i.minScale,i.maxScale,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0)}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||p(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return p(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(r(e.centroid)?i=e.centroid:r(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(h.SCALE_RANGE,i,o.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const t=e.labelGraphics[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(h.SCALE_RANGE,r,o.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),this.graphicsCoreOwner.suspended)return;const i=e.extent,t=e.scale,s=this._visibleAtLayerScale(t);let l=!1;const c=this.graphicsCoreOwner.view.spatialReference,p=e.spatialReference;if(a(p))return void y.error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const d=!p.equals(c);if(d){if(!n(i,p,m,c))return void y.error(\"scaleUpdate: Internal error, cannot project AABR from \"+p+\" to wkid \"+c)}const g=d?m:i;this.queryGraphicUIDsInExtent(g,c,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if(a(n))return;const c=n.centroid;r(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(h.SCALE_RANGE,s,o.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(h.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function u(e,i){return e>0||i>0}e([s()],g.prototype,\"graphicsCoreOwner\",void 0),e([s()],g.prototype,\"layer\",void 0),e([s()],g.prototype,\"queryGraphicUIDsInExtent\",void 0),e([s()],g.prototype,\"graphicsCore\",void 0),e([s()],g.prototype,\"basemapTerrain\",void 0),e([s({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),e([s({readOnly:!0})],g.prototype,\"suspended\",void 0),e([s({readOnly:!0})],g.prototype,\"updating\",null),e([s()],g.prototype,\"_dirty\",void 0),g=e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const b=\"terrain-events\",m=c(),S=g;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as o}from\"../../core/maybe.js\";import r from\"../FillSymbol3DLayer.js\";import e from\"../LineSymbol3D.js\";import m from\"../MeshSymbol3D.js\";import l from\"../PointSymbol3D.js\";import t from\"../PolygonSymbol3D.js\";import s from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as i,defaultPolylineSymbol2D as n,defaultPolygonSymbol2D as p}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as y}from\"./defaultsJSON.js\";const a=l.fromSimpleMarkerSymbol(i),c=e.fromSimpleLineSymbol(n),S=t.fromSimpleFillSymbol(p),u=new m({symbolLayers:[new r({material:{color:f},edges:new s({size:\"1px\",color:y})})]});function b(r){if(o(r))return null;switch(r.type){case\"mesh\":return u;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return S}return null}export{b as getDefaultSymbol3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{isSome as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as c}from\"../../../../geometry/projection.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as n}from\"../../../../layers/graphics/OptimizedFeature.js\";import h from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as d}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.viewSpatialReference=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:d.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:d.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField):d.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):d.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;o(t.centroid)?r=t.centroid:\"point\"===t.graphic.geometry.type&&c(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const i=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return s(r)?(i[0]=0,i[1]=0,i[2]=0,i[3]=0):(i[0]=r.x,i[1]=r.y,e.hasZ&&(i[2]=r.hasZ?r.z:0),e.hasM&&(i[e.hasZ?3:2]=r.hasM?r.m:0)),new h([],i)}return d.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new n(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):d.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e,r){const s=this.getSpatialIndex();for(const i of t){const t=this.featureAdapter.getObjectId(i);o(s.getBounds(t,r))&&e(r)}}};t([i({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([i({constructOnly:!0})],l.prototype,\"toArray\",void 0),t([i({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([i({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([i({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([a(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.schedule=e,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}}class s{}export{e as Graphics3DSymbolCreationContext,s as Graphics3DSymbolLayerCreationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as t,isSome as a}from\"../../../../core/maybe.js\";import{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{make as o}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import l from\"./Graphics3DSymbol.js\";class s extends l{constructor(r,t,a){super(r,t,a),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=o(this.symbol,t))}async doLoad(t){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(t),e(t)}catch(o){throw this._calloutSymbolLayer?.abortLoad(),o}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=t(this._calloutSymbolLayer)}createGraphics3DGraphic(r,t){const e=super.createGraphics3DGraphic(r,t);if(a(this._calloutSymbolLayer)&&a(e)){const t=this._createCalloutGraphic(r);a(t)&&e.addAuxiliaryGraphic(t)}return e}globalPropertyChanged(r,t){return!!super.globalPropertyChanged(r,t)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,t,(r=>this._getCalloutGraphicLayer(r))))}updateGeometry(r,t){const a=super.updateGeometry(r,t);if(a&&this._calloutSymbolLayer){const a=this._getCalloutGraphicLayer(r);if(a)return this._calloutSymbolLayer.updateGeometry(a,t)}return a}_createCalloutGraphic(r){const t=r.renderingInfo,a={renderer:t.renderer,symbol:t.symbol,translation:[0,0,0],centerOffset:[0,0,0,0],screenOffset:[0,0],centerOffsetUnits:\"world\",elevationOffset:0,materialCollection:null};return r.renderingInfo=a,this._calloutSymbolLayer.createGraphics3DGraphic(r)}_getCalloutGraphicLayer(r){for(const t of r._auxiliaryGraphics)if(t.graphics3DSymbolLayer===this._calloutSymbolLayer)return t}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e={remove:()=>this.remove(t)};if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=!!i(a)&&a.isVisible(),t.isDraped=!!i(a)&&a.isDraped,t.tracking=!0,i(a)&&t.emit(\"changed\",{}),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\",{})}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>{t.emit(\"changed\",{})}))}updateGraphicVisibility(t){this._forEachState(t,(i=>{i.displaying=t.isVisible()}))}allGraphicsDeleted(){this._states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t.graphic),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index.destroy(),this._index=null,this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,i){!s(e)&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>i(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{unwrapOr as n,isNone as i,isSome as a}from\"../../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as c}from\"../../../../core/unitUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as m}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{empty as h,toRect as u,expandWithVec3 as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as _}from\"../../../../geometry/support/aaBoundingRect.js\";import{getMetersPerUnit as y}from\"../../../../symbols/support/unitConversionUtils.js\";import{newIntersector as g}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as j}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";const v=1;let b=class extends(o.EventedMixin(t)){constructor(e){super(e),this._elevationOffset=0,this._layerHandes=new r}get spatialReference(){return this.view?.spatialReference}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=g(this.view.state.viewingMode),this._intersector.options.store=j.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"vertexAttrsUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=c(this.layer.spatialReference),o=y(e.unit);this._elevationOffset=n(e.offset,0)*o/t}else this._elevationOffset=0}getElevation(e,t,o,r){if(R[0]=e,R[1]=t,R[2]=o,!this._renderCoordsHelper.toRenderCoords(R,r,R))return s.getLogger(this.declaredClass).error(\"could not project point for elevation alignment\"),null;const n=this._elevationOffset,i=this._zmin+n,a=this._zmax+n;this._renderCoordsHelper.setAltitude(H,a,R),this._renderCoordsHelper.setAltitude(L,i,R);const c=e=>e.metadata&&e.metadata.isElevationSource;return this._intersector.reset(H,L,null),this._intersector.intersect(this._intersectLayers,null,v,null,c),this._intersector.results.min.getIntersectionPoint(R)?this._renderCoordsHelper.getAltitude(R):null}_objectChanged(e){const t=this.spatialReference;if(!e.metadata?.isElevationSource||i(t))return;h(x);const{lastValidElevationBB:o}=e.metadata;o.isEmpty()||this._expandExtent(t,o.min,o.max,x);const{min:r,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,r,s,x),u(x,C),this._zmin=Math.min(this._zmin,x[2]),this._zmax=Math.max(this._zmax,x[5]),E.extent=C,E.spatialReference=t,this.emit(\"elevation-change\",E),m(o.min,r),m(o.max,s)}_computeLayerExtent(e,t){return h(x),a(e)&&t.objects.forAll((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,x))),x}_expandExtent(e,t,o,r){for(let s=0;s<8;++s)R[0]=1&s?t[0]:o[0],R[1]=2&s?t[1]:o[1],R[2]=4&s?t[2]:o[2],this._renderCoordsHelper.fromRenderCoords(R,R,e),f(r,R);return r}};e([l({constructOnly:!0})],b.prototype,\"layer\",void 0),e([l({constructOnly:!0})],b.prototype,\"stageLayer\",void 0),e([l({constructOnly:!0})],b.prototype,\"view\",void 0),e([l()],b.prototype,\"spatialReference\",null),b=e([d(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],b);const x=h(),C=_(),E={spatialReference:null,extent:C,context:\"scene\"},R=p(),H=p(),L=p();export{b as StageLayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import i from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import\"../../../../symbols.js\";import t from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{someMap as o,findInMap as l}from\"../../../../core/MapUtils.js\";import{isSome as h,unwrapOr as d,isNone as c,destroyMaybe as p,removeMaybe as y,get as m,unwrap as g}from\"../../../../core/maybe.js\";import u from\"../../../../core/PooledArray.js\";import{throwIfAborted as b,eachAlways as _,createDeferred as f,isAbortError as v}from\"../../../../core/promiseUtils.js\";import{watch as S,when as C,on as w,syncAndInitial as G,whenOnce as x}from\"../../../../core/reactiveUtils.js\";import{schedule as R}from\"../../../../core/scheduling.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as D}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as I,isEmpty as E}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as A,a as U,g as O}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as L,projectXYZToVector as V,canProjectWithoutEngine as F,projectBuffer as T}from\"../../../../geometry/projection.js\";import{create as k,center as z,fromRect as W,equals as M}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as N}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as B}from\"../../../../geometry/support/spatialReferenceUtils.js\";import H from\"../../../../layers/Layer.js\";import{getObjectId as q,computeAABB as Y,hasGeometry as $}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as Z}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isSupportedRenderer3D as J,validateTo3D as Q}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as K}from\"../../../../support/arcadeOnDemand.js\";import{getDefaultSymbol3D as X}from\"../../../../symbols/support/defaults3D.js\";import{to3D as ee}from\"../../../../symbols/support/symbolConversion.js\";import{ViewElevationProvider as ie}from\"./ElevationQuery.js\";import{VisibilityFlag as te,VisibilityGroup as re}from\"./enums.js\";import{extractExpressionInfo as se,createContext as ae}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as ne}from\"./Graphics3DFeatureStore.js\";import oe from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as le}from\"./Graphics3DSymbolCreationContext.js\";import{make as he}from\"./Graphics3DSymbolFactory.js\";import de from\"./Graphics3DWebStyleSymbol.js\";import{GraphicStateTracking as ce}from\"./GraphicStateTracking.js\";import{computeCentroid as pe}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as ye}from\"./interfaces.js\";import{LoadStatus as me}from\"./Loadable.js\";import{SpatialIndex2D as ge}from\"./SpatialIndex2D.js\";import{averageSymbolComplexities as ue,defaultSymbolComplexity as be}from\"./symbolComplexity.js\";import{StageLayerElevationProvider as _e}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as fe}from\"../../support/extentUtils.js\";import{PropertiesPool as ve}from\"../../support/PropertiesPool.js\";import{UpdatePolicy as Se}from\"../../webgl-engine/lib/basicInterfaces.js\";import{GridLocalOriginFactory as Ce}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{WebGLLayer as we}from\"../../webgl-engine/lib/WebGLLayer.js\";import{ImmediateTask as Ge,noBudget as xe,TaskPriority as Re}from\"../../../support/Scheduler.js\";import Pe from\"../../../../geometry/Extent.js\";import De from\"../../../../geometry/Point.js\";import Ie from\"../../../../symbols/LabelSymbol3D.js\";import Ee from\"../../../../symbols/TextSymbol.js\";import Ae from\"../../../../symbols/WebStyleSymbol.js\";var Ue;const Oe=j(),je=k(),Le=\"esri.views.3d.layers.graphics.Graphics3DCore\",Ve=n.getLogger(Le);let Fe=Ue=class extends t{constructor(e){super(e),this._propertiesPool=new ve({computedExtent:Pe},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.symbolCreationContext=new le(((e,i)=>this._frameTask.schedule(e,i))),this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._handles=new s,this._frameTask=Ge,this._suspendSymbolCleanup=!1,this._viewSpatialReference=null,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._loadingSymbols=0,this._pendingUpdatesPool=new u({allocator:e=>e||new ke,deallocator:e=>(e.clear(),e)}),this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new u,this.preferredUpdatePolicy=Se.SYNC,this.forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=void 0,this._startCreateGraphics=!1}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new ge({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:this.hasZ,hasM:this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return h(this.currentRenderer)&&\"dictionary\"===this.currentRenderer.type?Se.ASYNC:d(this.forcedUpdatePolicy,this.preferredUpdatePolicy)}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this._graphicsWaitingForSymbol.size>0||this.running||this._elevationAlignment?.updating||h(this._scaleVisibility)&&this._scaleVisibility.updating||h(this._filterVisibility)&&this._filterVisibility.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,i=e?e.graphics3D.minTotalNumberOfFeatures:0,t=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,h(s)?s.primitivesPerFeature:1),n=h(s)&&s.drawCallsPerFeature>0?t/s.drawCallsPerFeature*.3:t,o=Math.ceil(r/a),l=Math.max(i,Math.min(t,o,n)),d=this._get(\"displayFeatureLimit\");return d&&d.minimumTotalNumberOfFeatures===i&&d.maximumTotalNumberOfFeatures===t&&d.maximumTotalNumberOfPrimitives===r&&d.averageSymbolComplexity===s&&d.maximumNumberOfFeatures===l?d:{minimumTotalNumberOfFeatures:i,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=ue(this._symbolComplexities),i=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||h(i)&&(e.estimated&&(i.primitivesPerFeature>=e.primitivesPerFeature||i.primitivesPerCoordinate>=e.primitivesPerCoordinate||i.drawCallsPerFeature>=e.drawCallsPerFeature)||i.primitivesPerFeature===e.primitivesPerFeature&&i.primitivesPerCoordinate===e.primitivesPerCoordinate&&i.drawCallsPerFeature===e.drawCallsPerFeature)?i:e}get usedMemory(){const e=h(this.averageSymbolComplexity)&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this._numberOfGraphics:0,i=this._getSymbolComplexitiesUsed().reduce(((e,i)=>e+i.memory.resourceBytes),0);return this._usedMemory+e+i}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics)return(this._pendingAdds+this._pendingRemoves)/this._numberOfGraphics>20?0:this._usedMemory/this._numberOfGraphics;if(h(this.averageSymbolComplexity)){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return Math.max(0,(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic)}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const i=this._symbolConversionCache.get(e.id);if(h(i))return i;const t=ee(e,{geometryType:this.layer?.geometryType,retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=t.symbol||null;return c(r)&&t.error&&Ve.error(t.error.message),this._symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if(c(e))return[];const i=e.getSymbols(),t=\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol;if(!(t||i&&i.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(t);h(s)&&r.push(s);for(const a of i){const e=this._getSymbolComplexityUsedOrRenderer(a);h(e)&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(c(e))return null;const i=this._symbols.get(e.id);if(h(i))return i.complexity;const t=this._getConvertedSymbol(e);return h(t)?be(t):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((i=>{h(i)&&e.push(i.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}initialize(){this._viewSpatialReference=this.owner.view.spatialReference,this._featureStore=new ne({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:this.hasZ,hasM:this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e),toArray:()=>Array.from(this.graphics3DGraphics.values())});const e=(e,i,t)=>this.spatialIndex.queryGraphicUIDsInExtent(e,i,t),{componentFactories:i}=this;if(h(i.elevationAlignment)){const t=i.elevationAlignment(this,e);this._elevationAlignment=t}if(h(i.scaleVisibility)){const t=i.scaleVisibility(this,e);this._scaleVisibility=t}if(h(i.filterVisibility)){const e=i.filterVisibility({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(te.FILTER,e(q(i.graphic,this._objectIdField)),re.GRAPHIC))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(te.FILTER,e,re.GRAPHIC))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(te.FILTER)))});this._filterVisibility=e}if(h(i.deconflictor)){const e=i.deconflictor(this);this._deconflictor=e}if(h(i.labeler)&&h(this._scaleVisibility)){const e=i.labeler(this,this._scaleVisibility);this._labeler=e}if(h(i.objectStates)){const e=i.objectStates(this);this._objectStates=e}this._initializeAbortController=new AbortController,this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController.signal,i=this.owner.view;this._viewElevationProvider=new ie(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid),this.symbolCreationContext.sharedResources=i.sharedSymbolResources,this._sharedSymbolResourcesOwnerHandle=i.sharedSymbolResources.addGraphicsOwner(this.owner),h(this.currentRenderer)&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.sharedSymbolResources.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Ce(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const t=se(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await ae(t,this._viewSpatialReference,e,Ve),b(e),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add(a((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([S((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),S((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),S((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),S((()=>this.owner.view.state?.pixelRatio),(()=>this._pixelRatioChange())),S((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),S((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),C((()=>i.basemapTerrain?.tilingScheme),(e=>{if(!e.spatialReference.equals(this.symbolCreationContext.overlaySR)&&h(i.basemapTerrain.spatialReference)&&(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([w(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),S((()=>this.effectiveUpdatePolicy),(e=>{h(this.stageLayer)&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Se.ASYNC,e===Se.SYNC&&this.runTask(xe)}),G)]),this._frameTask=i.resourceController.scheduler.registerTask(Re.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add(S((()=>this.layer.featureReduction),(()=>this._deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController&&(this._initializeAbortController.abort(),this._initializeAbortController=null)}destroy(){this._abortInitialize(),this._abortRendererChange(),this._abortElevationInfoChange(),this.owner.view.deconflictor.removeGraphicsOwner(this),this.owner.view.labeler.removeGraphicsOwner(this),this._elevationAlignment=p(this._elevationAlignment),this._scaleVisibility=p(this._scaleVisibility),this._filterVisibility=p(this._filterVisibility),this._deconflictor=null,this._labeler=null,this._objectStates=p(this._objectStates),this.clear(),this._featureStore=p(this._featureStore),this._updatingPendingLoadedGraphicsChange=y(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=p(this._graphicStateTracking),this.stage&&(this.stage.remove(this.stageLayer),this.stageLayer=null,this.stage=null),this._handles=p(this._handles),this._frameTask.remove(),this._frameTask=Ge,this._viewSpatialReference=null,this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=y(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=p(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=p(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),h(this._graphicStateTracking)&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(p),this._symbols.clear(),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\")}_initializeStage(e,i){this.stage=e._stage,this.stageLayer=new we({isPickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},i),this.stage.add(this.stageLayer);const t=this.stageLayer.events;t.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.metadata.graphicUid))),t.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.metadata.graphicUid))),t.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"vertexAttrsUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid)))}notifyGraphicGeometryChanged(e){if(c(this._graphicStateTracking)||c(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicGeometry(i)}notifyGraphicVisibilityChanged(e){if(c(this._graphicStateTracking)||c(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicVisibility(i)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,i=this._numberOfGraphics>e*ze,t=!this.suspendedOrOutsideOfView&&!i;t!==this._visible&&(this._visible=t,t?(this.stageLayer.isPickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.isPickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.isVisible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return this.graphics3DGraphics.get(e)}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,i=this.owner.layer&&this.owner.layer.objectIdField){return q(e,i)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return null;const i=new Map;return this.graphics3DGraphics.forEach((t=>{if(!t)return;const r=t.graphic,s=this._getGraphicObjectID(r,e);h(s)&&i.set(s,t)})),i}get labelsEnabled(){return!(!this._labeler||!this._labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const i=this._deconflictor&&this._deconflictor.labelingInfoChange(e),t=this._labeler&&this._labeler.labelingInfoChange(e);await _([i,t])}updateVisibilityInfo(){this._deconflictor&&this._deconflictor.labelingInfoChange(),this._labeler&&this._labeler.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=0,i=0;return o(this._symbols,((t,r)=>{if(h(t)){const s=t.getFastUpdateStatus();if(s.loading>0)return!0;this._graphicsBySymbol.has(r)&&(i+=s.fast,e+=s.slow)}return!1}))?\"unknown\":i>=0&&0===e?\"fast\":e>=0&&0===i?\"slow\":\"mixed\"}runTask(e){this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}setObjectIdVisibility(e,i){i?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const t=this._findGraphics3DGraphicByObjectId(e);h(t)&&this._updateUserVisibility(t)}_findGraphics3DGraphicByObjectId(e){return l(this.graphics3DGraphics,(i=>this._getGraphicObjectID(i.graphic)===e))}_updateUserVisibility(e){if(c(e))return!1;const i=e.graphic,t=this._getGraphicObjectID(i),r=i.visible&&!this.owner.suspended&&(c(t)||!this._objectIdInvisibleSet.has(t));return e.setVisibilityFlag(te.USER_SETTING,r,re.GRAPHIC)}_whenGraphics3DGraphic(e){const i=this.graphics3DGraphics.get(e.uid);if(i)return Promise.resolve(i);const t=this._whenGraphics3DGraphicRequests[e.uid];if(t)return t.promise;const r=f();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,i){const t=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,i,s)=>T(e,r,i,e,t,i,s),n=(e,i,r)=>T(e,s,i,e,t,i,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:h(i)&&i.useViewElevation,minDemResolution:h(i)&&i.minDemResolution,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,m(i,\"signal\"));if(!l)return null;const c=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){z(c,Oe);const i=d(e.getElevation(Oe[0],Oe[1],0,t,\"ground\"),0);c[2]=Math.min(c[2],i),c[5]=Math.max(c[5],i)}}return{boundingBox:c,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,i){await x((()=>this.owner?.loadedGraphics));const t=this.owner.layer&&this.owner.layer.objectIdField,s=this.owner.loadedGraphics.find((i=>i===e||t&&i.attributes&&e.attributes&&i.attributes[t]===e.attributes[t]));if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,i)}computeAttachmentOrigin(e,i){const t=this.graphics3DGraphics.get(e.uid);if(!t)return null;const r=t.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;A(We,0,0,0);let s=0;if(r.render.num>0){if(!L(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Me,i))return null;U(We,We,Me),s++}if(r.draped.num>0){const[e,t]=r.draped.origin,a=d(this._viewElevationProvider.getElevation(e,t,\"ground\"),0);if(A(Me,e,t,a),!L(Me,this._viewElevationProvider.spatialReference,Me,i))return null;U(We,We,Me),s++}return s>1&&O(We,We,1/s),new De({x:We[0],y:We[1],z:We[2],spatialReference:i})}getSymbolLayerSize(e,i){const t=this._symbols.get(e.id);if(c(t))throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(i);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=t.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const i=e.graphic.uid,t=this.graphics3DGraphics.get(i);if(!c(t)||!c(this._graphicsWithoutSymbol.get(i)))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(t);break;case\"geometry\":this._graphicUpdateGeometryHandler(t,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(t,e);break;case\"attributes\":break;case\"transform\":this._graphicUpdateTransformHandler(t,e)}}_graphicUpdateGeometryHandler(e,i){const t=i.graphic.geometry;if(c(t))return void this._recreateGraphic(i.graphic);if(c(e)){const e=i.graphic.symbol&&i.graphic.symbol.id;if(e){const i=this._symbols.get(e);if(h(i)&&i.loadStatus===me.LOADING)return}return void this._recreateGraphic(i.graphic)}const r=e.graphics3DSymbol;!c(i.newValue)&&r.updateGeometry(e,i.newValue)||this._recreateGraphic(e.graphic),this._expandComputedExtent(t)}_graphicUpdateSymbolHandler(e,i){const t=i.graphic,r=h(e)?e.graphics3DSymbol:h(i.oldValue)?this._symbols.get(i.oldValue.id):null;if(c(r)||c(i.newValue))return void this._recreateGraphic(t);const s=r.symbol,a=this._getConvertedSymbol(i.newValue);if(h(a)&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(t);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(t);const o=I(s,a);if(c(o))return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!E(l.diff))return void this._recreateGraphic(t);const d=this._getRenderingInfo(t);if(c(d))return void this._recreateGraphic(t);const p=r.extentPadding;for(const h of l.symbolStatePatches)h();if(p!==r.extentPadding&&this._recomputeExtentPadding(),h(e))for(const h of l.graphics3DGraphicPatches)h(e,d);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}_graphicUpdateTransformHandler(e,i){}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Se.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const i=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,i),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),i}_endGraphicUpdate(e){e&&(this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((i=>{h(i)&&(e=Math.max(e,i.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const i=je,t=e.spatialReference;Y(e,i);const r=this._viewSpatialReference,s=Ue.tmpVec;if(B(t,r)||V(i[0],i[1],0,t,s,r)&&(i[0]=s[0],i[1]=s[1],V(i[3],i[4],0,t,s,r),i[3]=s[0],i[4]=s[1]),!(isFinite(i[0])&&isFinite(i[3])&&isFinite(i[1])&&isFinite(i[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(i[2])&&isFinite(i[5]),l=o&&(!a||null==a.zmin||i[2]<a.zmin),h=o&&(!a||null==a.zmax||i[5]>a.zmax);if(a){(i[0]<a.xmin||i[1]<a.ymin||i[3]>a.xmax||i[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(i[0],a.xmin),n.ymin=Math.min(i[1],a.ymin),n.xmax=Math.max(i[3],a.xmax),n.ymax=Math.max(i[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=i[0],n.ymin=i[1],n.xmax=i[3],n.ymax=i[4],n.spatialReference=r;n&&(l&&(n.zmin=i[2]),h&&(n.zmax=i[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const i=se(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await ae(i,this._viewSpatialReference,e.signal,Ve),b(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"elevationInfo\",i)?i.forEach((e=>{const i=e.graphic,t=e.labelGraphics;for(const r of t){r.graphics3DSymbolLayer.updateGraphicElevationContext(i,r)}})):this._recreateSymbol(t)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider.dispose(),this._stageLayerElevationProvider=null):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new _e({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),h(this._filterVisibility)&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider.dispose(),this._stageLayerElevationProvider=null)}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:i,view:t}=this.owner,r=t.basemapTerrain.tilingScheme&&i&&i.length?i.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const i=this._graphicsBySymbol.get(e),t=[];i&&(i.forEach(((e,i)=>{const r=e.usedMemory;this._conditionalRemove(e,i),this._spatialIndex?.remove(e),t.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(i,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\")})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);p(r),this._symbols.delete(e),this.add(t)}_recreateGraphicsForSymbol(e){const i=this._graphicsBySymbol.get(e);if(i){const e=[];i.forEach((i=>e.push(i.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,i){this._graphicsDrapedUids.delete(i),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),h(this._graphicStateTracking)&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===Se.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Ve.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Se.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const i of e)if(h(i.geometry)&&\"mesh\"===i.geometry.type&&!i.geometry.loaded)return Se.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const i of e)this._addGraphic(i,this._getRenderingInfo(i,Ve),Se.SYNC);this._cleanupSymbols(),this._labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const i of e){const e=i.uid;let t=this._pendingUpdates.get(e);t?t.add?t.state!==Te.NEW&&t.abortController.abort():this._pendingAdds++:(t=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,t)),t.add=i}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===Se.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const i of e)this._removeGraphic(i);this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const i of e){const e=i.uid,t=this._pendingUpdates.get(e);if(t)t.add&&(t.remove?t.add=null:this._pendingUpdates.delete(e),t.state===Te.LOADING&&t.abortController.abort(),this._pendingAdds--);else{const t=this._pendingUpdatesPool.pushNew();t.remove=i,this._pendingUpdates.set(e,t),this._pendingRemoves++}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&Ve.warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)this._spatialIndex.update();else{for(const[i,t]of this._pendingUpdates){if(e.done)break;t.add&&t.state===Te.NEW&&this._processPendingUpdateNew(t);let r=this.effectiveUpdatePolicy;if(!t.remove||t.add&&t.state!==Te.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,r=Se.SYNC),t.add)switch(t.state){case Te.READY:this._addGraphic(t.add,t.renderingInfo,r),t.add=null,this._pendingAdds--,e.madeProgress();break;case Te.REJECTED:t.add=null,this._pendingAdds--;case Te.LOADING:}null==t.remove&&null==t.add&&this._pendingUpdates.delete(i)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Te.READY);const i=e.add.geometry;h(i)&&\"mesh\"===i.type&&!i.loaded?this._processPendingUpdateNewMesh(e,i):this._processPendingUpdateNewRenderingInfo(e)}async _processPendingUpdateNewMesh(e,i){e.state=Te.LOADING,e.abortController=new AbortController;const t=e.abortController.signal;try{await i.load({signal:t})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,i){e.abortController=null,v(i)?e.state=Te.NEW:e.state=Te.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(c(this.layer.renderer)||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Ve),void(e.state=Te.READY);e.state=Te.LOADING,e.abortController=new AbortController;let i=null;try{i=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(t){return e.abortController=null,void(v(t)?e.state=Te.NEW:e.state=Te.REJECTED)}c(i)||c(i.symbol)?(Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=i,e.state=Te.READY}_addGraphic(e,i,t){if(this._graphicsWithoutSymbol.set(e.uid,e),c(i)||c(i.symbol)||!$(e))return;has(\"enable-feature:objectAndLayerId-rendering\")&&this.setUidToIdOnAdd&&this.stage.renderView._objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.layer.uid,this.layer.popupEnabled);const r=i.symbol,s=this.getOrCreateGraphics3DSymbol(r,i.renderer);if(c(s))return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new oe(e,i,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this._graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const i=this._createGraphics3DGraphic(s,n);this._spatialIndex&&h(i)&&this._spatialIndex.add(i),--s.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this._labeler&&this.owner.view.labeler.setDirty()},p=i=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(v(i)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,t===Se.ASYNC?s.load((()=>this._frameTask.schedule(d)),(e=>this._frameTask.schedule((()=>p(e))))):s.load(d,p)}_removeGraphic(e){const i=e.uid,t=this.graphics3DGraphics.get(i);if(t){t.graphics3DSymbol.onRemoveGraphic(t);const e=t.usedMemory,r=t.isElevationSource;this._conditionalRemove(t,i),this._spatialIndex?.remove(t);const s=t.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s).delete(i),this._graphicsWithoutSymbol.delete(i),this._removeGraphics3DGraphic(i,e,r),t.destroy(),this._featureStore.events.emit(\"changed\")}else this._graphicsWithoutSymbol.delete(i),this._graphicsWaitingForSymbol.delete(i),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof Ie||e instanceof Ee){const i=this.symbolCreationContext.layer;return!!i.labelingInfo&&i.labelingInfo.some((i=>i.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof Ie&&!this._hasLabelingContext(e))||(Ve.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,i){const t=e.geometry;if(c(t))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!F(t.spatialReference,this._viewSpatialReference))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?Z(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||h(this.currentRenderer)))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{s={symbol:r.symbol||X(r.geometry)}}return c(s)||c(s.symbol)?(i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,i){const t=e.geometry;if(c(t))return Ve&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?Z(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,this.currentRenderer,this._arcadeOnDemand,i)}_createGraphics3DSymbol(e,i){if(!this._hasValidSymbolCreationContext(e))return null;const t=this._getConvertedSymbol(e);if(!t)return null;let r;if(h(i)&&\"backgroundFillSymbol\"in i&&i.backgroundFillSymbol){const e=ee(i.backgroundFillSymbol,{ignoreDrivers:!0});h(e.symbol)&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=he(t,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,i){let t=this._symbols.get(e.id);return void 0===t&&(t=e instanceof Ae?new de(e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,i))):this._createGraphics3DSymbol(e,i),this._symbols.set(e.id,t)),h(t)&&++t.referenced,t}trackGraphicState(e){return c(this._graphicStateTracking)&&(this._graphicStateTracking=new ce(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,i,t=!1){this._usedMemory-=i,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,t&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,i){const t=i.graphic;if(this._graphicsWithoutSymbol.delete(t.uid),!this._symbols.has(e.symbol.id))return this.add([t]),null;if(this.graphics3DGraphics.has(t.uid))return null;const r=e.createGraphics3DGraphic(i);if(c(r))return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(t.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(t.uid),r.centroid=null,h(t.geometry)&&\"point\"!==t.geometry.type&&(r.centroid=pe(t.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),h(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(r),h(this._filterVisibility)){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(te.FILTER,e,re.GRAPHIC),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),this._deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stage,this.stageLayer,this.owner),h(this._graphicStateTracking)&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[t.uid];return a&&(delete this._whenGraphics3DGraphicRequests[t.uid],a.resolve(r)),r}_abortRendererChange(){this._rendererChangeAbortController&&(this._rendererChangeAbortController.abort(),this._rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),c(e)&&this._currentRendererChange(null,!1),J(e))if(h(e)&&e.arcadeRequired){const i=new AbortController;this._rendererChangeAbortController=i;const{arcadeUtils:t}=await this._ensureArcade();b(i);const r=t.hasGeometryOperations(e);r&&(await t.enableGeometryOperations(),b(i)),this.effectiveUpdatePolicy===Se.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,r)),i.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Se.ASYNC){const i=new AbortController;this._rendererChangeAbortController=i,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),i.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return c(this._arcadeOnDemand)?(this._arcadeOnDemand=await K(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,i){this.currentRenderer=e,this.rendererHasGeometryOperations=i,this.symbolCreationContext.arcade=g(this._arcadeOnDemand);const t=this.symbolCreationContext.renderer;if(e===t)return;if(this._symbolConversionCache.clear(),c(e))return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=I(t,e);this._updateUnchangedSymbolMappings(r,e,t),this.symbolCreationContext.renderer=e,c(r)||(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,t)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const i in e.diff)switch(i){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[i];break;default:return!0}return!1}_applySymbolSetDiff(e,i,t){e=e||[],i=i||[];const r=[];for(const s of i){const i=this._graphicsBySymbol.get(s.id);i&&i.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof H?this.layer:null,h=g(this._arcadeOnDemand);if(s===t.defaultSymbol&&t.getSymbol(Z(o,l),{arcade:h})===t.defaultSymbol)return;const d=a.usedMemory;e.length||t.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const c=this.graphics3DGraphics.get(n);this._conditionalRemove(c,n),a.destroy(),i.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,i,t){const r=e.diff.defaultSymbol,s=e.diff.uniqueValueInfos;if(r||s){const a=s?s.added.map((e=>e.symbol)):[],n=s?s.removed.map((e=>e.symbol)):[];if(s)for(let e=0;e<s.changed.length;e++)a.push(s.changed[e].newValue.symbol),n.push(s.changed[e].oldValue.symbol);return r?(t.defaultSymbol&&n.push(t.defaultSymbol),i.defaultSymbol&&a.push(i.defaultSymbol)):t.defaultSymbol&&a.length&&n.push(i.defaultSymbol),this._applySymbolSetDiff(a,n,i),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,i,t){if(\"unique-value\"!==i?.type||\"unique-value\"!==t?.type||h(e)&&\"partial\"!==e.type)return[];const r=e=>h(e)?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of t.uniqueValueInfos){const t=r(e.symbol),s=i.uniqueValueInfos.find((i=>i.value===e.value));s&&t!==r(s.symbol)&&o.push({oldId:t,newId:r(s.symbol)})}}return!a&&t.defaultSymbol&&o.push({oldId:r(t.defaultSymbol),newId:r(i.defaultSymbol)}),o}_updateSymbolMapping(e,i){const t=h(i)&&i?\"string\"==typeof i?i:i.id:null;if(!e||e===t)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(t,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(t,s),h(s))){const e=\"string\"==typeof i?null:i;h(e)?s.symbol=e:s.symbol.id=t}}_updateUnchangedSymbolMappings(e,i,t){const r=this._calculateUnchangedSymbolMapping(e,i,t);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,r){if(this._diffHasSymbolChange(e))return!1;if(t instanceof i&&r instanceof i&&this._applyUniqueValueRendererDiff(e,t,r)&&0===Object.keys(e.diff).length)return!0;for(const[i]of this._graphicsBySymbol){const r=this._symbols.get(i);if(h(r))switch(r.applyRendererDiff(e,t)){case ye.Recreate_Symbol:this._recreateSymbol(i);break;case ye.Recreate_Graphics:this._recreateGraphicsForSymbol(i);case ye.Fast_Update:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"opacity\",i))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.isSliceable=e,this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"slicePlaneEnabled\",i))),this._deconflictor&&this._deconflictor.slicePlaneEnabledChange(),this._labeler&&this._labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",i)||this._recreateSymbol(t)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,i,t)=>this._recreateSymbol(t)))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"pixelRatio\",i)||this._recreateSymbol(t)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=R((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,i){const t=this.symbolCreationContext.clippingExtent,r=N();return fe(e,r,i)?this.symbolCreationContext.clippingExtent=W(k(),r):this.symbolCreationContext.clippingExtent=null,!M(this.symbolCreationContext.clippingExtent,t)}modifyGraphics3DGraphicVisibilities(e){let i=!1;this.graphics3DGraphics.forEach((t=>{e(t)&&(i=!0)})),i&&(this.owner.view.labeler?.setDirty(),this.owner.view.deconflictor.setDirty())}forEachGraphics3DSymbol(e){for(const[i,t]of this._symbols){if(c(t))return;e(t,this._graphicsBySymbol.get(i)||Ne,i)}}updateAllGraphicsVisibility(){h(this._filterVisibility)&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const i=this._updateUserVisibility(e),t=h(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(e);return i||t}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(te.USER_SETTING,!1,re.GRAPHIC)))}_validateRenderer(e){const i=Q(e,{geometryType:this.layer?.geometryType});if(i){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Ve.warn(e,i.message)}}_volatileGraphicsUpdated(){this._labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((i,t)=>{if(c(i)||i.referenced>0)return;const r=this._graphicsBySymbol.get(t);r&&0!==r.size||(this._graphicsBySymbol.delete(t),this._symbols.delete(t),p(i),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this._symbols.keys()].sort(),graphicsBySymbol:[...this._graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this._graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this._graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this._graphicsDrapedUids].sort(),pendingUpdates:this._pendingUpdates}),symbols:this._symbols,filterVisibility:this._filterVisibility,numPending:this._pendingUpdates.size,forceUpdatePolicy:e=>{this.forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this._graphicsWithoutSymbol.size,pending:this._pendingUpdates.size}}};var Te;Fe.tmpVec=j(),e([P({readOnly:!0})],Fe.prototype,\"computedExtent\",void 0),e([P()],Fe.prototype,\"currentRenderer\",void 0),e([P()],Fe.prototype,\"rendererHasGeometryOperations\",void 0),e([P()],Fe.prototype,\"_frameTask\",void 0),e([P()],Fe.prototype,\"_rendererChangeAbortController\",void 0),e([P()],Fe.prototype,\"_elevationInfoChangeAbortController\",void 0),e([P()],Fe.prototype,\"_initializeAbortController\",void 0),e([P()],Fe.prototype,\"_elevationAlignment\",void 0),e([P()],Fe.prototype,\"_scaleVisibility\",void 0),e([P()],Fe.prototype,\"_filterVisibility\",void 0),e([P()],Fe.prototype,\"_initializePromise\",void 0),e([P()],Fe.prototype,\"_spatialIndex\",void 0),e([P({readOnly:!0})],Fe.prototype,\"extentPadding\",void 0),e([P()],Fe.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([P()],Fe.prototype,\"_featureStore\",void 0),e([P()],Fe.prototype,\"_deconflictor\",void 0),e([P()],Fe.prototype,\"_labeler\",void 0),e([P()],Fe.prototype,\"_objectStates\",void 0),e([P()],Fe.prototype,\"_loadingSymbols\",void 0),e([P()],Fe.prototype,\"preferredUpdatePolicy\",void 0),e([P()],Fe.prototype,\"forcedUpdatePolicy\",void 0),e([P({readOnly:!0})],Fe.prototype,\"effectiveUpdatePolicy\",null),e([P({constructOnly:!0})],Fe.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"owner\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"layer\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"graphicSymbolSupported\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"componentFactories\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"setUidToIdOnAdd\",void 0),e([P()],Fe.prototype,\"featureStore\",null),e([P()],Fe.prototype,\"initializePromise\",null),e([P()],Fe.prototype,\"scaleVisibility\",null),e([P()],Fe.prototype,\"elevationAlignment\",null),e([P()],Fe.prototype,\"objectStates\",null),e([P()],Fe.prototype,\"filterVisibility\",null),e([P({readOnly:!0})],Fe.prototype,\"updating\",null),e([P({readOnly:!0})],Fe.prototype,\"running\",null),e([P({readOnly:!0})],Fe.prototype,\"suspendedOrOutsideOfView\",null),e([P({readOnly:!0,dependsOn:[]})],Fe.prototype,\"updatingRemaining\",null),e([P({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],Fe.prototype,\"displayFeatureLimit\",null),e([P({readOnly:!0,dependsOn:[]})],Fe.prototype,\"averageSymbolComplexity\",null),e([P({constructOnly:!0})],Fe.prototype,\"hasZ\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"hasM\",void 0),e([P()],Fe.prototype,\"_objectIdField\",null),Fe=Ue=e([D(Le)],Fe),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Te||(Te={}));class ke{constructor(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.abortController=null,this.remove=null}}const ze=10,We=j(),Me=j(),Ne=new Map;export{Fe as Graphics3DCore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DPointSymbol.js\";import r from\"./Graphics3DSymbol.js\";function t(t,i,e){let p;if(\"point-3d\"===t.type)p=o;else p=r;return new p(t,i,e)}export{t as make};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{watch as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{UpdatePolicy as p}from\"../../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";let c=class extends t{constructor(e){super(e),this._dirtyExtents=new h,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._handles=new r,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const e=this.elevationProvider,t=this.graphicsCoreOwner.view.resourceController.scheduler;this._handles.add([e.on(\"elevation-change\",(e=>this._elevationChanged(e))),a((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),t.registerTask(d.ELEVATION_ALIGNMENT,this)])}destroy(){this._dirtyGraphicsSet.clear(),this._handles.destroy(),this._handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(e){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,e.madeProgress()),e.run((()=>this._dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===p.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),s(a)&&(a.alignWithElevation(this.elevationProvider,t,i),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this._dirtyExtents.empty&&!e.done;){const t=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);s(t)&&t.needsElevationUpdates()&&this._dirtyGraphicsSet.add(e)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this._dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([n()],c.prototype,\"graphicsCoreOwner\",void 0),e([n()],c.prototype,\"graphicsCore\",void 0),e([n()],c.prototype,\"queryGraphicUIDsInExtent\",void 0),e([n()],c.prototype,\"elevationProvider\",void 0),e([n({readOnly:!0})],c.prototype,\"updating\",null),e([n({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=e([o(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],c);const l=c;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const l=.05;class _{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);if(h){for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(null==r||r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const _=s(h),a=s(i),c=this._tmpExtent;n(h,i,c);const g=_+a;(s(c)-g)/g<l&&(r(h,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{_ as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyMaybe as i}from\"../../../../core/maybe.js\";import{watch as r,sync as n,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as p}from\"../../../../geometry/projectionEllipsoid.js\";import{FrustumExtentIntersection as h}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as l}from\"../../../support/Scheduler.js\";const u=1.2;let d=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this._handles=new s,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new h({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,i=t.resourceController.scheduler;this._handles.add([t.on(\"resize\",(()=>this._viewChange())),r((()=>t.state.camera),(()=>this._viewChange()),n),i.registerTask(l.FRUSTUM_VISIBILITY,this),r((()=>s.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this._handles.add([r((()=>[s.baseOpacity,s.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),o)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null,this._handles=i(this._handles)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=e.map.ground&&e.map.ground.navigationConstraint&&\"none\"===e.map.ground.navigationConstraint.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*p(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(u-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(){if(this._set(\"updating\",!1),!this._extent)return void this._set(\"suspended\",!1);this._updateExtentIntersection();const e=this.graphicsCoreOwner.view.frustum,t=p(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(e,t))}};e([a({readOnly:!0})],d.prototype,\"suspended\",void 0),e([a({constructOnly:!0})],d.prototype,\"graphicsCoreOwner\",void 0),e([a({readOnly:!0})],d.prototype,\"updating\",void 0),d=e([c(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],d);const _=d;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";var t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this._items=[]}addObject(e,r){this._items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this._items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this._items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this._items.length-1;t>=0;--t){const r=this._items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this._items.splice(t,1))}}removeObject(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeRenderGeometry(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeAll(){this._items.forEach((e=>{this._removeObjectStateItem(e)})),this._items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===e.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===e.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}export{r as Object3DStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n"],"sourceRoot":""}
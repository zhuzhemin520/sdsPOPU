(this["webpackJsonppopulation-arcgis"]=this["webpackJsonppopulation-arcgis"]||[]).push([[109],{1104:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var i=s(0),a=s(28),n=s(108),l=s(243),r=s(509),c=s(22),o=s(2),y=s(446),d=s(1),b=(s(17),s(12),s(10));let h=class extends(Object(l.b)(Object(r.b)(Object(y.b)(n.a.EventedMixin(a.a))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",s=this.layer&&this.layer.title||"no title";c.a.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${s}', id: '${t}')`,e)}}))}get fullOpacity(){return Object(o.u)(this.get("layer.opacity"),1)*Object(o.u)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null==(e=this.layer)?void 0:e.legendEnabled)}get updating(){var e;return!((null==(e=this.updatingHandles)||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}canResume(){var e,t,s;return this.visible&&(null==(e=this.layer)?void 0:e.loaded)&&!(null!=(t=this.parent)&&t.suspended)&&(null==(s=this.view)?void 0:s.ready)||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};Object(i.a)([Object(d.b)()],h.prototype,"fullOpacity",null),Object(i.a)([Object(d.b)()],h.prototype,"layer",void 0),Object(i.a)([Object(d.b)()],h.prototype,"parent",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],h.prototype,"suspended",null),Object(i.a)([Object(d.b)({readOnly:!0})],h.prototype,"suspendInfo",null),Object(i.a)([Object(d.b)({readOnly:!0})],h.prototype,"legendEnabled",null),Object(i.a)([Object(d.b)({type:Boolean,readOnly:!0})],h.prototype,"updating",null),Object(i.a)([Object(d.b)({readOnly:!0})],h.prototype,"updatingProgress",null),Object(i.a)([Object(d.b)()],h.prototype,"visible",null),Object(i.a)([Object(d.b)()],h.prototype,"view",void 0),h=Object(i.a)([Object(b.a)("esri.views.layers.LayerView")],h);const u=h},1106:function(e,t,s){"use strict";s.d(t,"a",(function(){return y}));var i=s(0),a=s(226),n=s(23),l=s(13),r=s(1),c=(s(17),s(12),s(10)),o=s(868);const y=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),Object(o.c)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.handles.add(Object(a.c)((()=>e.abort()))),await Object(l.h)((()=>{var e;return null==(e=this.view.defaultsFromMap)?void 0:e.heightModelInfoReady}),t),Object(n.q)(t);const s=Object(o.b)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(s)throw s}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return Object(i.a)([Object(r.b)()],t.prototype,"view",void 0),Object(i.a)([Object(r.b)()],t.prototype,"slicePlaneEnabled",void 0),t=Object(i.a)([Object(c.a)("esri.views.3d.layers.LayerView3D")],t),t}},1655:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return w}));var i=s(0),a=s(157),n=s(16),l=s(2),r=s(23),c=s(13),o=s(1),y=s(10),d=s(1106),b=s(59);s(17),s(12);const h=e=>{let t=class extends e{constructor(...e){super(...e),this.layer=null}get interactive(){return!!Object(l.l)(this.analysisView)&&this.analysisView.interactive}set interactive(e){Object(l.l)(this.analysisView)&&(this.analysisView.interactive=e)}get results(){return Object(l.l)(this.analysisView)?this.analysisView.results:new b.a}get selectedDimension(){return Object(l.l)(this.analysisView)?this.analysisView.selectedDimension:null}set selectedDimension(e){Object(l.l)(this.analysisView)&&(this.analysisView.selectedDimension=e)}async createLengthDimensions(e){if(!Object(l.l)(this.analysisView))throw Object(r.c)();await this.analysisView.createLengthDimensions(e)}};return Object(i.a)([Object(o.b)()],t.prototype,"layer",void 0),Object(i.a)([Object(o.b)()],t.prototype,"interactive",null),Object(i.a)([Object(o.b)({readOnly:!0})],t.prototype,"results",null),Object(i.a)([Object(o.b)()],t.prototype,"selectedDimension",null),Object(i.a)([Object(o.b)()],t.prototype,"analysisView",void 0),t=Object(i.a)([Object(y.a)("esri.views.layers.DimensionLayerView")],t),t};var u=s(1104);const p="analysis-view-handles";let O=class extends(Object(d.a)(h(u.a))){constructor(e){super(e),this.type="dimension-3d",this._analysisModule=null}initialize(){this.handles.add(Object(c.f)((()=>this.layer.source),(e=>{this._destroyAnalysisView(),Object(l.l)(e)&&this._createAnalysisView(e)}),c.e),p)}destroy(){this.handles.remove(p),this._destroyAnalysisView()}isUpdating(){return Object(l.l)(this._createAnalysisViewTask)||Object(l.l)(this.analysisView)&&this.analysisView.updating}async whenAnalysisView(){if(Object(l.l)(this.analysisView))return this.analysisView;if(Object(l.l)(this._createAnalysisViewTask))return this._createAnalysisViewTask.promise;throw new n.a("layerview:no-analysisview-for-analysis","The analysis has not been set on the DimensionLayer of this layer view")}_createAnalysisView(e){const t=Object(a.b)((async s=>(this.analysisView=await this._createAnalysisViewPromise(e,s),this._createAnalysisViewTask===t&&(this._createAnalysisViewTask=null),this.analysisView)));this.addResolvingPromise(t.promise),this._createAnalysisViewTask=t}_destroyAnalysisView(){this.analysisView=Object(l.e)(this.analysisView),this._createAnalysisViewTask=Object(l.a)(this._createAnalysisViewTask)}async _createAnalysisViewPromise(e,t){let s=this._analysisModule;if(Object(l.k)(s)){const e=await this._loadAnalysisModule();this._analysisModule=e,s=e}const i=new s.default({analysis:e,view:this.view,parent:this});if(await i.when(),Object(r.k)(t))throw i.destroy(),Object(r.c)();return i}_loadAnalysisModule(){return Promise.all([s.e(2),s.e(4),s.e(5),s.e(21)]).then(s.bind(null,1637))}};Object(i.a)([Object(o.b)()],O.prototype,"type",void 0),Object(i.a)([Object(o.b)()],O.prototype,"analysisView",void 0),Object(i.a)([Object(o.b)()],O.prototype,"_createAnalysisViewTask",void 0),O=Object(i.a)([Object(y.a)("esri.views.3d.layers.DimensionLayerView3D")],O);const w=O}}]);
//# sourceMappingURL=109.237c5d0b.chunk.js.map
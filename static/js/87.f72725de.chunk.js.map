{"version":3,"sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/layers/support/StreamConnection.js","../node_modules/@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js","../node_modules/@arcgis/core/layers/graphics/sources/connections/GeoEventConnection.js","../node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js","../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js"],"names":["s","constructor","t","this","size","_start","maxSize","_buffer","Array","entries","enqueue","dequeue","peek","find","e","clear","c","EventedAccessor","connectionError","errorString","o","onFeature","r","emit","readOnly","prototype","n","p","CONNECTING","OPEN","CLOSING","CLOSED","u","h","super","geometryType","spatialReference","sourceSpatialReference","_config","_featureZScaler","d","_open","async","_tryCreateWebSocket","destroyed","_handshake","destroy","_websocket","onopen","onclose","onerror","onmessage","close","connectionStatus","readyState","source","path","i","customParameters","_createWebSocket","notifyChange","maxReconnectionAttempts","getLogger","declaredClass","error","Math","min","maxReconnectionInterval","Promise","WebSocket","_onClose","_onError","_onMessage","filter","a","outFields","l","timeout","JSON","parse","data","reject","wkid","format","resolve","send","stringify","promise","type","features","geometry","_set","code","maxQueryDepth","maxRecordCountFactor","_","_fetchServiceDefinition","timeInfo","trackIdField","warn","_fetchWebSocketUrl","streamUrls","_buddyServicesQuery","_queryBuddyServices","_setFilter","_enrich","f","query","responseType","_serviceDefinition","urls","token","_inferWebSocketBaseUrl","outSR","length","includes","_serializeFilter","bind","setTimeout","g","shiftCentralMeridian","where","join","_relatedFeatures","relatedFeatures","joinField","attributes","has","get","centroid","keepLatestArchive","_queryRelatedFeatures","_queryArchive","_queryBuddy","featuresUrl","_addRelatedFeatures","default","url","capabilities","load","supportsMaxRecordCountFactor","supportsPagination","supportsCentroid","maxRecordCount","returnGeometry","returnExceededLimitFeatures","outSpatialReference","y","fromJSON","returnCentroid","num","_queryPages","start","exceededTransferLimit","forEach","push","Map","set","w","m","indexOf","_trackIdToObservations","_idCounter","_lastPurge","performance","now","_addOrUpdated","_removed","_maxAge","_timeInfo","_purgeOptions","store","objectIdField","purgeInterval","_useGeneratedIds","add","_nextId","objectId","max","startTimeField","_trackIdLessObservations","maxObservations","delete","checkForUpdates","_getToAdd","_getToRemove","_purge","removeById","update","_purgeSomeByDisplayCount","_purgeByAge","_purgeByAgeReceived","_purgeTracks","displayCount","values","age","ageReceived","getObjectId","Number","json","read","onUpdate","_idToGraphic","sourceLayer","layer","arguments","_updateInfo","websocket","client","graphics","initialize","addResolvingPromise","when","_startup","_clearInterval","_updateIntervalId","clearInterval","connection","handles","removeAll","updating","layerView","parsedUrl","definitionExpression","geometryDefinition","purgeOptions","toJSON","I","view","v","_outSpatialReference","_onUpdate","featuresManager","j","remove","on","_onFeature","_initUpdateInterval","hasEventListener","removeMany","addMany","updateInterval","setInterval","round","pauseStream","resumeStream","controller","updatePolicy","ASYNC","hasZ","hasM","suspended","createQuery","queryLatestObservations","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","createController","beforeSetController"],"mappings":"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","file":"static/js/87.f72725de.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const e of this._buffer)if(t(e)&&s(e))return e;return null}clear(s){let e=this.dequeue();for(;t(e);)s&&s(e),e=this.dequeue()}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Error.js\";import e from\"../../core/Evented.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let c=class extends e.EventedAccessor{get connectionError(){return this.errorString?new o(\"stream-connection\",this.errorString):null}onFeature(r){this.emit(\"data-received\",r)}};r([t({readOnly:!0})],c.prototype,\"connectionError\",null),c=r([s(\"esri.layers.support.StreamConnection\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as s,isNone as r}from\"../../../../core/maybe.js\";import{after as n,createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as d}from\"../../../../geometry/support/zscale.js\";import h from\"../../../support/StreamConnection.js\";var p;!function(e){e[e.CONNECTING=0]=\"CONNECTING\",e[e.OPEN=1]=\"OPEN\",e[e.CLOSING=2]=\"CLOSING\",e[e.CLOSED=3]=\"CLOSED\"}(p||(p={}));let u=class extends h{constructor(e){super(),this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:s}=e;this._config=e,this._featureZScaler=d(t,s,o),this._open()}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake()}destroy(){s(this._websocket)&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null}get connectionStatus(){if(r(this._websocket))return\"disconnected\";switch(this._websocket.readyState){case p.CONNECTING:case p.OPEN:return\"connected\";case p.CLOSING:case p.CLOSED:return\"disconnected\"}}async _tryCreateWebSocket(e=this._config.source.path,s=1e3,r=0){try{if(this.destroyed)return;const t=i(e,this._config.customParameters);this._websocket=await this._createWebSocket(t),this.notifyChange(\"connectionStatus\")}catch(c){const i=s/1e3;return this._config.maxReconnectionAttempts&&r>=this._config.maxReconnectionAttempts?(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")),void this.destroy()):(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",`Failed to connect. Attempting to reconnect in ${i}s`,c)),await n(s),this._tryCreateWebSocket(e,Math.min(1.5*s,1e3*this._config.maxReconnectionInterval),r+1))}}_createWebSocket(e){return new Promise(((t,o)=>{const s=new WebSocket(e);s.onopen=()=>{if(s.onopen=null,this.destroyed)return s.onclose=null,void s.close();s.onclose=e=>this._onClose(e),s.onerror=e=>this._onError(e),s.onmessage=e=>this._onMessage(e),t(s)},s.onclose=e=>{s.onopen=s.onclose=null,o(e)}}))}async _handshake(e=1e4){const s=this._websocket;if(r(s))return;const n=c(),i=s.onmessage,{filter:a,outFields:l,spatialReference:d}=this._config;return n.timeout(e),s.onmessage=e=>{let r=null;try{r=JSON.parse(e.data)}catch(c){}r&&\"object\"==typeof r||(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - malformed message\",e.data)),n.reject(),this.destroy()),r.spatialReference?.wkid!==d?.wkid&&(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",`Protocol violation. Handshake failed - expected wkid of ${d.wkid}`,e.data)),n.reject(),this.destroy()),\"json\"!==r.format&&(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - format is not set\",e.data)),n.reject(),this.destroy()),a&&r.filter!==a&&o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Tried to set filter, but server doesn't support it\")),l&&r.outFields!==l&&o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Tried to set outFields, but server doesn't support it\")),s.onmessage=i,n.resolve()},s.send(JSON.stringify({filter:a,outFields:l,format:\"json\",spatialReference:{wkid:d.wkid}})),n.promise}_onMessage(e){try{const o=JSON.parse(e.data);if(\"featureResult\"!==o.type)throw new t(\"websocket-connection\",\"Protocol violation - Expected to find message of type 'featureResult'\",o);for(const e of o.features)s(this._featureZScaler)&&this._featureZScaler(e.geometry),this.onFeature(e)}catch(r){return o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Failed to parse message\",r)),void this.destroy()}}_onError(e){const t=\"Encountered an error over WebSocket connection\";this._set(\"errorString\",t),o.getLogger(this.declaredClass).error(\"websocket-connection\",t)}_onClose(e){this._websocket=null,this.notifyChange(\"connectionStatus\"),1e3!==e.code&&o.getLogger(this.declaredClass).error(\"websocket-connection\",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open()}};e([a()],u.prototype,\"connectionStatus\",null),e([a()],u.prototype,\"errorString\",void 0),u=e([l(\"esri.layers.graphics.sources.connections.WebSocketConnection\")],u);export{u as WebSocketConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../request.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{isSome as o,isNone as i,unwrapOr as n,get as a}from\"../../../../core/maybe.js\";import{createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as u}from\"../../../../core/urlUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WebSocketConnection as l}from\"./WebSocketConnection.js\";import{executeQuery as f}from\"../../../../rest/query/operations/query.js\";import h from\"../../../../rest/support/Query.js\";import{fromJSON as g}from\"../../../../geometry/support/jsonUtils.js\";import y from\"../../../../geometry/SpatialReference.js\";const m=1e4,p={maxQueryDepth:5,maxRecordCountFactor:3};let _=class extends l{constructor(e){super({...p,...e})}async _open(){const e=await this._fetchServiceDefinition(this._config.source);e.timeInfo.trackIdField||s.getLogger(this.declaredClass).warn(\"GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.\");const t=this._fetchWebSocketUrl(e.streamUrls,this._config.spatialReference);this._buddyServicesQuery||(this._buddyServicesQuery=this._queryBuddyServices()),await this._buddyServicesQuery,await this._tryCreateWebSocket(t);const{filter:r,outFields:o}=this._config;this.destroyed||this._setFilter(r,o)}_onMessage(e){let t;try{t=this._enrich(JSON.parse(e.data)),o(this._featureZScaler)&&this._featureZScaler(t.geometry)}catch(i){return void s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Failed to parse message\",i))}this.onFeature(t)}async _fetchServiceDefinition(e){const r={f:\"json\",...this._config.customParameters},s=t(e.path,{query:r,responseType:\"json\"}),o=(await s).data;return this._serviceDefinition=o,o}_fetchWebSocketUrl(e,t){const r=e[0],{urls:s,token:o}=r,i=this._inferWebSocketBaseUrl(s);return u(`${i}/subscribe`,{outSR:\"\"+t.wkid,token:o})}_inferWebSocketBaseUrl(e){if(1===e.length)return e[0];for(const t of e)if(t.includes(\"wss\"))return t;return s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Unable to infer WebSocket url\",e)),null}async _setFilter(e,t){const o=this._websocket;if(i(o)||i(e)&&i(t))return;const n=JSON.stringify({filter:this._serializeFilter(e,t)});let a=!1;const u=c(),d=()=>{a||(this.destroyed||this._websocket!==o||s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Server timed out when setting filter\")),u.reject())},l=e=>{const t=JSON.parse(e.data);t.filter&&(t.error&&(s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Failed to set service filter\",t.error)),this._set(\"errorString\",`Could not set service filter - ${t.error}`),u.reject(t.error)),o.onmessage=this._onMessage.bind(this),a=!0,u.resolve())};return o.onmessage=l,o.send(n),setTimeout(d,m),u.promise}_serializeFilter(e,t){const n={};if(i(e)&&i(t))return n;if(o(e)&&e.geometry)try{const t=g(e.geometry);if(\"extent\"!==t.type)throw new r(`Expected extent but found type ${t.type}`);n.geometry=JSON.stringify(t.shiftCentralMeridian())}catch(a){s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Encountered an error when setting connection geometryDefinition\",a))}return o(e)&&e.where&&\"1 = 1\"!==e.where&&(n.where=e.where),o(t)&&(n.outFields=t.join(\",\")),n}_enrich(e){if(!this._relatedFeatures)return e;const t=this._serviceDefinition.relatedFeatures.joinField,o=e.attributes[t];if(!this._relatedFeatures.has(o))return s.getLogger(this.declaredClass).warn(\"geoevent-connection\",\"Feature join failed. Is the join field configured correctly?\",e),e;const{attributes:i,geometry:n}=this._relatedFeatures.get(o);for(const r in i)e.attributes[r]=i[r];return n&&(e.geometry=n),e.geometry||e.centroid||s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Found malformed feature - no geometry found\",e)),e}async _queryBuddyServices(){try{const{relatedFeatures:e,keepLatestArchive:t}=this._serviceDefinition,r=this._queryRelatedFeatures(e),s=this._queryArchive(t);await r;const o=await s;if(!o)return;for(const i of o.features)this.onFeature(this._enrich(i))}catch(e){s.getLogger(this.declaredClass).error(new r(\"geoevent-connection\",\"Encountered an error when querying buddy services\",{error:e}))}}async _queryRelatedFeatures(e){if(!e)return;const t=await this._queryBuddy(e.featuresUrl);this._addRelatedFeatures(t)}async _queryArchive(e){if(e)return this._queryBuddy(e.featuresUrl)}async _queryBuddy(e){const t=new((await import(\"../../../FeatureLayer.js\")).default)({url:e}),{capabilities:r}=await t.load(),s=r.query.supportsMaxRecordCountFactor,o=r.query.supportsPagination,i=r.query.supportsCentroid,c=this._config.maxRecordCountFactor,u=t.capabilities.query.maxRecordCount,d=s?u*c:u,l=new h;if(l.outFields=n(this._config.outFields,[\"*\"]),l.where=n(a(this._config.filter,\"where\"),\"1=1\"),l.returnGeometry=!0,l.returnExceededLimitFeatures=!0,l.outSpatialReference=y.fromJSON(this._config.spatialReference),i&&(l.returnCentroid=!0),s&&(l.maxRecordCountFactor=c),o)return l.num=d,t.destroy(),this._queryPages(e,l);const g=await f(e,l,this._config.sourceSpatialReference);return t.destroy(),g.data}async _queryPages(e,t,r=[],s=0){t.start=o(t.num)?s*t.num:null;const{data:i}=await f(e,t,this._config.sourceSpatialReference);return i.exceededTransferLimit&&s<this._config.maxQueryDepth?(i.features.forEach((e=>r.push(e))),this._queryPages(e,t,r,s+1)):(r.forEach((e=>i.features.push(e))),i)}_addRelatedFeatures(e){const t=new Map,r=e.features,s=this._serviceDefinition.relatedFeatures.joinField;for(const o of r){const e=o.attributes[s];t.set(e,o)}this._relatedFeatures=t}};_=e([d(\"esri.layers.graphics.sources.connections.GeoEventConnection\")],_);const w=_;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"./GeoEventConnection.js\";import{WebSocketConnection as n}from\"./WebSocketConnection.js\";function t(t,o,r,c,i,s,a,m){const p=0===t.path.indexOf(\"wss://\")||0===t.path.indexOf(\"ws://\"),f={source:t,sourceSpatialReference:o,spatialReference:r,geometryType:c,filter:i,maxReconnectionAttempts:s,maxReconnectionInterval:a,customParameters:m};return p?new n(f):new e(f)}export{t as createConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{isNone as s,isSome as i,unwrap as r}from\"../../../core/maybe.js\";const o=\"__esri_stream_id__\",d=\"__esri_timestamp__\",a=1e3;class h{constructor(t,e,s,i,r=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=s,this._purgeOptions=i,this.store=t,this.objectIdField=e,this.purgeInterval=r,this._useGeneratedIds=this.objectIdField===o}add(r){if(this._useGeneratedIds){const t=this._nextId();r.attributes[this.objectIdField]=t,r.objectId=t}else r.objectId=r.attributes[this.objectIdField];if(this._addOrUpdated.set(r.objectId,r),this._maxAge=Math.max(this._maxAge,r.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return s(this._trackIdLessObservations)&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(r.objectId);const o=r.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=i(this._purgeOptions)&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:a,r=e(s,0,a);this._trackIdToObservations.set(o,new t(r))}const d=this._trackIdToObservations.get(o).enqueue(r.objectId);i(d)&&(this._addOrUpdated.has(d)?this._addOrUpdated.delete(d):this._removed.push(d))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(i(e))for(const o of e){const t=this.store.removeById(o);i(t)&&r.push(t)}if(i(t))for(const i of t)i.attributes[d]=s,this.store.add(i);(t||r?.length)&&this.store.update(t,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;i(e)&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=r(s.dequeue());this._removed.push(t),e--}if(i(this._trackIdLessObservations)){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();i(t)&&this._removed.push(t)}}}}_purgeByAge(t){if(!t.age||!this._timeInfo?.startTimeField)return;const e=60*t.age*1e3,s=this._maxAge-e;this.store.forEach((t=>{t.attributes[this._timeInfo.startTimeField]<s&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[d]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{o as DEFAULT_STREAM_ID_FIELD,d as ESRI_TIMESTAMP,h as StreamFeatureManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{HandleOwnerMixin as o}from\"../../../core/HandleOwner.js\";import{isSome as s}from\"../../../core/maybe.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{watch as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as p}from\"../data/StreamFeatureManager.js\";import{createConnection as h}from\"../sources/connections/createConnection.js\";import{EventedSet as d}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as l}from\"../../../geometry/support/typeUtils.js\";const m=2500;let u=class extends t{getObjectId(){return this.objectId}};e([n({type:Number,json:{read:!0}})],u.prototype,\"objectId\",void 0),u=e([c(\"esri.layers.graphics.controllers.StreamGraphic\")],u);class y{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let f=class extends(o(i(r))){constructor(){super(...arguments),this._updateInfo={websocket:0,client:0},this.graphics=new d}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=0)}clear(){this._clearInterval(),this.connection&&(this.connection.destroy(),this.connection=null),this.store&&(this.store.destroy(),this.store=null),this.graphics.clear(),this.handles.removeAll()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_startup(){const{layer:e,layerView:t}=this,{parsedUrl:r,spatialReference:o,definitionExpression:s,geometryDefinition:i,objectIdField:n,timeInfo:c,purgeOptions:d,maxReconnectionAttempts:m,maxReconnectionInterval:u,customParameters:f}=e,_=l.toJSON(e.geometryType),g=o,I=t.view.spatialReference,v={geometry:i,where:s};this.clear(),this._set(\"connection\",h(r,g,I,_,v,m,u,f)),this._outSpatialReference=I.toJSON(),this.store=new y(this._onUpdate.bind(this)),this.featuresManager=new p(this.store,n,c.toJSON(),d);const j=\"startup-watches\";this.handles.remove(j),this.handles.add([this.connection.on(\"data-received\",(e=>this._onFeature(e))),a((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],j),this._initUpdateInterval()}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{s(e.geometry)&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){s(t)&&this.graphics.removeMany(t),s(e)&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),r=e-t;if(r>m){t=e;const o=Math.round(this._updateInfo.client/(r/1e3)),s=Math.round(this._updateInfo.websocket/(r/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:o,websocket:s})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this._clearInterval()}resumeStream(){this._initUpdateInterval()}};e([n()],f.prototype,\"connection\",void 0),e([n()],f.prototype,\"layer\",void 0),e([n()],f.prototype,\"layerView\",void 0),e([n({readOnly:!0})],f.prototype,\"updating\",null),f=e([c(\"esri.layers.graphics.controllers.StreamController\")],f);export{f as StreamController,u as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../layers/support/FeatureFilter.js\";const s=s=>{let n=class extends s{constructor(...r){super(...r),this.connectionError=null,this.filter=null}get connectionStatus(){return this.controller?.connection?.connectionStatus??\"disconnected\"}};return r([o({readOnly:!0})],n.prototype,\"connectionError\",void 0),r([o({readOnly:!0})],n.prototype,\"connectionStatus\",null),r([o({type:e})],n.prototype,\"filter\",void 0),n=r([t(\"esri.layers.mixins.StreamLayerView\")],n),n};export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as i}from\"../../../layers/graphics/controllers/StreamController.js\";import a from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as n}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{UpdatePolicy as c}from\"../webgl-engine/lib/basicInterfaces.js\";import p from\"../../layers/LayerView.js\";import m from\"../../layers/StreamLayerView.js\";let y=class extends(m(n(l(p)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=c.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.handles.add(t((()=>this.suspended),(r=>{this.controller&&(r?this.controller.pauseStream():this.controller.resumeStream())})))}get connectionError(){const r=this.get(\"controller.connection.errorString\");if(r)return new e(\"stream-controller\",r)}createQuery(){return new a({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(r,e){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(r),e?.signal)}createController(){return new i({layer:this.layer,layerView:this})}beforeSetController(){}};r([o({readOnly:!0})],y.prototype,\"updatePolicy\",void 0),r([o({readOnly:!0})],y.prototype,\"connectionError\",null),r([o()],y.prototype,\"controller\",void 0),r([o({readOnly:!0})],y.prototype,\"hasZ\",void 0),r([o({readOnly:!0})],y.prototype,\"hasM\",void 0),y=r([s(\"esri.views.3d.layers.StreamLayerView3D\")],y);const u=y;export{u as default};\n"],"sourceRoot":""}
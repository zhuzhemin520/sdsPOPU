{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/support/I3SLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/enums.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerView3D.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js","../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js"],"names":["n","o","s","a","c","e","t","constructor","i","this","id","mbs","renderMbs","elevationRange","min","max","valid","Unmodified","Culled","NotChecked","PotentiallyModified","Unknown","h","d","r","l","super","index","childCount","level","resources","version","lodMetric","maxError","numFeatures","failed","cacheState","vertexCount","memory","childrenLoaded","hasModifications","imModificationImpact","Uncached","Cached","None","MaxScreenThreshold","ScreenSpaceRelative","RemovedFeatureDiameter","DistanceRangeFromDefaultCamera","Hole","Leaf","nodeHasLOD","isChosen","lodLevel","FadeIn","FadeOut","KTX2","Basis","DDS_S3TC","PNG","JPG","KTX_ETC2","Color","MetallicRoughness","Normal","Occlusion","Emissive","AlphaMask","ColorTextures","GeometryTextures","GeometryTexturesPBR","AllTextures","AllTexturesPBR","p","Map","has","get","usage","size","set","pbrMetallicRoughness","u","baseColorFactor","m","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","g","T","alphaMode","x","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","b","alphaCutoff","doubleSided","cullFace","Back","Front","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","F","forEach","formats","map","name","format","encoding","f","push","encodings","material","textures","sort","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","length","split","pop","Array","isArray","href","data","HTMLImageElement","width","height","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","downsampled","C","P","R","mipmap","maxAnisotropy","components","noUnpackFlip","CLAMP_TO_EDGE","REPEAT","M","rendererTextureUsage","w","baseColor","usePBR","mrrFactors","isIntegratedMesh","textureAlphaCutoff","alphaDiscardMode","Opaque","Mask","MaskBlend","loadPromise","emissionTexture","commonMaterialParameters","hasSlicePlane","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","Promise","all","S","compressedTextureS3TC","compressedTextureETC","D","find","_textureRep","_disposed","acquire","then","_textureRef","dispose","glTexture","arguments","type","direct3DObjectFeatureLayerDisplayEnabled","initialize","layer","operations","supportsQuery","addResolvingPromise","reject","infoFor3D","_set","geometryType","spatialReference","view","featureSpatialReference","featureTiles","tilingScheme","constructOnly","prototype","_map","clear","toArray","emit","added","removed","addMany","Set","objectId","add","refCount","filter","removeMany","delete","removeManyByObjectId","values","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","destroy","running","needsUpdate","runTask","_sort","numIndexLoading","numNodesLoading","done","priority","update","unshift","remove","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","_","_streamDataController","_viewportQueries","_logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","_nodeCount","_nodesPerPage","_rootIndex","_lodMetric","_lodConversion","_urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","I","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","N","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","_pageQueue","needNodeElevationRange","layerHasModifications","_layerHasFilter","_logLayer","serviceUpdateTimeStamp","lastUpdate","_lastUpdate","_maxLodLevel","maxLodLevel","_init","urlPrefix","pageSize","rootIndex","V","_addPage","rootPage","_updateParentsAndLevel","nodes","children","parents","_makeRefNode","rootNode","_validateNode","_addNode","_loadPage","request","pageIndex","page","catch","error","_addQueuedPages","shift","madeProgress","v","obb","center","halfSize","mesh","attribute","geometry","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","_getPage","getNode","getChildIndex","Math","_getNodeInternal","populateChildren","getParent","L","metricType","E","lodSelection","serviceObbInRenderSR","getIndexById","_forAllNodes","getNodeById","getParentIndex","isLeaf","removeAllGeometryObbs","geometryObb","invalidateVisibilityCache","invalidateNodeVisibilityCache","invalidateNodeVisibilityCacheInternal","invalidateBoundingVolumeCache","updateElevationChanged","invalidateGeometryVisibility","invalidateVisibilityObbs","traverse","_updateElevationRange","getElevationRange","isNodeVisible","isGeometryVisible","_traverseCoverage","delta","coverage","useNodeAsHole","maxLevel","dirty","prune","requestUpdate","imModificationsChanged","layerFilterChanged","reset","y","O","traverseVisible","_entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","includes","cancel","filterInPlace","_computeFeatureEstimate","back","checkFeatureTarget","updateScreenSpaceErrorBias","_updateFeatureEstimate","load","_load","prefetch","_loadNode","isLoading","isPrefetching","indexLoading","indexMissing","unloadedMemoryEstimate","updates","featureEstimate","maxPriority","nodeTraversalState","getLodLevel","hasLOD","sharedResource","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","resetFailedNodes","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","updateChildrenLoaded","checkChildrenLoadedInvariant","join","updateStats","prio","features","updateElevationInfo","mode","invalidateAllElevationRanges","test","addNode","sqrt","PI","_layerView","_lodGlobalDirty","startNodeLoading","_index","_isNodeInScaleBounds","_removeNodes","shouldLoadNode","_isChosenMaxLOD","_childrenRequireLoading","setLodGlobalDirty","requiresLODGlobalHandling","lodGlobalHandling","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","nodeCrossfadingEnabled","_removeChildrenRecursive","isNodeLoaded","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","isNodeReloading","_defaultGeometrySchema","_requiredAttributes","_options","_layerUrl","parsedUrl","path","_geometryDefinitions","geometryDefinitions","textureSetDefinitions","_materialAndTextures","_loadAttribute","key","loadAttributes","attributeStorageInfo","value","async","bufferDefinition","bufferIndex","geometryBuffers","compressedAttributes","_loadGeometry","_loadShared","A","loadFeatureData","_loadFeatureData","$","geometries","featureIds","featureDataPosition","position","j","loadTextures","U","vertexRegions","vertexAttributes","region","q","B","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Error","static","hrefConcat","substring","_fixTextureEncodings","_addAbsoluteHrefTexture","_loadTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","textureEncodings","_requester","_apiKey","_activeRequests","busy","AbortController","abort","signal","query","token","response","abortController","abortHandle","cancelAll","_indexSR","_renderCoordsHelper","_clippingArea","_elevationProvider","_viewingMode","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmpObb","_tmp1","_tmp2","_tmp3","_tmp0","_screenspaceErrorBias","screenspaceErrorBias","_progressiveLoadFactor","progressiveLoadFactor","updateCamera","engineSR","_tmpPoint","_isECEFOBBInLocalMode","isWGS84","isWebMercator","_indexSREllipsoidRadius","radius","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","setPointOfInterest","updateClippingArea","getSphereElevationBounds","getElevation","getRenderMbs","z","getVisibilityObb","_computeRenderObb","isFinite","geometryZWithOffset","_isMBSinClippingArea","OUTSIDE","_screenSpaceDiameterMbs","_updateMinMaxDistance","MAX_VALUE","calcCameraDistance","calcCameraDistanceToCenter","calcAngleDependentLoD","abs","_getDistancePlanarMode","_getDistanceGlobeMode","_getDistance","evaluateLODmetric","angleDependentLoD","distCameraToPOI","Q","getLogger","K","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","isMeshPyramid","profile","store","lodType","isGraphics3D","useMaximumNumberOfFeatures","indexStreamController","layerView","createStreamDataRequester","I3S_INDEX","apiKey","dataStreamController","I3S_DATA","crsVertex","crsIndex","i3slayer","rootNodeVisible","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","defaultGeometrySchema","fields","indexInfo","when","destroyed","_setClippingArea","clippingArea","addHandles","pointsOfInterest","focus","renderLocation","_pointOfInterestChanged","memoryFactor","_setCameraDirty","suspended","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","state","contentCamera","elevationInfo","_elevationInfoChanged","effectiveScaleRange","_scaleBoundsChanged","lodFactor","availableFields","_requiredFieldsChange","_updateScaleHandles","renderCoordsHelper","fixedContentCamera","basemapTerrain","elevationProvider","viewingMode","_getProgressiveLoadFactor","_lod","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","_startNodeLoading","updateNodeModificationStatus","forAll","_nodeLoader","W","X","hide","_getRequiredAttributes","objectIdField","J","field","renderSpatialReference","Y","distancePenalty","_evaluateUpdating","equals","Z","_areScaleBoundsActive","on","_scaleUpdateHandler","_updateScaleInBoundingRect","extent","_computeScale","schedule","reschedule","_isIntegratedMesh","minScale","maxScale","_lodDropFactor","indexDepth","disableMemCache","visible","_processWithErrorLogging","_process","_removeInvisibleNodes","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","from","pushArray","_get","_baseLOD","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","_cancelAllNodes","notifyChange","minQuality","updateVisibility","modificationsChanged","_shouldDropNode","supportedTextureEncodings","ee","fadeout","isNodeLoading","getLoadedNodeIndices","markNodeToRemove","removeMarkedNodes","G","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","updateAttributes","_loadAndAddNode","finally","_loadUncached","_loadCached","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","updateLoadStatus","loadCachedNodeData","addCachedNodeData","loadNodeData","_getScale","getSphereScale","detail","target","disableUpdates","notifyLODUpdate","geometryFilterChanged","readOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","te","clone","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","_warnMaximumChangedObjectsExceeded","_pendingFetchAbortController","_interactiveEditingSessions","_maximumNumberOfEditOVerrides","_original3DOFLDefinitionExpression","_associatedLayerView","_changedObjectIds","_memCache","newCache","uid","_pendingFetchChangedObjectIds","_fetchChangedObjectIds","_associatedLayer","definitionExpression","_definitionExpression","geometryChangedObjectIds","associatedLayer","createInteractiveEditSession","rollback","commit","updateAttributeValue","_getOverridesFromCache","objectIds","fieldNames","_queryOverridesFromAssociatedLayer","_processOverridesFromAssociatedLayer","updateGeometry","_cacheAttributeValue","put","_getAttributeCacheKey","_memCacheAttributeValueSize","_fromCache","_fromInteractiveEditingSession","_logMaximumObjectsExceededWarning","createQuery","where","returnGeometry","outFields","cacheHint","reduce","ok","portalItem","loaded","portal","url","title","supportsChangeTracking","_getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","changedObjectIds","pendingFetchChangedObjectIds","maximumNumberOfEditOVerrides","_state","ACTIVE","_isActive","ROLLED_BACK","COMMITTED","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","declaredClass","parsedDefinitionExpression","create","fieldsIndex","isStandardized","missingFields","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","_validateFetchPopupFeatures","popupEnabled","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","setAttribute","sessions","i3sOverrides","indexOf","EDITING","findIndex","forEachNode","setAttributeData","clearMemCache","addedFeatures","updatedFeatures","deletedFeatures","updateFeatures","normalizeFieldName","featureIndex","featureId","requiredFields","String","_geometryEngine","_projectionEngineLoaded","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","_filterNeedsProjectionEngine","getItemAt","simplify","warnOncePerTick","xmin","xmax","ymin","ymax","intersects","union","spatialRelationship","layerFilterUpdating","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","_numUpdating","_asyncUpdateState","autoUpdateAsync","_updateAsync","_startAsyncUpdate","_endAsyncUpdate","Updating","Invalidated","rendererFields","labelingFields","viewFilterFields","handles","renderer","collectRequiredFields","labelsVisible","dracoDecompressPointCloudData","hasInitialize","_nodesAddedToStage","_queryEngine","loadedGraphics","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","_i3sOverrides","_fieldsHelper","H","updatingHandles","rangeInfos","_rangeInfosChanged","_rendererChange","_excludeObjectIdsSorted","_filterChange","I3S_TREE_SHOW_TILES","_treeDebugger","_controller","I3STreeDebugger","lv","nodeSR","owner","preferredUpdatePolicy","ASYNC","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","processor","elevationAlignment","events","_verticalScale","initializePromise","_worker","addPromise","result","_handleEdits","featureStore","context","hasZ","hasM","FEATURE_QUERY_ENGINE","_removeAllNodeData","updatingProgressValue","graphicsCore","displayFeatureLimit","_override","_clearOverride","excludeObjectIds","semantic","qualitySettings","sceneService","point","_getObjectIdField","getHit","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","canResume","isUpdating","updatePolicy","effectiveUpdatePolicy","_attributeEditingContext","invoke","positionData","positions","_checkExtent","zmin","zmax","mmin","mmax","graphics","_addNodeBinaryPointData","_addNodeLegacyPointData","apply","_updateNodeMemory","_computeObb","_cacheNodeData","_stage","renderView","_objectAndLayerIdRenderHelper","setUidToObjectAndLayerId","_filterNode","isGeographic","_extractBinaryPointData","generateUID","re","se","property","oldValue","newValue","graphicUpdateHandler","usedMemoryPerGraphic","_getMemCacheKey","_removeNodeStageData","getLoadedNodeIds","getVisibleNodes","_setAttributeData","_attributeValuesChanged","labelsEnabled","updateLabelingInfo","_reloadAllNodes","outSpatialReference","executeQuery","_ensureQuery","executeQueryForIds","executeQueryForCount","executeQueryForExtent","getUsedMemory","getUnloadedMemory","unprocessedMemoryEstimate","ignoresMemoryFactor","recreateGraphics","performanceInfo","displayedNumberOfFeatures","totalNumberOfFeatures","core","controller","numNodes","k"],"mappings":"mIAAA,sTAIwNA,EAAEC,EAAEC,EAAEC,EAAEC,EAAYC,EAJ5O,QAIiD,MAAMC,EAAEC,YAAYD,EAAEE,GAAGC,KAAKC,GAAGJ,EAAEG,KAAKE,IAAIH,EAAEC,KAAKG,UAAUP,YAAE,EAAE,EAAE,GAAG,GAAGI,KAAKI,eAAe,IAAI,EAAE,MAAML,EAAED,cAAcE,KAAKK,IAAI,IAAIL,KAAKM,KAAI,IAAKN,KAAKO,OAAM,CAAE,GAA0BX,EAAyFL,IAAIA,EAAE,CAAC,IAA3FK,EAAEY,WAAW,GAAG,aAAaZ,EAAEA,EAAEa,OAAO,GAAG,SAASb,EAAEA,EAAEc,WAAW,GAAG,aAAyB,SAASd,GAAGA,EAAEA,EAAEY,WAAW,GAAG,aAAaZ,EAAEA,EAAEe,oBAAoB,GAAG,sBAAsBf,EAAEA,EAAEa,OAAO,GAAG,SAASb,EAAEA,EAAEgB,QAAQ,GAAG,UAAUhB,EAAEA,EAAEc,WAAW,GAAG,YAAY,CAA1K,CAA4KlB,IAAIA,EAAE,CAAC,IAAI,MAAMqB,UAAUhB,EAAEC,YAAYF,EAAEC,EAAEE,EAAER,EAAEG,EAAEC,EAAEkB,EAAEC,EAAEC,EAAEC,GAAGC,MAAMrB,EAAEG,GAAGC,KAAKkB,MAAMrB,EAAEG,KAAKmB,WAAW5B,EAAES,KAAKoB,MAAM1B,EAAEM,KAAKqB,UAAU1B,EAAEK,KAAKsB,QAAQT,EAAEb,KAAKuB,UAAUT,EAAEd,KAAKwB,SAAST,EAAEf,KAAKyB,YAAYT,EAAEhB,KAAK0B,QAAO,EAAG1B,KAAK2B,WAAWlC,EAAEmB,QAAQZ,KAAK4B,YAAY,EAAE5B,KAAK6B,OAAO,EAAE7B,KAAK8B,eAAe,EAAE9B,KAAK+B,kBAAiB,EAAG/B,KAAKgC,qBAAqBxC,EAAEkB,UAAU,GAAG,SAASd,GAAGA,EAAEA,EAAEgB,QAAQ,GAAG,UAAUhB,EAAEA,EAAEqC,SAAS,GAAG,WAAWrC,EAAEA,EAAEsC,OAAO,GAAG,QAAQ,CAAtF,CAAwFzC,IAAIA,EAAE,CAAC,IAAI,SAASG,GAAGA,EAAEA,EAAEuC,KAAK,GAAG,OAAOvC,EAAEA,EAAEwC,mBAAmB,GAAG,qBAAqBxC,EAAEA,EAAEyC,oBAAoB,GAAG,sBAAsBzC,EAAEA,EAAE0C,uBAAuB,GAAG,yBAAyB1C,EAAEA,EAAE2C,+BAA+B,GAAG,gCAAgC,CAA5P,CAA8P7C,IAAIA,EAAE,CAAC,IAAI,SAASE,GAAGA,EAAEA,EAAE4C,KAAK,GAAG,OAAO5C,EAAEA,EAAE6C,KAAK,GAAG,MAAM,CAAjD,CAAmD9C,IAAIA,EAAE,CAAC,IAAI,MAAMmB,EAAEhB,YAAYF,EAAEC,EAAEE,EAAER,GAAGS,KAAK0C,WAAW9C,EAAEI,KAAK2C,SAAS9C,EAAEG,KAAK4C,SAAS7C,EAAEC,KAAKsB,QAAQ/B,CAAC,E,oCCA92C,IAAIG,EAJJ,kCAIO,SAASA,GAAGA,EAAEA,EAAEmD,OAAO,GAAG,SAASnD,EAAEA,EAAEoD,QAAQ,GAAG,SAAS,CAA3D,CAA6DpD,IAAIA,EAAE,CAAC,G,oCCA3E,IAAIE,EAAEH,EAJN,oEAIS,SAASG,GAAGA,EAAEA,EAAEmD,KAAK,GAAG,OAAOnD,EAAEA,EAAEoD,MAAM,GAAG,QAAQpD,EAAEA,EAAEqD,SAAS,GAAG,WAAWrD,EAAEA,EAAEsD,IAAI,GAAG,MAAMtD,EAAEA,EAAEuD,IAAI,IAAI,MAAMvD,EAAEA,EAAEwD,SAAS,IAAI,UAAU,CAA7I,CAA+IxD,IAAIA,EAAE,CAAC,IAAI,SAASA,GAAGA,EAAEA,EAAEuC,KAAK,GAAG,OAAOvC,EAAEA,EAAEyD,MAAM,GAAG,QAAQzD,EAAEA,EAAE0D,kBAAkB,GAAG,oBAAoB1D,EAAEA,EAAE2D,OAAO,GAAG,SAAS3D,EAAEA,EAAE4D,UAAU,GAAG,YAAY5D,EAAEA,EAAE6D,SAAS,IAAI,WAAW7D,EAAEA,EAAE8D,UAAU,IAAI,YAAY9D,EAAEA,EAAE+D,cAAc,IAAI,gBAAgB/D,EAAEA,EAAEgE,iBAAiB,IAAI,mBAAmBhE,EAAEA,EAAEiE,oBAAoB,IAAI,sBAAsBjE,EAAEA,EAAEkE,YAAY,IAAI,cAAclE,EAAEA,EAAEmE,eAAe,IAAI,gBAAgB,CAA5Z,CAA8ZtE,IAAIA,EAAE,CAAC,G,oCCJxkB,+UAI41B,SAASuE,EAAEpE,EAAEF,GAAG,MAAMD,EAAE,IAAIwE,IAAI1E,EAAE,CAACK,EAAEF,KAAK,GAAGqB,YAAEnB,GAAG,OAAO,EAAE,GAAGH,EAAEyE,IAAItE,EAAEK,IAAI,CAAC,MAAMT,EAAEC,EAAE0E,IAAIvE,EAAEK,IAAI,OAAOT,EAAE4E,OAAO1E,EAAEF,EAAES,EAAE,CAAC,MAAMT,EAAEC,EAAE4E,KAAK,OAAO5E,EAAE6E,IAAI1E,EAAEK,GAAG,CAACA,GAAGT,EAAE4E,MAAM1E,IAAIF,CAAC,EAAEO,EAAEL,EAAE6E,qBAAqBC,EAAEzE,GAAGA,EAAE0E,gBAAgBC,EAAEhF,EAAEiF,eAAe7D,EAAE,MAAMpB,EAAEkF,eAAe,MAAMlF,EAAEmF,iBAAiB,MAAMnF,EAAEoF,oBAAoB/E,GAAG,MAAMA,EAAEgF,0BAA0B,IAAIhF,EAAEiF,kBAAkB,IAAIjF,EAAEkF,gBAAgB,IAAIlF,EAAEkF,iBAAiBC,EAAEpE,EAAEE,IAAE,GAAGjB,EAAEA,EAAEkF,eAAe,EAAEjB,EAAElD,EAAEE,IAAE,GAAGjB,EAAEA,EAAEiF,gBAAgB,EAAEG,EAAE,SAASzF,EAAE0F,UAAUvF,IAAEwD,MAAMxD,IAAE6D,UAAU7D,IAAEwD,MAAMgC,EAAE,CAACZ,gBAAgBD,EAAE,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,GAAGc,mBAAmB/F,EAAEQ,GAAGA,EAAEwF,iBAAiBJ,GAAGK,2BAA2BjG,EAAEQ,GAAGA,EAAEgF,yBAAyBlF,IAAEyD,mBAAmB2B,eAAeC,EAAEF,gBAAgBhB,GAAGyB,EAAE,CAACL,UAAU1F,EAAE0F,UAAUM,YAAYhG,EAAEgG,YAAYC,YAAYjG,EAAEiG,YAAYC,SAAS,SAASlG,EAAEkG,SAASjG,IAAEwC,KAAK,SAASzC,EAAEkG,SAASjG,IAAEkG,KAAK,UAAUnG,EAAEkG,SAASjG,IAAEmG,WAAM,EAAOC,gBAAgBxG,EAAEG,EAAEkF,cAAc/E,IAAE0D,QAAQyC,kBAAkBzG,EAAEG,EAAEmF,gBAAgBhF,IAAE4D,UAAUwC,mBAAmB1G,EAAEG,EAAEoF,iBAAiBjF,IAAE2D,WAAWmB,eAAeD,EAAE,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,EAAE,EAAE,GAAGwB,kBAAkBb,EAAEc,cAAa,EAAGC,wBAAwBtF,GAAGuF,EAAE,GAAG,OAAO5G,EAAE6G,SAAS,EAAElC,MAAM1E,GAAGqB,KAAK,MAAMtB,EAAED,YAAEI,IAAIA,EAAEmB,IAAInB,EAAEmB,GAAGwF,QAAQ1G,EAAEJ,EAAEoB,EAAEpB,EAAE+G,KAAK,EAAEC,KAAK7G,EAAE8G,OAAOhH,MAAE,CAAK+G,KAAK7G,EAAE+G,SAASC,EAAElH,QAAQ,GAAG2G,EAAEQ,KAAK,CAAC5G,GAAGc,EAAEqD,MAAM1E,EAAEoH,UAAUjH,GAAG,IAAI,CAACkH,SAAStB,EAAEuB,SAASX,EAAE,CAAC,SAASxF,EAAEjB,GAAG,OAAOA,EAAEqH,MAAM,CAACrH,EAAEF,IAAIE,EAAE+G,SAASjH,EAAEiH,UAAU,CAAC,MAAMC,EAAE,CAACM,KAAKzH,IAAEsD,KAAKoE,MAAM1H,IAAEuD,MAAMoE,IAAI3H,IAAEwD,SAASoE,IAAI5H,IAAEyD,IAAIoE,IAAI7H,IAAE0D,IAAI,WAAW1D,IAAE2D,UAAU+B,EAAE,CAAC,CAACrE,IAAEyG,eAAe9H,IAAEuD,MAAM,CAAClC,IAAE0G,gBAAgB/H,IAAEuD,MAAM,CAAClC,IAAE2G,cAAchI,IAAEwD,SAAS,YAAYxD,IAAEyD,IAAI,YAAYzD,IAAE0D,IAAI,aAAa1D,IAAE0D,IAAI,YAAY1D,IAAE2D,UAAU,SAASiC,EAAE3F,GAAG,MAAMF,EAAEE,GAAGA,EAAEgI,oBAAoBC,OAAOC,KAAKlI,EAAEgI,qBAAqB,GAAG,KAAK3G,EAAErB,GAAGA,EAAEmI,mBAAmBF,OAAOC,KAAKlI,EAAEmI,oBAAoB,GAAG,KAAKpI,EAAED,GAAGE,EAAEgI,oBAAoBlI,GAAGD,EAAEwB,GAAGrB,EAAEmI,mBAAmB9G,GAAGC,EAAEyE,IAAI,GAAG,MAAMhG,EAAE,CAAC,MAAMC,EAAED,EAAEqI,OAAOpI,EAAEqI,UAAU/G,EAAEkF,kBAAkBzB,gBAAgB,CAAC/E,EAAEqI,QAAQ,GAAGrI,EAAEqI,QAAQ,GAAGrI,EAAEqI,QAAQ,GAAG,IAAI,MAAMrI,EAAEiG,cAAc3E,EAAE2E,YAAYjG,EAAEiG,YAAY3E,EAAE4E,SAASlG,EAAEiG,YAAYhG,IAAEwC,KAAKxC,IAAEkG,MAAM,SAASnG,EAAEkG,UAAU,UAAUlG,EAAEkG,UAAU,SAASlG,EAAEkG,WAAW5E,EAAE4E,SAAS,SAASlG,EAAEkG,SAASjG,IAAEwC,KAAK,SAASzC,EAAEkG,SAASjG,IAAEkG,KAAKlG,IAAEmG,OAAOpG,EAAEsI,eAAehH,EAAEkF,kBAAkBzB,gBAAgB,GAAG7E,YAAE,EAAEF,EAAEsI,aAAa,EAAE,KAAKtI,EAAEuI,qBAAqBjH,EAAEkF,kBAAkBzB,gBAAgB,GAAG,KAAKzD,EAAEoE,UAAU,QAAQ,CAAC,MAAMrF,EAAE,GAAG,GAAG,MAAMR,EAAE,CAAC,MAAMK,EAAE,GAAGL,EAAE2I,MAAM,WAAW3I,EAAE2I,KAAK,IAAI,WAAW3I,EAAE2I,KAAK,KAAKlH,EAAEmF,cAAa,GAAI,IAAIzG,EAAEG,IAAEwD,MAAM,SAAS9D,EAAE4I,WAAWnH,EAAEoE,UAAU,QAAQ1F,GAAGG,IAAE6D,WAAW,MAAMlE,EAAED,EAAE6I,OAAOC,OAAO,EAAEtH,EAAExB,EAAE6I,OAAO5I,GAAGC,EAAEG,GAAGA,GAAGA,EAAE0I,MAAM,KAAKC,MAAM/D,EAAEgE,MAAMC,QAAQlJ,EAAEoH,UAAU9F,EAAEtB,EAAEoH,SAASH,KAAK,CAAC5G,EAAEF,KAAC,CAAK+G,KAAKhH,EAAEsB,EAAE2H,KAAKhJ,IAAIiH,SAASxB,EAAEvF,IAAI,OAAO,CAAC,CAAC6G,KAAKhH,EAAEsB,EAAE2H,MAAM/B,SAASxB,EAAE5F,EAAEoH,WAAW,IAAI5G,EAAE8G,KAAK,CAAC5G,GAAGL,EAAEwE,MAAM1E,EAAEoH,UAAUtC,IAAIxD,EAAEkF,kBAAkBZ,mBAAmB1F,CAAC,CAAC,MAAM,CAACmH,SAAS/F,EAAEgG,SAASjH,EAAE,CAAC,MAAM0F,EAAE,MAAML,UAAU,SAASM,YAAY3F,IAAE4F,aAAY,EAAGC,SAASjG,IAAEwC,KAAK4D,iBAAiB,EAAEC,mBAAmB,EAAEC,oBAAoB,EAAEtB,eAAe,CAAC,EAAE,EAAE,GAAGuB,kBAAkB,CAACzB,gBAAgB,CAAC,GAAG,GAAG,GAAG,GAAGa,oBAAoB,EAAEE,4BAA4B,EAAEP,eAAe,EAAED,gBAAgB,IAAImB,cAAa,EAAGC,yBAAwB,IAAK,SAASC,EAAEzG,EAAEJ,EAAEC,EAAEF,GAAG,GAAGwB,YAAEnB,IAAI,MAAMA,EAAE+I,KAAK,OAAO,KAAK,MAAM3H,EAAEpB,EAAE+I,KAAK5I,IAAIiB,aAAa4H,mBAAmBlJ,YAAEsB,EAAE6H,QAAQnJ,YAAEsB,EAAE8H,QAAQtE,EAAEjF,EAAEwJ,iBAAiBC,WAAWC,iBAAiBtJ,EAAEF,IAAIF,EAAE2J,aAAaC,iBAAiB,EAAE3E,EAAEE,EAAE3E,IAAIH,EAAEwJ,aAAazJ,EAAE,EAAEuF,EAAEzF,IAAID,EAAE2G,aAAakD,EAAEC,EAAEtF,EAAq7D,SAAWpE,GAAG,OAAOA,GAAG,KAAKH,IAAEsD,KAAK,OAAOjC,IAAEyG,cAAc,KAAK9H,IAAEuD,MAAM,OAAOlC,IAAE0G,eAAe,KAAK/H,IAAEwD,SAAS,OAAOnC,IAAE2G,aAAa,KAAKhI,IAAEyD,IAAI,MAAM,YAAY,KAAKzD,IAAE0D,IAAI,MAAM,aAAa,KAAK1D,IAAE2D,SAAS,MAAM,YAAY,QAAQ,MAAM,GAAG,CAAvqEmG,CAAE3J,EAAE+G,UAAU9F,EAAEjB,EAAEwE,MAAMvE,IAAEwD,MAAM,WAAW7D,EAAE4F,UAAU,EAAE,EAAE,EAAE,OAAO,IAAItE,IAAEE,EAAE,CAACwI,OAAO9E,EAAE+E,cAAc9J,EAAEgH,SAAS3C,EAAEkE,KAAKhD,EAAEwE,WAAW7I,EAAE8I,cAAa,GAAI,CAAC,MAAMN,EAAE,CAAC5J,EAAEyF,IAAE0E,cAAc/J,EAAEqF,IAAE0E,eAAeN,EAAE,CAAC7J,EAAEyF,IAAE2E,OAAOhK,EAAEqF,IAAE2E,QAAQ,SAASC,EAAEpK,EAAEqB,EAAEtB,EAAEuB,EAAErB,EAAEmB,GAAG,MAAMoE,EAAEpE,EAAEiJ,qBAAqB/F,EAAEpE,GAAu/C,SAAWA,EAAEF,EAAED,GAAG,GAAGsB,YAAEnB,IAAIH,IAAII,IAAEsC,KAAK,OAAO,KAAK,IAAI,IAAIpB,EAAE,EAAEA,EAAEnB,EAAEyI,OAAOtH,IAAI,CAAC,MAAMlB,EAAED,EAAEmB,GAAG,GAAGvB,YAAEK,IAAI,IAAIA,EAAEuE,MAAM3E,GAAG,CAAC,MAAMG,EAAEF,EAAEqB,GAAG,OAAOvB,YAAEI,GAAGA,EAAEK,GAAG,IAAI,CAAC,CAAC,OAAO,IAAI,CAAvpD+J,CAAEhJ,EAAEvB,EAAEG,EAAEsF,GAAGrE,EAAEE,EAAEmF,kBAAkBzB,gBAAgBmC,EAAEhH,YAAEmB,EAAEmF,kBAAkBzB,gBAAgB,GAAG,EAAE,GAAG/E,EAAEuK,UAAU,CAACpJ,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG+F,GAAGlH,EAAE0G,0BAA0BrF,EAAEqF,wBAAwB1G,EAAEwK,OAAOpJ,EAAEoJ,OAAOxK,EAAEyK,WAAW,CAACpJ,EAAEmF,kBAAkBjB,eAAelE,EAAEmF,kBAAkBlB,gBAAgBjE,EAAEqF,wBAAwB,GAAG,IAAI1G,EAAEiF,eAAe5D,EAAE4D,eAAejF,EAAE0K,iBAAiBtJ,EAAEsJ,iBAAiB1K,EAAE2K,mBAAmB,SAAStJ,EAAEqE,UAAUrE,EAAE2E,YAAY3F,IAAEL,EAAE4K,iBAAiB,WAAWvJ,EAAEqE,UAAUV,IAAE6F,OAAO,SAASxJ,EAAEqE,UAAUV,IAAE8F,KAAK9F,IAAE+F,UAAU,MAAMtF,EAAE,GAAGE,EAAErB,EAAEnE,IAAEwD,MAAMxD,IAAE6D,WAAWlE,YAAE6F,KAAK3F,EAAE6F,iBAAiB,IAAIhG,IAAEI,EAAE0F,GAAGF,EAAE0B,KAAKnH,EAAE6F,iBAAiBmF,cAAc,MAAMjF,EAAEzB,EAAEnE,IAAEyD,mBAAmB9D,YAAEiG,KAAK/F,EAAEqF,yBAAyB,IAAIxF,IAAEI,EAAE8F,GAAGN,EAAE0B,KAAKnH,EAAEqF,yBAAyB2F,cAAc,MAAMrE,EAAErC,EAAEnE,IAAE4D,UAAUjE,YAAE6G,KAAK3G,EAAEiL,gBAAgB,IAAIpL,IAAEI,EAAE0G,GAAGlB,EAAE0B,KAAKnH,EAAEiL,gBAAgBD,cAAc,MAAMrB,EAAErF,EAAEnE,IAAE2D,WAAWhE,YAAE6J,KAAK3J,EAAEoF,iBAAiB,IAAIvF,IAAEI,EAAE0J,GAAGlE,EAAE0B,KAAKnH,EAAEoF,iBAAiB4F,cAAc,MAAMpB,EAAEtF,EAAEnE,IAAE0D,QAAQ,OAAO/D,YAAE8J,KAAK5J,EAAEkF,cAAc,IAAIrF,IAAEI,EAAE2J,GAAGnE,EAAE0B,KAAKnH,EAAEkF,cAAc8F,cAAchL,EAAEkL,yBAAyBC,cAAc/J,EAAEgK,kBAAkBpL,EAAEkL,yBAAyBjF,YAAY5E,EAAE4E,YAAYjG,EAAEkL,yBAAyBhF,SAAS7E,EAAE6E,SAASlG,EAAEqL,cAAcvG,YAAE1D,EAAEkK,sBAAsBC,QAAQC,IAAI/F,EAAE,CAAC,SAASgG,EAAEvL,GAAG,MAAMF,IAAIE,EAAEwL,sBAAsB5L,IAAII,EAAEyL,qBAAqBtK,EAAEmD,YAAI,6BAA6B,EAAEzE,IAAEuD,MAAMvD,IAAEsD,KAAKlD,EAAEJ,IAAE0D,IAAI1D,IAAEyD,IAAI3D,EAAEwB,EAAEtB,IAAEwD,SAAS,OAAOpD,GAAGH,EAAEH,EAAE,IAAIC,EAAEuB,EAAE,EAAE,CAAC,SAASuK,EAAE1L,EAAEF,GAAG,OAAOE,EAAE2L,MAAM3L,GAAG,IAAIA,EAAE+G,SAASjH,IAAI,C,oCCJhkM,qDAI4I,MAAMqB,EAAEjB,YAAYD,EAAEkB,GAAGf,KAAKwL,YAAY3L,EAAEG,KAAKyL,WAAU,EAAG,MAAM1L,EAAEC,KAAKwL,YAAYE,QAAQ3K,GAAGtB,YAAEM,IAAIA,EAAE4L,MAAM9L,IAAIG,KAAKyL,UAAU7L,YAAEC,GAAGG,KAAK4L,YAAY/L,CAAC,IAAIG,KAAK0K,YAAY3K,GAAGC,KAAK4L,YAAY7L,CAAC,CAAC8L,UAAU7L,KAAK4L,YAAYhM,YAAEI,KAAK4L,aAAa5L,KAAKyL,WAAU,CAAE,CAAKK,gBAAY,OAAOjM,YAAEG,KAAK4L,aAAa5L,KAAK4L,YAAYE,UAAU,IAAI,E,oCCJ5d,iIAI+kB,IAAI9K,EAAE,cAAcgD,IAAElE,cAAcmB,SAAS8K,WAAW/L,KAAKgM,KAAK,aAAahM,KAAKiM,yCAAyCzM,aAAG,CAAC0M,aAAa,iBAAiBlM,KAAKmM,OAAOnM,KAAKmM,MAAMjD,aAAakD,WAAWC,eAAerM,KAAKsM,oBAAoBrB,QAAQsB,OAAO,IAAIxL,IAAE,uCAAuC,oDAAoD,CAACoL,MAAMnM,KAAKmM,UAAUtM,YAAEG,KAAKmM,MAAMK,aAAaxM,KAAKiM,yCAAyCjM,KAAKyM,KAAK,0BAA0B,YAAYzM,KAAKsM,oBAAoBrB,QAAQsB,OAAO,IAAIxL,IAAE,+CAAgD,6BAA4Bf,KAAKmM,MAAMO,mBAAmB,SAAS1M,KAAKmM,MAAMO,cAAchN,YAAEM,KAAKmM,MAAMQ,iBAAiB3M,KAAK4M,KAAKD,mBAAmB3M,KAAKsM,oBAAoBrB,QAAQsB,OAAO,IAAIxL,IAAE,2CAA2C,uGAAuG,CAAK8L,8BAAyB,QAAC,OAA6B,OAA7B,EAAO7M,KAAK4M,KAAKE,eAA0B,OAAd,EAAtB,EAAwBC,mBAAF,EAAtB,EAAsCJ,gBAAgB,GAAG/M,YAAE,CAACH,YAAE,CAACuN,eAAc,KAAMhM,EAAEiM,UAAU,gDAA2C,GAAQrN,YAAE,CAACH,eAAKuB,EAAEiM,UAAU,aAAQ,GAAQjM,EAAEpB,YAAE,CAACG,YAAE,4CAA4CiB,GAAG,MAAMrB,EAAEqB,C,oCCJlxD,wDAI4F,MAAMvB,UAAUG,IAAEE,cAAcmB,SAAS8K,WAAW/L,KAAKkN,KAAK,IAAIjJ,GAAG,CAACkJ,QAAQ,GAAGnN,KAAKkN,KAAK7I,KAAK,EAAE,CAAC,MAAMzE,EAAEI,KAAKoN,UAAUpN,KAAKkN,KAAKC,QAAQnN,KAAKqN,KAAK,SAAS,CAACC,MAAM,GAAGC,QAAQ3N,GAAG,CAAC,CAAKyI,aAAS,OAAOrI,KAAKkN,KAAK7I,IAAI,CAACF,IAAIvE,GAAG,OAAOI,KAAKkN,KAAK/I,IAAIvE,EAAE,CAAC4N,QAAQ5N,GAAG,GAAG,IAAIA,EAAEyI,OAAO,OAAO,MAAMxI,EAAE,IAAI4N,IAAI,IAAI,IAAI1M,EAAE,EAAEA,EAAEnB,EAAEyI,OAAOtH,IAAI,CAAC,MAAMtB,EAAEG,EAAEmB,GAAGvB,EAAEC,EAAEiO,SAASnO,EAAES,KAAKkN,KAAK/I,IAAI3E,GAAGD,GAAGM,EAAE8N,IAAInO,GAAGC,IAAIF,IAAIK,EAAEmB,GAAGxB,KAAKA,EAAEqO,WAAWnO,EAAEmO,SAAS,EAAE5N,KAAKkN,KAAK5I,IAAI9E,EAAEC,GAAG,CAAC,MAAMA,EAAEI,EAAEwE,KAAK,EAAEzE,EAAEiO,QAAQjO,IAAIC,EAAEqE,IAAItE,EAAE8N,YAAY9N,EAAEH,EAAE4I,OAAO,GAAGrI,KAAKqN,KAAK,SAAS,CAACC,MAAM7N,EAAE8N,QAAQ,IAAI,CAACO,WAAWlO,GAAG,MAAMC,EAAE,GAAG,IAAI,MAAMJ,KAAKG,EAAE,CAAC,MAAMA,EAAEH,EAAEiO,SAAS3M,EAAEf,KAAKkN,KAAK/I,IAAIvE,GAAG,MAAMmB,KAAKA,EAAE6M,UAAU,IAAI5N,KAAKkN,KAAKa,OAAOnO,GAAGC,EAAEgH,KAAKpH,GAAG,CAACI,EAAEwI,OAAO,GAAGrI,KAAKqN,KAAK,SAAS,CAACC,MAAM,GAAGC,QAAQ1N,GAAG,CAACmO,qBAAqBpO,GAAG,MAAMC,EAAE,GAAG,IAAI,MAAMJ,KAAKG,EAAE,CAAC,MAAMA,EAAEI,KAAKkN,KAAK/I,IAAI1E,GAAG,MAAMG,KAAKA,EAAEgO,UAAU,IAAI5N,KAAKkN,KAAKa,OAAOtO,GAAGI,EAAEgH,KAAKjH,GAAG,CAACC,EAAEwI,OAAO,GAAGrI,KAAKqN,KAAK,SAAS,CAACC,MAAM,GAAGC,QAAQ1N,GAAG,CAACuN,UAAU,MAAM,IAAIpN,KAAKkN,KAAKe,SAAS,CAAC1C,KAAK3L,GAAG,IAAIH,EAAE,OAAOI,YAAEG,KAAKkN,MAAMrN,KAAKD,EAAEC,KAAKJ,EAAEI,GAAE,KAAMJ,CAAC,CAAC6G,QAAQ1G,GAAGI,KAAKkN,KAAK5G,SAASzG,GAAGD,EAAEC,IAAI,E,4OCAr9B,MAAMJ,EAAEK,YAAYD,GAAGG,KAAKkO,eAAe,EAAElO,KAAKmO,UAAU,GAAGnO,KAAKoO,SAAS,EAAEpO,KAAKqO,OAAOxO,EAAEyO,aAAa1O,IAAE2O,eAAevO,KAAK,CAACwO,UAAUxO,KAAKqO,OAAOtN,YAAEf,KAAKqO,OAAO,CAAKI,cAAU,IAAI,MAAM5O,KAAKG,KAAKmO,UAAU,GAAGtO,EAAE6O,cAAc,OAAM,EAAG,OAAM,CAAE,CAACC,QAAQ9O,GAAGG,KAAK4O,QAAQ,MAAM7N,EAAEf,KAAKmO,UAAUvO,EAAE,CAACiP,gBAAgB,EAAEC,gBAAgB,GAAG,IAAI,IAAIrP,EAAE,EAAEA,EAAEsB,EAAEsH,SAASxI,EAAEkP,OAAOtP,EAAEsB,EAAEtB,GAAGuP,SAASjO,EAAEtB,GAAGwP,OAAOpP,EAAED,GAAGI,KAAKoO,SAAS3O,CAAC,CAACmP,QAAQ,MAAM/O,EAAEG,KAAKmO,UAAU,IAAIpN,EAAElB,EAAEwI,OAAO,IAAI,IAAIzI,EAAEI,KAAKoO,SAASxO,EAAE,EAAEA,IAAI,CAAC,MAAMH,EAAEI,EAAED,EAAE,GAAG,IAAIL,EAAEK,EAAE,KAAKL,EAAEM,EAAEwI,QAAQ5I,EAAEuP,UAAUnP,EAAEN,GAAGyP,WAAWzP,IAAIwB,GAAGtB,EAAEuP,SAASnP,EAAEN,GAAGyP,WAAWnP,EAAEN,EAAE,GAAGM,EAAEN,GAAGA,IAAIM,EAAEN,EAAE,GAAGE,EAAEsB,EAAExB,EAAE,CAAC,CAACS,KAAKoO,SAAS,CAAC,CAACT,IAAI9N,GAAGG,KAAK4O,QAAQ/O,EAAEmP,SAAS,IAAIhP,KAAKmO,UAAUe,QAAQrP,EAAE,CAACsP,OAAOpO,GAAGlB,YAAEG,KAAKmO,UAAUpN,GAAGf,KAAKoO,SAASpO,KAAKmO,UAAU9F,OAAOrI,KAAK4O,OAAO,EAAE,MAAMrP,EAAE,IAAI0E,IAAI,SAASlE,EAAEF,EAAEkB,GAAG,IAAInB,EAAEL,EAAE4E,IAAItE,GAAG,OAAO,MAAMD,IAAIA,EAAE,IAAIH,EAAEI,GAAGN,EAAE+E,IAAIzE,EAAED,IAAIA,EAAE+N,IAAI5M,GAAG,CAACoO,OAAO,KAAQ,MAAMvP,IAASA,EAAEuP,OAAOpO,GAAGnB,EAAEuO,UAAU9F,OAAO,IAAI9I,EAAEwO,OAAOlO,GAAGD,EAAE4O,WAAW5O,EAAE,KAAI,EAAE,C,+CCA/jB,MAAM6F,EAAE3F,YAAYF,EAAEC,EAAEE,EAAEN,EAAEF,GAAGS,KAAKoP,YAAYxP,EAAEI,KAAKmB,WAAWtB,EAAEG,KAAKqP,gBAAgBtP,EAAEC,KAAKsP,IAAI7P,EAAEO,KAAKuP,KAAKhQ,EAAES,KAAKwP,UAAU,EAAExP,KAAKyP,aAAajL,IAAE9D,UAAU,EAAE,MAAMsD,EAAElE,YAAYF,EAAEC,EAAEE,EAAER,EAAEwB,EAAEvB,EAAEsB,EAAEE,EAAEH,EAAE2D,EAAE7E,EAAE+P,EAAExK,EAAER,GAAG1E,KAAK2P,sBAAsB5P,EAAEC,KAAK4P,iBAAiBrQ,EAAES,KAAK6P,QAAQ9O,EAAEf,KAAK8P,YAAYtQ,EAAEQ,KAAK+P,UAAUjP,EAAEd,KAAKgQ,aAAahP,EAAEhB,KAAKiQ,YAAYpP,EAAEb,KAAKkQ,QAAQ1L,EAAExE,KAAKmQ,aAAaxQ,EAAEK,KAAKoQ,YAAYV,EAAE1P,KAAKqQ,sBAAsBnL,EAAElF,KAAKsQ,sBAAsB5L,EAAE1E,KAAKuQ,QAAO,EAAGvQ,KAAKwQ,WAAW,GAAGxQ,KAAKyQ,WAAW,EAAEzQ,KAAK0Q,cAAc,EAAE1Q,KAAK2Q,WAAW,EAAE3Q,KAAK4Q,WAAWlR,IAAEyC,KAAKnC,KAAK6Q,eAAejR,GAAGA,EAAEI,KAAK8Q,WAAW,GAAG9Q,KAAK+Q,SAAS,IAAItD,IAAIzN,KAAKgR,aAAa,IAAIvD,IAAIzN,KAAKiR,aAAa,IAAIxD,IAAIzN,KAAKkR,cAAc,EAAElR,KAAKmR,iBAAiBC,OAAOC,kBAAkBrR,KAAKsR,mBAAmBF,OAAOG,kBAAkBvR,KAAKwR,oBAAoB,IAAIvN,IAAIjE,KAAKyR,SAASC,EAAE,GAAG1R,KAAK2R,wBAAwBD,EAAE,GAAG1R,KAAK4R,UAAU,EAAE5R,KAAK6R,iBAAiB,CAACC,SAAS,EAAEC,eAAc,GAAI/R,KAAKgS,wBAAwB,EAAEhS,KAAKiS,SAAS,IAAIxS,IAAE,CAACyS,YAAY,OAAOlS,KAAKmS,UAAU,IAAI1S,IAAE,CAACyS,YAAY,OAAOlS,KAAKoS,SAAS,IAAIC,EAAErS,KAAKiS,UAAUjS,KAAKsS,6BAA6B,IAAI7S,IAAE,CAACyS,YAAY,OAAOlS,KAAKuS,kBAAiB,EAAGvS,KAAKwS,uBAAuB,EAAExS,KAAKyS,WAAW,GAAGzS,KAAK0S,wBAAuB,EAAG1S,KAAK2S,uBAAsB,EAAG3S,KAAK4S,iBAAgB,EAAG5S,KAAK6S,UAAUjT,EAAEA,EAAEkT,wBAAwBlT,EAAEkT,uBAAuBC,aAAa/S,KAAKgT,YAAa,GAAEpT,EAAEkT,uBAAuBC,cAAc/S,KAAKiT,aAAajT,KAAK4P,iBAAiB5P,KAAK4P,iBAAiBsD,YAAY,EAAElT,KAAKmT,MAAMtT,EAAE,CAACsT,MAAMvT,GAAG,GAAG,SAASA,EAAEoM,KAAK,CAAC,OAAOhM,KAAK8Q,WAAWlR,EAAEwT,UAAUpT,KAAK0Q,cAAc9Q,EAAEyT,SAASrT,KAAK2Q,WAAW/Q,EAAE0T,UAAU1T,EAAE2B,WAAW,IAAI,qBAAqBvB,KAAK4Q,WAAWlR,IAAE0C,mBAAmB,MAAM,IAAI,uBAAuBpC,KAAK4Q,WAAWlR,IAAE0C,mBAAmBpC,KAAK6Q,eAAe0C,EAAEvT,KAAKwT,SAASrI,EAAEnL,KAAK2Q,WAAW3Q,KAAK0Q,eAAe9Q,EAAE6T,UAAUzT,KAAK0T,wBAAwB,MAAM,GAAG,SAAS9T,EAAEoM,KAAK,CAAChM,KAAK8Q,WAAWlR,EAAEwT,UAAUpT,KAAKwQ,WAAW3J,KAAK,CAAC8M,MAAM,GAAGC,SAAS,GAAGC,QAAQ,KAAK7T,KAAK8T,aAAa,IAAIhT,IAAElB,EAAEmU,SAAS9T,GAAG,OAAO,GAAG,MAAMJ,EAAEG,KAAKgU,cAAcpU,EAAEmU,SAAS9T,GAAGL,EAAEmU,UAAUlU,GAAGG,KAAKiU,SAASpU,EAAE,EAAE,CAAC,CAACqU,UAAUtU,GAAGI,KAAK+Q,SAASpD,IAAI/N,GAAG,MAAMC,EAAEG,KAAK8Q,WAAWlR,EAAEI,KAAK2P,sBAAsBwE,QAAQtU,EAAE,QAAQ8L,MAAM9L,IAAIG,KAAKyS,WAAW5L,KAAK,CAACuN,UAAUxU,EAAEyU,KAAKxU,GAAG,IAAIyU,OAAOzU,IAAIG,KAAK+Q,SAAShD,OAAOnO,GAAGL,YAAEM,KAAKG,KAAKiR,aAAatD,IAAI/N,GAAGI,KAAK6P,QAAQ0E,MAAM,cAAcvU,KAAK6S,UAAW,2BAA0BjT,IAAIC,GAAG,GAAG,CAAC2U,gBAAgB5U,GAAG,KAAKI,KAAKyS,WAAWpK,OAAO,IAAIzI,EAAEmP,MAAM,CAAC,MAAMqF,UAAUvU,EAAEwU,KAAKtU,GAAGC,KAAKyS,WAAWgC,QAAQzU,KAAKwT,SAAS3T,EAAEE,GAAGC,KAAK+Q,SAAShD,OAAOlO,GAAGD,EAAE8U,cAAc,CAAC1U,KAAK0T,wBAAwB,CAACF,SAAS5T,EAAEC,GAAG,IAAI,IAAIkB,EAAEf,KAAKwQ,WAAWnI,OAAOtH,EAAEnB,EAAEmB,IAAIf,KAAKwQ,WAAWzP,GAAG,KAAK,MAAMhB,EAAE,GAAGN,EAAE,GAAGF,EAAEM,EAAE8T,MAAMnN,KAAK,CAAC3G,EAAEN,KAAK,MAAMG,EAAEK,EAAEsI,OAAOvH,EAAEjB,EAAE+T,SAAS/T,EAAE+T,SAASvL,OAAO,EAAE5I,EAAEoH,MAAM,GAAG,IAAI,IAAIjH,EAAE,EAAEA,EAAEkB,EAAElB,IAAIG,EAAE8G,KAAKhH,EAAE+T,SAAShU,IAAI,MAAMiB,EAAG,GAAEhB,EAAEqB,QAAQsD,EAAEmQ,YAAE9U,EAAE+U,KAAKjV,EAAEH,YAAE,CAACgF,EAAEqQ,OAAO,GAAGrQ,EAAEqQ,OAAO,GAAGrQ,EAAEqQ,OAAO,GAAG9T,YAAEyD,EAAEsQ,YAAYpF,EAAE7P,EAAEkV,MAAMlV,EAAEkV,KAAKC,UAAU9P,EAAErF,EAAEkV,MAAMlV,EAAEkV,KAAKE,SAASvQ,EAAE7E,EAAEkV,MAAMlV,EAAEkV,KAAKhO,SAASH,EAAE,CAACsO,mBAAkB,EAAGC,iBAAiBjQ,EAAEkQ,WAAW1F,GAAG,MAAMA,EAAE2F,SAAU,GAAE3F,EAAE2F,WAAW,KAAKJ,SAAS/P,GAAG,MAAMA,EAAEmQ,SAAU,GAAEnQ,EAAEmQ,WAAW,KAAKC,QAAQ5Q,GAAG,MAAMA,EAAE2Q,SAAU,GAAE3Q,EAAE2Q,WAAW,KAAKE,mBAAmBrQ,EAAEA,EAAEsQ,YAAY,EAAEC,mBAAmB/Q,EAAEA,EAAE8Q,YAAY,GAAGxR,EAAE,IAAIhD,IAAEH,EAAEjB,EAAEI,KAAK0Q,cAAcnR,EAAEI,EAAEmB,EAAE,EAAE8F,EAAE5G,KAAKgT,YAAYhT,KAAK4Q,WAAW5Q,KAAK6Q,eAAehR,EAAE6V,cAAcxQ,EAAEA,EAAEyQ,aAAa,MAAM,OAAO3R,EAAE4R,WAAWpR,EAAER,EAAE6R,cAAc7V,KAAKqQ,sBAAsBrM,GAAGA,EAAEpC,YAAYsD,EAAEA,EAAEtD,YAAY,EAAE,IAAI6D,EAAE/F,EAAEoB,EAAEuE,EAAErF,KAAK2R,yBAAyB,KAAK3N,EAAE,IAAIhE,KAAKwQ,WAAW5Q,GAAG,CAAC+T,MAAMpU,EAAEqU,SAAS7T,EAAE8T,QAAQpU,GAAGO,KAAKyQ,YAAYlR,EAAE8I,MAAM,CAACqL,yBAAyB,MAAM7T,EAAE,IAAI2I,MAAMzI,EAAE,CAACA,EAAEN,EAAEF,KAAK,MAAMwB,EAAEf,KAAK8V,SAAS/V,GAAG,GAAGH,YAAEmB,GAAG,CAAC,MAAMvB,EAAE+J,EAAExJ,EAAEC,KAAK0Q,eAAe3P,EAAE8S,QAAQrU,GAAGC,EAAE,MAAMC,EAAEqB,EAAE4S,MAAMnU,GAAG+P,KAAK3P,YAAEF,KAAKA,EAAE0B,MAAM7B,EAAEM,EAAEgH,KAAK9G,GAAG,GAAG,IAAIA,EAAEC,KAAK2Q,YAAY,EAAE,GAAG9Q,EAAEwI,QAAQ,CAAC,MAAM5I,EAAEI,EAAE0I,MAAMhJ,EAAES,KAAK+V,QAAQtW,GAAG,GAAGG,YAAEL,GAAG,IAAI,IAAIK,EAAE,EAAEA,EAAEL,EAAE4B,WAAWvB,IAAKG,EAAEC,KAAKgW,cAAczW,EAAE2B,MAAMtB,GAAGH,EAAEF,EAAE6B,MAAM,GAAGpB,KAAK4R,UAAUqE,KAAK3V,IAAIN,KAAK4R,UAAUrS,EAAE6B,MAAM,EAAG,CAAC,CAAC0U,SAASlW,GAAG,OAAOI,KAAKwQ,WAAWrF,EAAEvL,EAAEI,KAAK0Q,eAAe,CAACwF,iBAAiBtW,GAAG,MAAMG,EAAEC,KAAK8V,SAASlW,GAAG,OAAOC,YAAEE,GAAG,KAAKA,EAAE4T,MAAMpK,EAAE3J,EAAEI,KAAK0Q,eAAe,CAACuD,SAASpU,EAAEJ,GAAG,MAAMI,EAAE+T,UAAU5T,KAAKmW,iBAAiB1W,EAAEI,EAAE+T,UAAU,MAAMrU,EAAES,KAAKoW,UAAU3W,GAAGsB,EAAEnB,YAAEL,GAAGA,EAAE6B,MAAM,EAAE,EAAEpB,KAAK4R,UAAUqE,KAAK3V,IAAIN,KAAK4R,UAAU/R,EAAE+T,SAAS7S,EAAE,EAAEA,GAAG,MAAMQ,UAAU7B,EAAE8B,SAASV,GAAw1jB,SAAWlB,GAAG,GAAGA,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEyI,OAAOxI,IAAI,IAAI,MAAME,KAAKsW,EAAE,GAAGtW,EAAE,KAAKH,EAAEC,GAAGyW,WAAW,MAAM,CAAC/U,UAAUxB,EAAE,GAAGyB,SAAS5B,EAAEC,GAAG2B,UAAU,MAAM,CAACD,UAAU7B,IAAEyC,KAAKX,SAAS,EAAE,CAA//jB+U,CAAE1W,EAAE2W,cAAc3V,EAAEd,YAAEC,KAAKkW,iBAAiBzW,IAAI,OAAOoB,EAAE0O,KAAK,IAAIvO,IAAEnB,EAAEI,GAAGR,EAAED,YAAEK,EAAEK,KAAKW,EAAEM,WAAWJ,EAAElB,EAAEwB,UAAUxB,EAAEyB,QAAQ5B,EAAEoB,EAAEjB,EAAE4B,aAAa5B,EAAE+U,MAAM/T,EAAE0O,KAAKqG,WAAWjB,YAAE9U,EAAE+U,MAAM/T,EAAE0O,KAAKsG,cAAc7V,KAAKqQ,sBAAsBxP,EAAE0O,MAAM3P,YAAEiB,EAAEyO,OAAO,MAAMzO,EAAEyO,IAAIpP,MAAMW,EAAEyO,IAAIpP,IAAIL,EAAEK,KAAKW,EAAE0O,KAAKpP,UAAUU,EAAEyO,IAAInP,UAAUU,EAAE0O,KAAKkH,qBAAqB5V,EAAEyO,IAAImH,qBAAqB5V,EAAEyO,IAAIuG,cAAchV,EAAE0O,KAAKsG,eAAehV,EAAE0O,IAAI,CAACuE,aAAalU,EAAEC,GAAG,MAAME,EAAEC,KAAKwQ,WAAW,GAAG/Q,EAAEM,EAAE4T,MAAMtL,OAAO,OAAOtI,EAAE4T,MAAM9M,KAAK,IAAIpB,EAAE,EAAE,EAAEJ,EAAErF,KAAK2R,yBAAyB/R,EAAE,OAAOI,KAAKyQ,aAAa1Q,EAAE8T,QAAQhN,KAAKhH,GAAGqF,YAAEtF,EAAEO,WAAWuE,YAAE9E,EAAE6W,sBAAsBhX,CAAC,CAAC0W,iBAAiBvW,EAAEC,GAAG,MAAMJ,EAAEM,YAAEC,KAAKkW,iBAAiBtW,IAAIL,EAAEQ,YAAEC,KAAK8V,SAASlW,IAAIH,EAAE2P,YAAY7P,EAAEqU,SAASvL,OAAO5I,EAAE0B,WAAWtB,EAAEwI,OAAO,IAAI,IAAItI,EAAE,EAAEA,EAAEF,EAAEwI,OAAOtI,IAAI,CAAC,MAAMN,EAAEO,KAAK8T,aAAajU,EAAEE,GAAGH,GAAGL,EAAEqU,SAAS/M,KAAKpH,EAAE,CAAC,CAACsW,QAAQlW,GAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAG,OAAOD,YAAEG,GAAGA,EAAEwP,KAAK,IAAI,CAACmH,aAAa7W,GAAG,IAAIE,EAAE,OAAOC,KAAK2W,cAAc,CAAClX,EAAEF,MAAMK,YAAEH,EAAE8P,OAAO9P,EAAE8P,KAAKtP,KAAKJ,GAAGD,YAAEH,EAAE6P,MAAM7P,EAAE6P,IAAIrP,KAAKJ,KAAKE,EAAER,EAAE,IAAIQ,CAAC,CAAC6W,YAAYhX,GAAG,MAAMC,EAAEG,KAAK0W,aAAa9W,GAAG,OAAOC,GAAG,EAAEG,KAAK+V,QAAQlW,GAAG,IAAI,CAACmW,cAAcpW,EAAEG,GAAG,MAAMN,EAAEO,KAAK8V,SAASlW,GAAG,GAAGC,YAAEJ,GAAG,OAAO,EAAE,MAAMF,EAAEE,EAAEkU,MAAMpK,EAAE3J,EAAEI,KAAK0Q,gBAAgB,OAAOjR,EAAEmU,SAASrU,EAAE6P,YAAYrP,EAAE,CAAC8W,eAAehX,GAAG,MAAME,EAAEC,KAAK8V,SAASjW,GAAG,OAAOD,YAAEG,GAAGA,EAAE8T,QAAQtK,EAAE1J,EAAEG,KAAK0Q,iBAAiB,CAAC,CAAC0F,UAAUxW,GAAG,OAAOA,EAAEI,KAAK6W,eAAejX,KAAK,EAAEI,KAAK+V,QAAQnW,GAAG,IAAI,CAACkX,OAAOjX,GAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAG,OAAOD,YAAEG,IAAI,IAAIA,EAAEoB,UAAU,CAAK4S,eAAW,OAAO/T,KAAK+V,QAAQ/V,KAAK2Q,WAAW,CAAKtM,WAAO,OAAOrE,KAAKyQ,UAAU,CAACsG,wBAAwB/W,KAAK2W,cAAc9W,IAAID,YAAEC,EAAE0P,QAAQ1P,EAAE0P,KAAKyH,YAAY,KAAK,GAAG,CAACC,4BAA4BjX,KAAK2R,wBAAwBD,EAAE1R,KAAK2R,wBAAwB,CAACuF,8BAA8BrX,GAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAGD,YAAEG,IAAIC,KAAKmX,sCAAsCpX,EAAE,CAACoX,sCAAsCvX,GAAGA,EAAEyP,gBAAgBhK,EAAErF,KAAK2R,wBAAwB,CAACyF,8BAA8BvX,GAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAGD,YAAEG,KAAKuJ,EAAEvJ,GAAGC,KAAKmX,sCAAsCpX,GAAG,CAACsX,uBAAuBtX,GAAG,MAAMN,EAAEO,KAAKkW,iBAAiBnW,GAAG,GAAGF,YAAEJ,GAAG,OAAO,IAAIO,KAAK0S,uBAAuB,YAAY1S,KAAKoX,8BAA8BrX,GAAG,MAAMR,EAAEK,YAAEH,EAAE8P,MAAM9P,EAAE8P,KAAK9P,EAAE6P,IAAI,GAAGzP,YAAEN,GAAG,OAAO,MAAMwB,EAAExB,EAAEa,eAAeP,YAAEkB,KAAKA,EAAER,OAAM,EAAG,CAAC+W,6BAA6BzX,GAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAGD,YAAEG,IAAIH,YAAEG,EAAEwP,QAAQxP,EAAEwP,KAAKyH,YAAY,KAAK9R,YAAEnF,EAAEwP,KAAKpP,WAAWuE,YAAE3E,EAAEwP,KAAKkH,sBAAsB,CAACc,2BAA2B1X,YAAEG,KAAK+T,WAAW/T,KAAKwX,SAASxX,KAAK+T,UAAUnU,IAAIA,EAAEiW,cAAc7V,KAAKqQ,sBAAsBzQ,GAAGA,EAAEoX,YAAY,MAAK,IAAK,CAACS,sBAAsB1X,GAAG,MAAMN,EAAEO,KAAKkW,iBAAiBnW,GAAG,GAAGF,YAAEJ,GAAG,OAAO,KAAK,MAAMF,EAAEK,YAAEH,EAAE8P,MAAM9P,EAAE8P,KAAK9P,EAAE6P,IAAI,GAAGzP,YAAEN,GAAG,OAAO,KAAK,MAAMwB,EAAExB,EAAEa,eAAe,GAAGR,YAAEmB,IAAIA,EAAER,MAAM,OAAOQ,EAAE,MAAMvB,EAAE,IAAIqB,IAAE,IAAInB,GAAE,EAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEH,EAAE0B,WAAWvB,IAAI,CAAC,MAAMH,EAAEO,KAAKyX,sBAAsBzX,KAAKgW,cAAcjW,EAAEH,IAAIC,YAAEJ,GAAGC,GAAE,GAAIF,EAAEa,IAAI4V,KAAK5V,IAAIb,EAAEa,IAAIZ,EAAEY,KAAKb,EAAEc,IAAI2V,KAAK3V,IAAId,EAAEc,IAAIb,EAAEa,KAAK,CAAC,GAAG,IAAIb,EAAE0B,YAAYzB,GAAGE,YAAEH,EAAE8P,OAAO9P,EAAE8P,KAAKlO,UAAU4T,SAAS,CAAC,MAAMpV,EAAEG,KAAK4P,iBAAiB8H,kBAAkBnY,GAAGK,YAAEC,KAAKL,EAAEa,IAAI4V,KAAK5V,IAAIb,EAAEa,IAAIR,EAAEQ,KAAKb,EAAEc,IAAI2V,KAAK3V,IAAId,EAAEc,IAAIT,EAAES,KAAK,CAAC,OAAOV,YAAEmB,IAAIA,EAAEV,MAAMb,EAAEa,KAAKU,EAAET,MAAMd,EAAEc,KAAKS,EAAER,OAAM,EAAGQ,IAAIvB,EAAEe,OAAM,EAAGhB,EAAEa,eAAeZ,EAAEQ,KAAKoX,8BAA8BrX,GAAGP,EAAE,CAACmY,cAAc5X,GAAG,MAAMN,EAAEO,KAAKkW,iBAAiBnW,GAAG,GAAGF,YAAEJ,IAAIG,YAAEH,EAAE6P,OAAO7P,EAAE6P,IAAIpP,IAAI,OAAM,EAAG,GAAGF,KAAK0S,wBAAwB1S,KAAKyX,sBAAsB1X,IAAIiK,EAAEvK,EAAE4P,gBAAgBrP,KAAK2R,yBAAyB,CAAC,MAAM5R,EAAEN,EAAE8P,KAAKhQ,EAAEK,YAAEG,KAAKF,YAAEJ,EAAE6P,MAAM1P,YAAEG,EAAE8V,gBAAgB9V,EAAEH,YAAEH,EAAE6P,KAAK7P,EAAE6P,IAAI,KAAK,GAAGtP,KAAK4S,iBAAiB5S,KAAKsQ,wBAAwB1Q,YAAEG,IAAIH,YAAEH,EAAE6P,OAAO7P,EAAEgQ,eAAejL,IAAE9D,WAAW,CAAC,MAAMb,EAAED,YAAEG,GAAGA,EAAEG,IAAIN,YAAEH,EAAE6P,KAAK7P,EAAE6P,IAAIpP,IAAI,KAAKT,EAAEgQ,aAAa,MAAM5P,EAAEG,KAAKsQ,sBAAsBzQ,GAAG2E,IAAEhE,UAAU,CAAC,MAAMO,EAAEnB,YAAEG,IAAIN,EAAEgQ,eAAejL,IAAE/D,OAAOjB,IAAII,YAAEG,IAAIA,EAAEiC,uBAAuBrC,IAAEc,WAAWlB,GAAGS,KAAK4P,iBAAiB+H,cAAcpY,MAAMwB,EAAE,OAAOtB,EAAE4P,gBAAgBhG,EAAE7J,EAAEQ,KAAK2R,yBAAyBnS,CAAC,CAAC,OAAOsK,EAAErK,EAAE4P,gBAAgB,CAACuI,kBAAkB/X,GAAG,IAAIG,KAAK2X,cAAc9X,GAAG,OAAM,EAAG,MAAME,EAAEC,KAAKkW,iBAAiBrW,GAAG,QAAQD,YAAEG,IAAIH,YAAEG,EAAEwP,OAAO3P,YAAEG,EAAEwP,KAAKyH,gBAAgBhX,KAAK2S,uBAAuB5S,EAAEwP,KAAKvN,uBAAuBrC,IAAEe,cAAcV,KAAK4P,iBAAiBgI,kBAAkB7X,EAAEwP,KAAK,CAACsI,kBAAkBpY,EAAEF,EAAEwB,EAAEvB,EAAEE,GAAG,MAAMoB,EAAEd,KAAK8V,SAASrW,GAAG,GAAGI,YAAEiB,IAAI,IAAIvB,EAAE4B,WAAW,OAAO,MAAMH,EAAEzB,EAAE6P,YAAY7P,EAAE4B,WAAWN,EAAE,IAAI2H,MAAM,IAAI,IAAI3I,EAAEN,EAAE6P,YAAYvP,EAAEmB,IAAInB,EAAE,CAAC,MAAME,EAAEe,EAAE8S,SAAS/T,GAAGJ,EAAEO,KAAKkW,iBAAiBnW,GAAGH,YAAEH,IAAIG,YAAEH,EAAE8P,OAAOvP,KAAK4X,kBAAkB7X,IAAIc,EAAEgG,KAAKpH,EAAE,CAACD,GAAGqB,EAAEwH,OAAO,IAAI,MAAMzI,KAAKiB,EAAE,CAAC,MAAMhB,EAAEE,YAAEH,EAAE2P,MAAMrO,MAAMlB,KAAK+P,UAAUlQ,IAAIG,KAAKgQ,aAAanQ,IAAIH,EAAEoY,MAAM7B,KAAK3V,IAAIZ,EAAEoY,MAAM/W,GAAGrB,EAAEqY,UAAUvY,GAAGQ,KAAK6X,kBAAkBhY,EAAED,EAAEmB,EAAE,EAAEvB,EAAEE,EAAE,CAAC,CAACsY,cAAcpY,GAAG,GAAG,QAAQI,KAAK8P,YAAY,OAAM,EAAG,MAAM/P,EAAEC,KAAKkW,iBAAiBtW,GAAG,GAAGC,YAAEE,GAAG,OAAM,EAAG,GAAG,WAAWC,KAAK8P,YAAY,OAAM,EAAG,GAAG9F,EAAEjK,EAAEyP,UAAUxP,KAAKyR,UAAU,OAAO3H,EAAE/J,EAAEyP,WAAW,MAAM/P,EAAE,CAACqY,MAAM,EAAEC,SAAS,GAAG/X,KAAK6X,kBAAkBjY,EAAEG,EAAE,EAAE,EAAEN,GAAG,MAAMF,EAAEE,EAAEqY,MAAMrY,EAAEsY,UAAU,GAAG,OAAOhY,EAAEyP,UAAUnG,EAAE9J,EAAES,KAAKyR,UAAUlS,CAAC,CAAK0Y,eAAW,OAAOjY,KAAK4R,SAAS,CAAKsG,YAAQ,OAAOlY,KAAKuQ,MAAM,CAAC/B,UAAUxO,KAAKoS,SAASzE,IAAIwK,QAAQnY,KAAKoS,SAASnD,OAAOkJ,OAAO,CAACC,gBAAgBpY,KAAKuQ,QAAO,EAAGvQ,KAAKkR,cAAc,EAAElR,KAAKyR,SAASC,EAAE1R,KAAKyR,SAAS,CAAC4G,uBAAuBxY,GAAGG,KAAK2S,sBAAsB9S,EAAEG,KAAK2W,cAAc,EAAEpH,KAAK1P,MAAMD,YAAEC,KAAKA,EAAEmC,qBAAqBrC,IAAEe,WAAWb,EAAEgW,cAAc7V,KAAKqQ,sBAAsBxQ,GAAGA,EAAEkC,kBAAkB/B,KAAKsX,6BAA6BzX,EAAEqB,OAAO,IAAIlB,KAAKiX,2BAA2B,CAACqB,mBAAmBzY,GAAGG,KAAK4S,gBAAgB/S,EAAEG,KAAK2W,cAAc9W,IAAI,GAAGD,YAAEC,GAAG,CAACA,EAAE4P,aAAajL,IAAE9D,WAAW,MAAMX,EAAEF,EAAE0P,KAAK3P,YAAEG,IAAIC,KAAKkX,8BAA8BnX,EAAEmB,MAAM,KAAKlB,KAAKiX,2BAA2B,CAAChI,OAAOxP,EAAEF,EAAEwB,GAAG,IAAIf,KAAKuQ,OAAO,OAAOvQ,KAAKyS,WAAWpK,OAAO,GAAGrI,KAAKwU,gBAAgBjV,GAAGS,KAAKmR,iBAAiBC,OAAOC,kBAAkBrR,KAAKsR,mBAAmBF,OAAOC,kBAAkBrR,KAAKiS,SAAS9E,QAAQnN,KAAKmS,UAAUhF,QAAQnN,KAAKoS,SAASmG,MAAM9Y,GAAG+Y,EAAErL,QAAQ,IAAI3N,GAAE,EAAG,MAAME,EAAE,IAAI+Y,EAAE3X,EAAE,IAAI2X,EAAEzX,EAAEhB,KAAKsS,6BAA6BtR,EAAEmM,QAAQ,MAAMtM,EAAE,IAAI4M,IAAi5DzN,KAAK0Y,iBAAh5D,CAAClU,EAAEkL,EAAExK,KAAK,GAAGrF,YAAE6P,GAAG,CAAC,IAAI9P,EAAEI,KAAK2Y,eAAenU,GAAG5E,IAAI,MAAMA,EAAEI,KAAK2Y,eAAezT,IAAI,MAAMrF,EAAEsL,EAAE3G,EAAExE,KAAK0Q,eAAe,OAAO8H,EAAElU,IAAIzE,EAAEoW,KAAK3V,IAAIV,EAAE4Y,EAAErU,IAAItE,IAAI,IAAIG,KAAK+Q,SAAS7M,IAAIrE,IAAIG,KAAKiR,aAAa/M,IAAIrE,IAAIG,KAAKiS,SAASpL,KAAKhH,QAAQG,KAAKsR,mBAAmB2E,KAAK3V,IAAIN,KAAKsR,mBAAmB1R,GAAG,CAAC,MAAM8E,EAAEgL,EAAEH,KAAK,GAAGvP,KAAK4Y,2BAA2BlU,EAAE5D,GAAGjB,YAAE6E,GAAG,CAAC,MAAM9E,EAAEI,KAAK2Y,eAAenU,GAAG,OAAOxE,KAAK+Q,SAAS7M,IAAIM,IAAIxE,KAAKgR,aAAa9M,IAAIM,KAAKxE,KAAKiS,SAASpL,KAAKrC,GAAGgU,EAAElU,IAAIE,EAAE5E,SAASI,KAAKsR,mBAAmB2E,KAAK3V,IAAIN,KAAKsR,mBAAmB1R,GAAG,CAAC,MAAMgH,EAAE7G,YAAEC,KAAK8V,SAAStR,IAAI,GAAG,IAAIxE,KAAKiS,SAAS5J,QAAQ,IAAIrI,KAAK0Q,cAAc,IAAI,IAAI7Q,EAAE,EAAEA,EAAE6P,EAAEvO,WAAWtB,IAAI,CAAC,MAAME,EAAE6G,EAAEgN,SAASlE,EAAEN,YAAYvP,GAAGJ,EAAEO,KAAKkW,iBAAiBnW,IAAIH,YAAEH,IAAIA,EAAE8P,MAAMvP,KAAK+Q,SAAS7M,IAAInE,IAAIC,KAAKgR,aAAa9M,IAAInE,KAAKyY,EAAElU,IAAIvE,EAAEC,KAAK2Y,eAAe5Y,IAAIC,KAAKmS,UAAUtL,KAAK9G,GAAG,CAAC,GAAG2E,EAAEhD,SAASgD,EAAErD,UAAU8T,eAAe,YAAY3V,GAAGkQ,EAAEvO,WAAW,GAAGnB,KAAKiQ,YAAYvL,KAAKlF,GAAE,IAAK,GAAGqB,EAAE8M,IAAIjJ,EAAEzE,IAAID,KAAK+P,UAAUvL,GAAG,CAAC,GAAG9E,EAAEmZ,OAAOnU,EAAE7C,SAASnC,EAAEoZ,WAAW9Y,KAAKiQ,YAAYvL,GAAGgL,EAAEvO,WAAW,IAAI3B,GAAE,IAAKE,EAAEqZ,WAAWrU,EAAE7C,OAAOrC,GAAE,GAAIQ,KAAKmQ,aAAazL,GAAG,CAAC,MAAM9E,EAAEI,KAAK2Y,eAAenU,GAAGgU,EAAElU,IAAIE,EAAE5E,GAAGI,KAAKsR,mBAAmB2E,KAAK3V,IAAIN,KAAKsR,mBAAmB1R,GAAGI,KAAKoS,SAASnD,OAAOpI,KAAKrC,EAAE,CAAC,MAAM,CAAC,GAAGE,EAAE7C,SAASnC,EAAEmZ,OAAOnU,EAAE7C,SAASnC,EAAEoZ,aAAa9Y,KAAKiQ,YAAYvL,GAAG,YAAY1E,KAAKgQ,aAAaxL,IAAIxE,KAAKoS,SAASjD,OAAOtI,KAAKrC,IAAI,GAAGkL,EAAEvO,WAAW,IAAI3B,GAAE,GAAIkF,EAAE7C,QAAQnC,EAAEsZ,SAAStU,EAAE7C,OAAOnC,EAAEmZ,OAAOnU,EAAE7C,SAASnC,EAAEoZ,cAAcpZ,EAAEuZ,aAAaxZ,EAAEyZ,SAASxU,EAAExD,OAAO,OAAOlB,KAAKsR,mBAAmB2E,KAAK3V,IAAIN,KAAKsR,mBAAmBtR,KAAK2Y,eAAenU,SAASxE,KAAKoS,SAAS+G,OAAOnZ,KAAKoS,SAAS+G,OAAOtL,QAAQjO,GAAGA,IAAI8E,EAAExD,SAAS,IAAI3B,EAAEwP,MAAM/O,KAAKkQ,QAAQxL,GAAG,YAAYnF,EAAEmV,eAAe,MAAMC,EAAE3U,KAAK2Y,eAAenU,GAAGgU,EAAElU,IAAIE,EAAEmQ,GAAG3U,KAAKsR,mBAAmB2E,KAAK3V,IAAIN,KAAKsR,mBAAmBqD,GAAG3U,KAAKoS,SAASzE,IAAI9G,KAAKrC,GAAGxE,KAAK2S,uBAAuB5R,GAAGnB,YAAE8E,IAAIA,EAAE1C,uBAAuBrC,IAAEe,YAAYM,EAAE6F,KAAKrC,EAAE,IAA0B,MAAMkL,EAAE1P,KAAKoS,SAASzE,IAAI+B,EAAErH,OAAO,GAAGrI,KAAK2S,wBAAwB3R,EAAEqH,OAAO,GAAGtH,EAAEC,GAAG0O,EAAE0J,eAAexZ,IAAI,MAAMG,EAAEC,KAAKkW,iBAAiBtW,GAAGH,EAAEI,YAAEE,IAAIF,YAAEE,EAAEwP,OAAOxP,EAAEwP,KAAKvN,uBAAuBrC,IAAEc,OAAO,OAAOhB,GAAGO,KAAKkX,8BAA8BtX,GAAGH,CAAC,KAAKO,KAAKgS,wBAAwBtS,EAAEsZ,QAAQtZ,EAAEqZ,UAAUrZ,EAAEoZ,WAAW,GAAGpZ,EAAEuZ,aAAa,IAAIjZ,KAAKgS,yBAAyBtS,EAAEmZ,MAAMnZ,EAAEoZ,WAAWpZ,EAAEuZ,cAAcjZ,KAAKgS,wBAAwB,GAAGiE,KAAK3V,IAAI,EAAEN,KAAKgS,yBAAyBhS,KAAK6R,iBAAiBC,SAAS9R,KAAKqZ,wBAAwBvY,GAAGd,KAAK6R,iBAAiBE,cAAcvS,EAAEQ,KAAKiS,SAAShL,MAAM,CAACrH,EAAEC,IAAID,EAAEC,IAAIG,KAAKiS,SAASmH,eAAe,CAACxZ,EAAEC,IAAIA,EAAE,GAAGG,KAAKiS,SAAStJ,KAAK9I,EAAE,KAAKD,IAAII,KAAKiS,SAAShL,MAAM,CAACrH,EAAEC,IAAI2Y,EAAErU,IAAIvE,GAAG4Y,EAAErU,IAAItE,KAAKG,KAAKiS,SAAS5J,OAAO,IAAIrI,KAAKmR,iBAAiBqH,EAAErU,IAAInE,KAAKiS,SAASqH,QAAQtZ,KAAKmS,UAAUhF,SAASnN,KAAKoS,SAASzE,IAAIyL,eAAexZ,GAAG4Y,EAAErU,IAAIvE,IAAII,KAAKmR,mBAAmBlK,MAAM,CAACrH,EAAEC,IAAI2Y,EAAErU,IAAIvE,GAAG4Y,EAAErU,IAAItE,KAAKG,KAAKoS,SAASnD,OAAOhI,MAAM,CAACrH,EAAEC,IAAI2Y,EAAErU,IAAIvE,GAAG4Y,EAAErU,IAAItE,KAAKG,KAAKkR,cAAclR,KAAK+Q,SAAS1M,KAAKrE,KAAKiS,SAAS5J,OAAOrI,KAAKuQ,OAAOvQ,KAAKkR,cAAc,EAAEsH,EAAErL,OAAO,CAACoM,mBAAmB3Z,EAAEC,GAAG,MAAME,EAAEC,KAAK4P,iBAAiB4J,2BAA2B3Z,GAAG,IAAIJ,EAAEI,EAAEN,EAAEM,EAAEkB,EAAEhB,EAAEP,EAAE,GAAG,KAAKA,KAAK,CAAC,MAAMO,EAAE,IAAI0Y,EAAmC,GAAjCzY,KAAKyZ,uBAAuBha,EAAEM,GAAMC,KAAKqZ,wBAAwBtZ,IAAIH,EAAE,CAAC,GAAGH,GAAGI,GAAGE,EAAEkZ,aAAa,GAAG,IAAIzZ,EAAE,MAAMuB,EAAEtB,EAAEA,EAAE,IAAIA,EAAEF,EAAE,MAAMA,EAAEE,EAAEA,EAAE,IAAIA,EAAEsB,EAAE,CAAC,OAAOf,KAAKyR,SAASC,EAAE1R,KAAKyR,UAAUzR,KAAK4P,iBAAiB4J,2BAA2BzZ,GAAGkW,KAAK5V,IAAIR,EAAEJ,EAAE,CAACga,uBAAuB5Z,EAAEE,GAAGC,KAAKyR,SAASC,EAAE1R,KAAKyR,UAAUzR,KAAK4P,iBAAiB4J,2BAA2B3Z,GAAGG,KAAK0Y,iBAAiB,CAAC7Y,EAAEJ,IAAIO,KAAK4Y,2BAA2BhZ,YAAEH,IAAIA,EAAE8P,KAAKxP,IAAI,CAAC6Y,2BAA2B7Y,EAAEN,GAAG,KAAKI,YAAEE,IAAIA,EAAE2B,QAAQ7B,YAAEE,EAAE0B,cAAc,OAAOzB,KAAK+P,UAAUhQ,EAAEmB,QAAQzB,EAAEoZ,OAAO9Y,EAAE0B,cAAchC,EAAEqZ,gBAAgB9Y,KAAKiQ,YAAYlQ,KAAKN,EAAEsZ,WAAWhZ,EAAE0B,oBAAoBzB,KAAKiQ,YAAYlQ,KAAKH,YAAEG,EAAE0B,cAAchC,EAAEuZ,SAASjZ,EAAE0B,YAAYhC,EAAEoZ,OAAO9Y,EAAE0B,cAAchC,EAAEqZ,cAAcrZ,EAAEwZ,cAAc,CAACI,wBAAwBzZ,GAAG,IAAIC,EAAED,EAAEiZ,MAAMjZ,EAAEmZ,UAAU,OAAOnZ,EAAEkZ,WAAW,GAAGlZ,EAAEqZ,aAAa,IAAIpZ,GAAGD,EAAEiZ,MAAMjZ,EAAEkZ,WAAWlZ,EAAEqZ,cAAchD,KAAK3V,IAAI,EAAET,EAAE,CAAC6Z,OAAO,OAAO1Z,KAAK2Z,MAAM3Z,KAAKiS,SAAS,CAAC2H,WAAW,OAAO5Z,KAAKmS,UAAUlL,MAAM,CAACrH,EAAEC,IAAI2Y,EAAErU,IAAIvE,GAAG4Y,EAAErU,IAAItE,KAAKG,KAAK2Z,MAAM3Z,KAAKmS,UAAU,CAACwH,MAAM/Z,GAAG,GAAG,IAAIA,EAAEyI,SAASrI,KAAKoQ,cAAc,OAAM,EAAG,KAAKxQ,EAAEyI,OAAO,GAAGrI,KAAKoQ,eAAe,IAAIpQ,KAAK0Q,cAAc1Q,KAAK6Z,UAAUja,EAAE2I,OAAOvI,KAAKkU,UAAUtU,EAAE2I,OAAO,OAAM,CAAE,CAAKuR,gBAAY,OAAO9Z,KAAKkR,cAAc,CAAC,CAAK6I,oBAAgB,OAAO/Z,KAAKmS,UAAU9J,OAAO,CAAC,CAAK2R,mBAAe,OAAOha,KAAK+Q,SAAS1M,IAAI,CAAK4V,mBAAe,OAAOja,KAAKkR,aAAa,CAAKgJ,6BAAyB,OAAOla,KAAKgS,uBAAuB,CAAKmI,cAAU,OAAOna,KAAKoS,QAAQ,CAAKgI,sBAAkB,OAAOpa,KAAK6R,gBAAgB,CAAKwI,kBAAc,OAAOpE,KAAK3V,IAAIN,KAAKsR,mBAAmBtR,KAAKmR,iBAAiB,CAACmJ,mBAAmB1a,GAAG,GAAGC,YAAED,GAAG,OAAO,KAAK,IAAIG,EAAEC,KAAKwR,oBAAoBrN,IAAIvE,EAAEsB,OAAO,GAAGnB,GAAGiK,EAAEjK,EAAEuB,QAAQtB,KAAKyR,UAAU,OAAO1R,EAAE,MAAMN,EAAEO,KAAK4P,iBAAiB2K,YAAY3a,GAAGL,EAAES,KAAK4P,iBAAiB4K,OAAO5a,GAAG,IAAImB,GAAE,EAAG,GAAGxB,EAAE,CAAC,MAAMM,EAAEG,KAAK6W,eAAejX,EAAEsB,OAAO,GAAGrB,GAAG,EAAE,CAAC,MAAMD,EAAEI,KAAKwR,oBAAoBrN,IAAItE,GAAGkB,EAAEnB,GAAGH,EAAEG,EAAEgD,QAAQ,MAAM7B,EAAEtB,EAAE,CAAC,MAAMsB,EAAE,IAAInB,EAAEuB,WAAW,OAAOpB,GAAGA,EAAE6C,SAASnD,EAAEM,EAAE4C,SAAS5B,EAAEhB,EAAEuB,QAAQ+H,GAAE,EAAGrJ,KAAKyR,UAAU1R,IAAIA,EAAE,IAAI2P,IAAEnQ,EAAEwB,EAAEtB,EAAE4J,GAAE,EAAGrJ,KAAKyR,WAAWzR,KAAKwR,oBAAoBlN,IAAI1E,EAAEsB,MAAMnB,GAAGA,EAAE,CAAC8Z,UAAUja,GAAGI,KAAK+Q,SAASpD,IAAI/N,GAAG,MAAMH,EAAEM,YAAEC,KAAKkW,iBAAiBtW,IAAI0P,IAAI,GAAGzP,YAAEJ,GAAG,YAAYO,KAAKgR,aAAarD,IAAI/N,GAAG,MAAMmB,EAAEtB,EAAEQ,GAAGT,EAAEQ,KAAK8Q,WAAW/P,EAAErB,EAAE,KAAKM,KAAK+Q,SAAShD,OAAOnO,GAAG,IAAII,KAAKiS,SAAS5J,QAAQ,IAAIrI,KAAK+Q,SAAS1M,MAAMrE,KAAKoY,eAAe,EAAEpY,KAAK2P,sBAAsBwE,QAAQ3U,EAAE,QAAQmM,MAAM9L,IAAIH,IAAI,MAAMK,EAAEC,KAAKgU,cAAcjT,EAAElB,GAAG,GAAG,MAAME,EAAE,OAAOA,EAAE6U,KAAK5U,KAAKkX,8BAA8BtX,GAAG,MAAMH,EAAEO,KAAKiU,SAASlU,EAAEH,GAAGI,KAAKsa,mBAAmB7a,EAAE,IAAII,IAAIH,IAAIH,YAAEM,KAAKG,KAAK6P,QAAQ0E,MAAM,cAAcvU,KAAK6S,UAAU,uBAAuBrT,GAAGQ,KAAKgR,aAAarD,IAAI/N,GAAG,GAAG,CAACoU,cAAcpU,EAAEC,GAAG,GAAG,MAAMA,GAAG,iBAAiBA,GAAGA,EAAEI,KAAKL,EAAE,OAAOI,KAAK6P,QAAQ0E,MAAM,kBAAkBvU,KAAK6S,UAAW,yCAAwCjT,MAAM,KAAK,IAAI4I,MAAMC,QAAQ5I,EAAEK,KAAK,OAAOF,KAAK6P,QAAQ0E,MAAM,kBAAkBvU,KAAK6S,UAAW,mCAAkCjT,MAAM,KAAKC,EAAE4a,gBAAgB,aAAa5a,EAAE4a,eAAe/R,MAAM,cAAc7I,EAAE4a,eAAe/R,MAAM1I,KAAK6P,QAAQ6K,KAAK,kBAAkB1a,KAAK6S,UAAW,yCAAwCjT,MAAM,MAAMC,EAAE8a,cAAcnS,MAAMC,QAAQ5I,EAAE8a,eAAe,IAAI9a,EAAE8a,aAAatS,QAAQ,mBAAmBxI,EAAE8a,aAAa,GAAGjS,MAAM1I,KAAK6P,QAAQ6K,KAAK,kBAAkB1a,KAAK6S,UAAW,kCAAiCjT,MAAM,MAAMC,EAAE+a,eAAepS,MAAMC,QAAQ5I,EAAE+a,iBAAiB/a,EAAE+a,cAAcC,MAAM,CAACjb,EAAEC,IAAID,EAAE8I,OAAQ,kBAAiB7I,SAASG,KAAK6P,QAAQ6K,KAAK,kBAAkB1a,KAAK6S,UAAW,mCAAkCjT,MAAMC,EAAEib,aAAajb,EAAEib,YAAYzS,OAAO,GAAGrI,KAAK6P,QAAQ6K,KAAK,kBAAkB1a,KAAK6S,UAAW,QAAOjT,SAASC,EAAEib,YAAYzS,yDAAyD,MAAMtI,EAAEF,EAAEkb,eAAe,SAAS/a,KAAKuS,iBAAiB1S,EAAE+U,IAAI,KAAKnV,EAAEI,EAAEib,aAAa,IAAIjb,EAAEib,YAAYzS,QAAQxI,EAAEib,YAAY,GAAGE,aAAanb,EAAEib,YAAY,GAAGE,aAAa,GAAGnb,EAAEib,YAAY,GAAGE,aAAa,GAAG,EAAE,KAAqqBja,EAAEyH,MAAMC,QAAQ5I,EAAE+T,UAAU/T,EAAE+T,SAASpN,KAArsB3G,IAAI,GAAG,MAAMA,EAAE,OAAO,KAAK,MAAME,EAAEF,GAAGG,KAAK6P,QAAQ0E,MAAM,kBAAkBvU,KAAK6S,UAAW,kCAAiCjT,MAAMC,KAAK,GAAG,iBAAiBA,EAAEI,GAAGF,EAAG,MAAKF,EAAEI,4CAA4C,GAAG,iBAAiBJ,EAAEI,KAAKuI,MAAMC,QAAQ5I,EAAEK,KAAK,OAAOH,EAAE,0BAA0B,KAAK,IAAIyI,MAAMC,QAAQ5I,EAAEK,KAAK,OAAOH,EAAG,wCAAuCF,EAAEI,OAAO,KAAKJ,EAAE6I,MAAM7I,EAAE6I,OAAO,MAAM7I,EAAEI,IAAID,KAAK6P,QAAQ0E,MAAM,kBAAkBvU,KAAK6S,UAAW,8BAA6BjT,MAAM,MAAMH,EAAEI,EAAEkb,eAAe,SAAS/a,KAAKuS,iBAAiB1S,EAAE+U,IAAI,KAAKrV,EAAE,IAAIuB,IAAG,GAAEjB,EAAEI,KAAKJ,EAAEK,KAAK,OAAOX,EAAEqW,WAAWnW,EAAEF,EAAEsW,cAAc7V,KAAKqQ,sBAAsB9Q,GAAGA,CAAC,IAAgDsO,QAAQjO,GAAG,MAAMA,IAAI,KAAK,MAAM,CAACK,GAAGL,EAAEM,IAAIL,EAAEK,IAAI0U,IAAI7U,EAAE6T,SAAS7S,EAAEM,UAAU,CAAC8T,eAAetV,EAAEib,aAAajb,EAAEib,YAAYzS,OAAO,EAAE6M,kBAAkB,MAAMrV,EAAE4a,eAAerF,WAAWvV,EAAE+a,cAAchb,EAAE,KAAK0V,QAAQzV,EAAEob,aAAapb,EAAEob,YAAY5S,OAAO,EAAEzI,EAAE,KAAKqV,SAAS,MAAMpV,EAAE8a,aAAa/a,EAAE,MAAM0B,QAAQ,iBAAiBzB,EAAEyB,QAAQzB,EAAEyB,QAAQ,KAAKkV,aAAahO,MAAMC,QAAQ5I,EAAE2W,cAAc3W,EAAE2W,aAAa,KAAK/U,YAAYhC,EAAE,CAACyb,mBAAmBlb,KAAKgR,aAAa7D,QAAQnN,KAAKiR,aAAa9D,QAAQnN,KAAK2W,cAAc9W,IAAID,YAAEC,EAAE0P,QAAQ1P,EAAE0P,KAAK7N,QAAO,EAAG,GAAG,CAACiX,eAAe5Y,GAAG,MAAMN,EAAEO,KAAKkW,iBAAiBnW,GAAGR,EAAES,KAAK6W,eAAe9W,GAAG,GAAGF,YAAEJ,IAAIF,EAAE,GAAG,MAAME,EAAE8P,KAAK,OAAOhQ,EAAE,EAAE,IAAIS,KAAK2Y,eAAepZ,GAAG,IAAIwB,EAAE,EAAE,GAAGtB,EAAE8P,MAAMhQ,GAAG,EAAE,CAAC,MAAMK,EAAEI,KAAKwR,oBAAoBrN,IAAI5E,GAAG,MAAMK,IAAImB,EAAEnB,EAAEgD,SAAS,CAAC,IAAIpD,EAAEQ,KAAKwS,uBAAuB,IAAI,IAAI5S,EAAEG,EAAEH,GAAG,EAAEA,EAAEI,KAAK6W,eAAejX,GAAG,GAAGI,KAAK+P,UAAUnQ,GAAG,CAACJ,EAAE,EAAE,KAAK,CAAC,MAAME,EAAEE,YAAEH,EAAE6P,KAAKtP,KAAK4P,iBAAiBuL,UAAU1b,EAAE6P,KAAK1P,YAAEH,EAAE8P,MAAMvP,KAAK4P,iBAAiBuL,UAAU1b,EAAE8P,MAAM,EAAE,OAAO7P,EAAEqB,GAAGrB,EAAEM,KAAKwS,wBAAwBhT,CAAC,CAACkZ,gBAAgB9Y,GAAG,MAAMG,EAAEC,KAAKkW,iBAAiBlW,KAAK2Q,YAAY9Q,YAAEE,GAAGH,EAAEI,KAAK2Q,WAAW,KAAK,MAAM3Q,KAAKob,iBAAiBpb,KAAK2Q,YAAY,EAAE5Q,EAAEH,EAAE,CAACwb,iBAAiBvb,EAAEJ,EAAEF,EAAEwB,GAAG,GAAGxB,EAAEgQ,MAAM,IAAIhQ,EAAE4B,WAAW,YAAYnB,KAAK4X,kBAAkB/X,IAAIkB,EAAElB,EAAEN,EAAEE,IAAI,IAAIO,KAAK2X,cAAc9X,GAAG,OAAO,GAAGkB,EAAElB,EAAEN,EAAEE,GAAG,MAAMF,EAAEgQ,KAAK,OAAO,MAAM/P,EAAEQ,KAAKsa,mBAAmB/a,EAAEgQ,MAAM,GAAG/P,EAAEkD,YAAYlD,EAAEoD,WAAW5C,KAAKiT,aAAa,OAAO,MAAMvT,EAAEK,YAAEC,KAAK8V,SAASjW,IAAI,IAAI,IAAIE,EAAE,EAAEA,EAAER,EAAE4B,WAAWpB,IAAI,CAAC,MAAMN,EAAEC,EAAEkU,SAASrU,EAAE6P,YAAYrP,GAAGP,EAAEQ,KAAKkW,iBAAiBzW,GAAGG,YAAEJ,GAAGQ,KAAKob,iBAAiB3b,EAAEI,EAAEL,EAAEuB,GAAGA,EAAEtB,EAAE,KAAKI,EAAE,CAAC,CAAC2X,SAAS5X,EAAEC,GAAGA,EAAED,IAAII,KAAKqb,iBAAiBzb,EAAEC,EAAE,CAACwb,iBAAiBxb,EAAEE,GAAG,MAAMN,EAAEI,EAAEqB,MAAM3B,EAAES,KAAKkW,iBAAiBzW,GAAGG,YAAEL,IAAIS,KAAKsb,kBAAkB7b,EAAEF,EAAEQ,EAAE,CAACub,kBAAkBvb,EAAEN,EAAEF,GAAG,MAAMwB,EAAEf,KAAK8V,SAAS/V,GAAG,GAAGF,YAAEkB,GAAG,OAAO,MAAMvB,EAAEC,EAAE2P,YAAY3P,EAAE0B,WAAW,IAAI,IAAItB,EAAEJ,EAAE2P,YAAYvP,EAAEL,IAAIK,EAAE,CAAC,MAAME,EAAEgB,EAAE6S,SAAS/T,GAAGJ,EAAEO,KAAKkW,iBAAiBnW,GAAGH,YAAEH,IAAIG,YAAEH,EAAE8P,OAAOhQ,EAAEE,EAAE8P,OAAOvP,KAAKsb,kBAAkBvb,EAAEN,EAAEF,EAAE,CAAC,CAACgc,qBAAqB1b,EAAEE,GAAG,IAAIN,EAAEO,KAAK+V,QAAQlW,GAAG,KAAKD,YAAEH,IAAIA,EAAEqC,gBAAgB/B,EAAEN,EAAEO,KAAKoW,UAAU3W,EAAEyB,MAAM,CAACsa,+BAA+B,GAAG3b,YAAEG,KAAK+T,UAAU,OAAM,EAAG,MAAMnU,EAAE,GAAGG,EAAEF,IAAI,IAAIJ,EAAEO,KAAK+P,UAAUlQ,EAAEqB,QAAQlB,KAAKgQ,aAAanQ,EAAEqB,OAAO,EAAE,EAAE,OAAOlB,KAAKqb,iBAAiBxb,GAAGD,IAAIH,GAAGM,EAAEH,IAAG,KAAMC,EAAEiC,iBAAiBrC,GAAGG,EAAEiH,KAAKhH,EAAEqB,OAAOzB,CAAC,EAAE,OAAOM,EAAEC,KAAK+T,UAAUnU,EAAEyI,QAAQrI,KAAK6P,QAAQ0E,MAAM,uDAAuD3U,EAAE6b,KAAK,MAAM7b,EAAEyI,OAAO,CAAC,CAACqT,YAAY9b,GAAG,GAAGI,KAAKoS,SAASzE,IAAItF,OAAO,IAAIzI,EAAE+T,OAAO,MAAM3T,KAAKoS,SAASzE,IAAItF,SAASrI,KAAKkR,eAAelR,KAAKmS,UAAU9J,OAAO,KAAKzI,EAAEsB,OAAO,MAAMlB,KAAKkR,gBAAe,GAAuBtR,EAAE+b,KAAK3b,KAAKsR,mBAAmBtR,KAAK6R,iBAAiBC,SAAS,CAAC,MAAMjS,EAAEG,KAAK6R,iBAAiBC,SAASlS,EAAEgc,SAAS/b,EAAE,EAAED,EAAEgc,UAAU,MAAM/b,EAAEA,EAAE,IAAID,EAAEgc,UAAU,OAAO/b,EAAE,CAAC,CAACgc,oBAAoBjc,EAAEC,GAAGG,KAAK0S,uBAAuB7S,GAAGD,IAAI,uBAAuBA,EAAEkc,MAAM,kBAAkBlc,EAAEkc,MAAM9b,KAAK4P,iBAAiBiM,oBAAoBjc,GAAGI,KAAK+b,8BAA8B,CAACA,+BAA+B/b,KAAK2W,cAAc9W,IAAIyJ,EAAEzJ,GAAGD,YAAEC,EAAE0P,QAAQ1P,EAAE0P,KAAKnP,eAAe,MAAMR,YAAEC,EAAEyP,OAAOzP,EAAEyP,IAAIlP,eAAe,KAAK,GAAG,CAACuW,aAAa/W,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEG,KAAKwQ,WAAWnI,OAAOxI,IAAI,CAAC,MAAME,EAAEC,KAAKwQ,WAAW3Q,GAAG,GAAGE,EAAE,CAAC,MAAMN,EAAEI,EAAEG,KAAK0Q,cAAc,IAAI,IAAI7Q,EAAE,EAAEA,EAAEE,EAAE4T,MAAMtL,OAAOxI,IAAID,EAAEG,EAAE4T,MAAM9T,GAAGJ,EAAEI,EAAE,CAAC,CAAC,CAAKmc,WAAO,MAAM,CAACC,QAAQ,CAACrc,EAAEC,IAAIG,KAAKiU,SAASrU,EAAEC,GAAG,EAAE,MAAM2Y,EAAE,IAAIvU,IAAI,MAAMoO,EAAEvS,YAAYF,GAAGI,KAAKgZ,QAAQpZ,EAAEI,KAAKiP,OAAO,IAAIxP,IAAE,CAACyS,YAAY,OAAOlS,KAAK2N,IAAI,IAAIlO,IAAE,CAACyS,YAAY,OAAOlS,KAAKmP,OAAO,IAAI1P,IAAE,CAACyS,YAAY,OAAOlS,KAAKmZ,OAAO,EAAE,CAACZ,MAAM3Y,GAAGI,KAAK2N,IAAIR,QAAQnN,KAAKiP,OAAO9B,QAAQnN,KAAKmZ,OAAOvZ,CAAC,EAAE,SAAS0J,EAAEzJ,GAAGD,YAAEC,EAAE0P,QAAQrK,YAAErF,EAAE0P,KAAKpP,WAAWuE,YAAE7E,EAAE0P,KAAKkH,uBAAuB7W,YAAEC,EAAEyP,OAAOpK,YAAErF,EAAEyP,IAAInP,WAAWuE,YAAE7E,EAAEyP,IAAImH,sBAAsB,CAAC,SAASpR,EAAEzF,GAAG,OAAOgH,YAAEhH,GAAG,EAAE,CAAC,SAAS8R,EAAE9R,GAAG,OAAOgH,YAAEhH,EAAE,EAAE,CAAC,SAASyJ,EAAEzJ,EAAEC,GAAG,OAAOA,GAAGD,EAAE,EAAE,EAAE,CAAC,SAASoK,EAAEpK,EAAEC,GAAG,QAAQ,EAAED,KAAKC,CAAC,CAAC,SAASiK,EAAElK,GAAG,OAAO,IAAI,EAAEA,EAAE,CAAC,SAASuL,EAAEvL,EAAEC,GAAG,OAAO,IAAIA,EAAE,EAAED,EAAEC,EAAE,CAAC,CAAC,SAAS0J,EAAE3J,EAAEC,GAAG,OAAO,IAAIA,EAAED,EAAEA,EAAEC,CAAC,CAAC,MAAMwW,EAAE,CAAC,CAAC,qBAAqB3W,IAAE0C,oBAAoB,CAAC,sBAAsB1C,IAAE2C,qBAAqB,CAAC,yBAAyB3C,IAAE4C,wBAAwB,CAAC,iCAAiC5C,IAAE6C,iCAA4M,MAAMkW,EAAE3Y,cAAcE,KAAK6Y,MAAM,EAAE7Y,KAAK8Y,WAAW,EAAE9Y,KAAKgZ,QAAQ,EAAEhZ,KAAKiZ,aAAa,EAAEjZ,KAAK+Y,UAAU,CAAC,EAAE,SAASxF,EAAE3T,GAAG,OAAOqW,KAAKiG,KAAKtc,GAAG,EAAEqW,KAAKkG,IAAI,C,cCAz4tB,MAAMtc,EAAEC,YAAYF,GAAGI,KAAKoc,WAAWxc,EAAEI,KAAKqc,iBAAgB,CAAE,CAACC,iBAAiB1c,EAAEG,EAAEP,EAAEC,GAAGO,KAAKiT,aAAaxT,EAAEyT,YAAYlT,KAAKuc,OAAO/c,EAAEQ,KAAKwc,qBAAqB5c,EAAEI,KAAKyc,aAAa1c,CAAC,CAAC2c,eAAe3c,GAAG,GAAGH,YAAEG,GAAG,OAAM,EAAG,MAAMP,EAAEQ,KAAKuc,OAAOjC,mBAAmBva,GAAG,QAAQC,KAAK2c,gBAAgBnd,MAAMA,EAAEmD,UAAU3C,KAAK4c,wBAAwB7c,EAAE,CAAC8c,oBAAoB7c,KAAKqc,iBAAgB,CAAE,CAAKS,gCAA4B,OAAO,MAAM9c,KAAKuc,SAAQ,IAAKvc,KAAKqc,eAAe,CAACU,kBAAkBnd,GAAG,IAAII,KAAK8c,0BAA0B,OAAM,EAAG9c,KAAKqc,iBAAgB,EAAG,MAAMtc,EAAEC,KAAKoc,WAAWxP,KAAKoQ,mBAAmBC,iBAAiBC,WAAW1d,EAAEyW,KAAK3V,IAAI,EAAE2V,KAAKkH,MAAM,IAAIpd,EAAE,KAAKgB,EAAEoM,QAAQnN,KAAKod,mBAAmBpd,KAAKuc,OAAOxI,SAASvU,GAAE,EAAGQ,KAAKoc,WAAWiB,wBAAwB,MAAM5d,EAAEsB,EAAEsH,OAAOrI,KAAKyc,aAAa1b,EAAEnB,GAAG,MAAMkB,EAAEC,EAAEsH,OAAO5I,EAAE,OAAO,IAAIsB,EAAEsH,SAASrI,KAAKqc,iBAAgB,GAAItb,EAAEoM,QAAQrM,CAAC,CAACsc,mBAAmB5d,EAAEK,EAAEmB,EAAEzB,GAAG,GAAGK,YAAEJ,GAAG,OAAM,EAAG,MAAME,EAAEF,EAAE0B,MAAML,EAAEb,KAAKuc,OAAO7M,EAAE1P,KAAKoc,WAAW5X,EAAE3D,EAAEyZ,mBAAmB9a,GAAGG,EAAEK,KAAK2c,gBAAgBnY,GAAGa,GAAG7F,EAAE6B,UAAU8T,eAAe,GAAGxV,GAAG0F,EAAE,OAAO7F,EAAEsC,eAAe,GAAG9B,KAAKsd,yBAAyB9d,IAAG,EAAG,MAAM6W,EAAE3G,EAAE6N,aAAa7d,GAAG,GAAGH,GAAG8W,GAAG1W,EAAE,CAAC,MAAMC,GAAGoB,GAAGhB,KAAKwd,qBAAqBhe,GAAGkQ,EAAE+N,SAAS/d,EAAEoB,IAAE+B,QAAQjD,EAAE,CAAC,MAAMyS,EAAEgE,KAAK3G,EAAEgO,oBAAoBhO,EAAEgO,mBAAmBhe,IAAI,GAAG2W,IAAI3G,EAAEiO,gBAAgBje,EAAEC,EAAEF,IAAEgD,KAAKhD,IAAE+C,MAAM7C,GAAG,OAAO0S,GAAGrS,KAAKsd,yBAAyB9d,GAAG6S,EAAE,MAAM3N,EAAElF,EAAE2B,WAAW,EAAE,IAAIqX,EAAE9T,EAAE,GAAGA,EAAE,IAAI,IAAI9E,EAAE,EAAEA,EAAEJ,EAAE2B,WAAWvB,IAAI,CAAC,MAAMJ,EAAEqB,EAAEmV,cAActW,EAAEE,GAAGH,EAAEoB,EAAEkV,QAAQvW,GAAMO,YAAEN,GAAOoB,EAAE+W,kBAAkBpY,KAAIQ,KAAKod,mBAAmB3d,EAAEI,EAAEmB,GAAGqR,EAAE9S,IAAKS,KAAKwc,qBAAqB/c,KAAK+Y,GAAE,GAAS3X,EAAE8W,cAAcnY,KAAKgZ,GAAE,EAAG,CAAC,MAAM/S,EAAE4Q,IAAI1W,IAAI6Y,GAAGzX,EAAEsH,OAAOxI,GAAG4F,GAAG1E,EAAE8F,KAAKnH,IAAIH,GAAGkG,IAAI4Q,GAAGrV,GAAGwX,GAAG9I,EAAE+N,SAAS/d,EAAEoB,IAAE+B,QAAO,GAAI,MAAM+D,GAAGpH,EAAE6B,UAAU8T,eAAe,OAAOqD,GAAGnG,IAAI5M,GAAGmB,CAAC,CAAC0W,yBAAyB1d,GAAGI,KAAKuc,OAAOlB,iBAAiBzb,GAAGA,KAAKI,KAAKoc,WAAWmB,aAAa3d,EAAEsB,QAAQlB,KAAKoc,WAAWwB,gBAAgBhe,EAAEsB,SAASH,EAAE8F,KAAKjH,EAAEsB,OAAOtB,EAAEkC,eAAe,IAAI,CAAC0b,qBAAqB5d,GAAG,IAAIG,GAAE,EAAG,OAAOC,KAAKuc,OAAOlB,iBAAiBzb,GAAGA,MAAMG,IAAIC,KAAKuc,OAAO5E,cAAc/X,EAAEsB,UAAUlB,KAAKoc,WAAWmB,aAAa3d,EAAEsB,QAAQnB,GAAE,GAAG,GAAIH,EAAEkC,eAAe,KAAK/B,CAAC,CAAC6c,wBAAwBhd,GAAG,IAAIG,GAAE,EAAGP,GAAE,EAAG,OAAOQ,KAAKuc,OAAOlB,iBAAiBzb,GAAGA,IAAI,IAAIJ,IAAIQ,KAAKuc,OAAO5E,cAAc/X,EAAEsB,OAAO,OAAM,EAAG,MAAMzB,EAAEO,KAAKuc,OAAOjC,mBAAmB1a,GAAG,OAAOI,KAAK2c,gBAAgBld,IAAIO,KAAKuc,OAAO3E,kBAAkBhY,EAAEsB,SAASnB,GAAE,GAAIC,KAAKoc,WAAWmB,aAAa3d,EAAEsB,QAAQ1B,GAAE,GAAG,GAAII,EAAEkC,eAAe,CAAC,IAAItC,GAAGO,CAAC,CAAC4c,gBAAgB/c,GAAG,OAAOA,EAAE+C,YAAY/C,EAAE8C,YAAY9C,EAAEgD,WAAW5C,KAAKiT,aAAa,EAAE,MAAMlS,EAAE,IAAIvB,IAAE,CAAC0S,YAAY,O,0DCAvpE,MAAMrR,GAAEf,YAAYF,EAAEC,EAAEkB,EAAEhB,EAAEP,EAAED,GAAG,GAAGS,KAAK2P,sBAAsB9P,EAAEG,KAAK6P,QAAQ9O,EAAEf,KAAK6d,uBAAuB9d,EAAEC,KAAK8d,oBAAoBte,EAAEQ,KAAK+d,SAASxe,EAAES,KAAK6S,UAAUjT,EAAEI,KAAKge,UAAUpe,EAAEqe,UAAUC,KAAKle,KAAKme,qBAAqBve,EAAEwe,oBAAoBxe,EAAE8H,oBAAoB,CAAC,MAAM7H,EAAED,EAAEye,sBAAsBre,KAAKse,qBAAqB1e,EAAE8H,oBAAoBlB,KAAK5G,GAAGkB,YAAEjB,EAAED,IAAI,CAAC,CAAC+Z,MAAM/Z,EAAEC,EAAEkB,GAAG,OAAOf,KAAK2P,sBAAsBwE,QAAQvU,EAAEC,EAAEkB,EAAE,CAACwd,eAAe3e,EAAEC,EAAEkB,GAAG,MAAMhB,EAAG,GAAEC,KAAKge,mBAAmBpe,EAAEyB,UAAU+T,yBAAyBvV,EAAE2e,QAAQ,OAAOxe,KAAK2Z,MAAM5Z,EAAE,SAASgB,GAAG4K,MAAM/L,GAAGoB,YAAEnB,EAAED,IAAI,CAAC6e,eAAe7e,EAAEC,EAAEkB,GAAG,OAAOxB,YAAEM,EAAE2G,KAAK3G,GAAGG,KAAKue,eAAe3e,EAAEC,EAAE6e,qBAAqB3d,MAAM4K,MAAM5K,IAAI,MAAMhB,EAAE,CAAC,EAAE,IAAI,IAAIP,EAAE,EAAEA,EAAEK,EAAEwI,SAAS7I,EAAE,CAAC,MAAMD,EAAEwB,EAAEvB,GAAGmf,MAAM,GAAGpf,EAAEQ,EAAEF,EAAEL,GAAGiH,MAAMlH,MAAM,CAAC,GAAGE,YAAEsB,EAAEvB,GAAG+U,OAAO,MAAMxT,EAAEvB,GAAG+U,MAAMvU,KAAK6P,QAAQ0E,MAAM,kBAAkBvU,KAAK6S,UAAW,qCAAoChT,EAAEL,GAAGiH,kBAAkB7G,EAAEK,MAAMc,EAAEvB,GAAG+U,MAAM,CAAC,CAAC,OAAOxU,CAAC,GAAG,CAAC6e,mBAAmB7d,EAAExB,GAAG,MAAME,EAAE,MAAMO,KAAK8d,qBAAqB/c,EAAEM,UAAU+T,WAAWxV,YAAEI,KAAKye,eAAe1d,EAAEf,KAAK8d,oBAAoBve,IAAI,MAAMsf,iBAAiBnf,EAAEof,YAAYta,GAA0gH,SAAW5E,EAAEC,GAAG,MAAMkB,EAAE,CAAC8d,iBAAiB,KAAKC,YAAY,GAAG,GAAG,MAAMlf,GAAGC,EAAEwB,UAAUkU,mBAAmB,EAAE,OAAOxU,EAAE,MAAMhB,EAAEF,EAAEwB,UAAUkU,oBAAoB,EAAE3V,EAAEC,EAAEwB,UAAUkU,oBAAoBwJ,gBAAgB,KAAK,GAAG,MAAMhf,EAAE,OAAOgB,EAAE,IAAI,IAAIvB,EAAE,EAAEA,EAAEO,EAAEsI,OAAO7I,IAAI,CAAC,MAAMI,EAAEG,EAAEP,GAAG,GAAG,MAAMI,EAAEof,qBAAqBje,EAAE+d,YAAYtf,EAAEuB,EAAE8d,iBAAiB9e,EAAEP,QAAQ,GAAG,UAAUI,EAAEof,qBAAqBrY,WAAWzC,YAAI,6BAA6B,OAAOnD,EAAE+d,YAAYtf,EAAEuB,EAAE8d,iBAAiBjf,EAAEmB,CAAC,CAAC,OAAOA,CAAC,CAA5+HuK,CAAEtL,KAAKme,qBAAqBpd,GAAGC,IAAID,EAAEM,UAAU4T,SAASnU,EAAEE,EAAEpB,YAAEI,KAAKif,cAAcle,EAAEM,UAAU4T,SAASzQ,EAAEjF,IAAI,KAAKmF,EAAE3D,EAAEM,UAAU6T,wBAAwBlV,KAAKkf,YAAYne,EAAExB,GAAG,KAAKsB,EAAEb,KAAKse,sBAAsBvd,EAAEM,UAAUoU,oBAAoB,EAAEzV,KAAKse,qBAAqBvd,EAAEM,UAAUoU,oBAAoB,MAAM/Q,EAAE/E,YAAE+E,GAAG,KAAKV,EAAEnD,GAAGA,EAAEkG,SAAS1B,EAAExE,GAAGA,EAAEmG,SAASmY,EAAG,GAAEpe,EAAEd,KAAK+J,GAAGhJ,GAAGhB,KAAK+d,SAASqB,gBAAgBja,EAAE6E,QAAQhK,KAAKqf,iBAAiBF,EAAE5f,GAAG,KAAK+f,EAAEtV,EAAuhF,SAAWpK,GAAG,IAAI,MAAMC,KAAKD,EAAEkb,YAAY,CAAC,MAAMlb,EAAEC,EAAE0f,WAAW,GAAG,MAAM3f,EAAE,IAAI,MAAMmB,KAAKnB,EAAE,MAAM,CAAC4f,WAAW,CAAC3f,EAAEI,IAAIwf,oBAAoB5f,EAAE6f,SAASH,WAAW,CAACxe,GAAG,CAAC,OAAO,IAAI,CAArsF2O,CAAEvK,GAA66E,CAACqa,WAAW,GAAGD,WAAW,CAAC,CAACvT,KAAK,kBAAkBlE,OAAO,CAACf,SAAn+E/C,KAAi/Eyb,oBAAoB,CAAC,EAAE,EAAE,IAAvgFE,EAAE5f,YAAEuf,IAAwrF,SAAW1f,GAAG,MAAMC,EAAE,IAAI2I,MAAM,IAAI,MAAMzH,KAAKnB,EAAEkb,YAAY,MAAM/Z,EAAE2e,UAAU7f,EAAEgH,KAAK,CAAC2Y,WAAW,CAACze,EAAEd,IAAIwf,oBAAoB1e,EAAE2e,SAASH,WAAW,OAAO,OAAO1f,CAAC,CAAt1F2Y,CAAErT,GAAGuM,EAAE,MAAMrM,GAAGA,EAAEgD,OAAO,EAAEzI,YAAEI,KAAK4f,aAAa7e,EAAEsE,EAAE9F,IAAI,KAAK,IAAIsgB,EAAE,KAAK1U,EAAE,KAAK,GAAGrK,EAAE,CAAC+e,EAAEhgB,kBAAQiB,GAAG,MAAMlB,EAAgvF,SAAWA,EAAEC,GAAG,IAAID,IAAIC,IAAIA,EAAE6H,oBAAoB,OAAO9H,EAAE,MAAMG,EAAE4H,OAAOC,KAAK/H,EAAE6H,qBAAqB,GAAG,OAAO7H,EAAE6H,oBAAoB3H,GAAG+H,OAAOgY,eAAelgB,EAAEmgB,iBAAiBC,eAAepgB,EAAEmB,YAAEnB,IAAImgB,iBAAiBC,OAAOpgB,CAAC,CAAh9F6F,CAAEzF,KAAK6d,uBAAuBnZ,GAAGyG,EAAEvE,YAAElH,EAAEE,EAAE,CAAC,MAAMqgB,EAAEvO,EAAE7R,kBAAQ6R,GAAG,KAAKwO,EAAEzgB,EAAEI,kBAAQJ,GAAG,CAAC,EAAE4J,EAAE6W,EAAE,CAACtF,cAAcsF,EAAEC,iBAAiBngB,KAAK8d,qBAAqB,KAAK,GAAGte,YAAE8f,GAAG,MAAM,CAAC3E,aAAa2E,EAAEc,kBAAkB/W,EAAEgX,eAAeR,EAAES,mBAAmBnV,EAAEoV,iBAAiBlb,EAAE4V,YAAYgF,GAAG,GAAGzgB,YAAEmgB,GAAG,MAAM,CAACa,UAAUb,EAAES,kBAAkB/W,EAAEgX,eAAeR,EAAES,mBAAmBnV,EAAEoV,iBAAiBlb,EAAE4V,YAAYgF,GAAG,MAAM,IAAIQ,KAAK,CAACC,+BAA+B9gB,EAAEC,GAAG,MAAMkB,EAAEnB,EAAEiI,mBAAmB,GAAG,MAAM9G,EAAE,IAAI,MAAMhB,KAAK4H,OAAOC,KAAK7G,GAAG,IAAI,MAAMnB,KAAKmB,EAAEhB,GAAGqI,OAAOI,MAAMC,QAAQ7I,EAAE8I,MAAM9I,EAAE+gB,WAAW/gB,EAAE8I,KAAKlC,KAAK5G,GAAGF,YAAEE,EAAEC,KAAKD,EAAE+gB,WAAWjhB,YAAEE,EAAE8I,KAAK7I,EAAE,CAAC6gB,4BAA4B9gB,GAAG,MAAMC,EAAED,EAAEiI,mBAAmB,GAAG,MAAMhI,EAAE,IAAI,MAAMkB,KAAKlB,EAAE,CAAC,MAAMD,EAAEC,EAAEkB,GAAG,GAAGyH,MAAMC,QAAQ7I,EAAE+G,UAAU,IAAI,IAAI9G,EAAE,EAAEA,EAAED,EAAE+G,SAAS0B,OAAOxI,IAAI,CAAC,MAAMkB,EAAEnB,EAAE+G,SAAS9G,GAAG,UAAUkB,EAAE6f,UAAU,EAAE,KAAKhhB,EAAE+G,SAAS9G,GAAGkB,EAAE6f,UAAU,GAAG,KAAK,CAAC,MAAM/gB,EAAED,EAAE+G,SAAS,UAAU9G,EAAE+gB,UAAU,EAAE,KAAKhhB,EAAE+G,SAAS9G,EAAE+gB,UAAU,GAAG,CAAC,CAAC,CAAC1B,YAAYtf,EAAEC,GAAG,MAAMkB,EAAG,GAAEf,KAAKge,mBAAmBpe,EAAEyB,UAAU4T,kBAAkB,OAAOjV,KAAK2Z,MAAM5Y,EAAE,OAAOlB,GAAG8L,MAAM/L,IAAIiB,GAAEggB,qBAAqBjhB,GAAGiB,GAAEigB,wBAAwBlhB,EAAEmB,GAAGnB,IAAI,CAACmhB,aAAanhB,EAAEC,EAAEkB,EAAEhB,EAAEP,EAAED,GAAG,IAAIE,GAAE,EAAG,OAAOD,IAAIgF,IAAEvB,UAAUzD,IAAIgF,IAAEzB,MAAMvD,IAAIgF,IAAExB,MAAMhD,KAAK2Z,MAAM/Z,EAAE,SAASL,GAAGoM,MAAM/L,IAAC,CAAIK,GAAGJ,EAAEuE,MAAMrD,EAAE4H,KAAK/I,EAAE+G,SAASnH,EAAE4J,YAAY3J,MAAMO,KAAK2Z,MAAM/Z,EAAE,QAAQL,GAAGoM,MAAM/L,IAAI,IAAIL,EAAEK,EAAmB,GAAGG,GAAGH,EAAEiJ,MAAMjJ,EAAEkJ,QAAzB,KAAmC,CAAC,MAAMjJ,EAAEoW,KAAK+K,KAAKphB,EAAEiJ,MAAjD,GAA0D9H,EAAEkV,KAAK+K,KAAKphB,EAAEkJ,OAAxE,GAAkF/I,EAAEkhB,SAASC,cAAc,UAAUnhB,EAAE8I,MAAMhJ,EAAEE,EAAE+I,OAAO/H,EAAEhB,EAAEohB,WAAW,MAAMC,UAAUxhB,EAAE,EAAE,EAAEC,EAAEkB,GAAGxB,EAAEQ,EAAEN,GAAE,CAAE,CAAC,MAAM,CAACQ,GAAGJ,EAAEuE,MAAMrD,EAAE4H,KAAKpJ,EAAEoH,SAASnH,EAAE4J,YAAY3J,EAAE,GAAG,CAACmgB,aAAahgB,EAAEC,EAAEkB,GAAG,MAAMhB,EAAEC,KAAK+d,SAASsD,uCAAuC7hB,EAAEQ,KAAK+d,SAASuD,iBAAiB,OAAOrW,QAAQC,IAAIrL,EAAE2G,KAAK3G,IAAI,GAAG,IAAIA,EAAEuE,MAAM5E,GAAG,OAAO,KAAK,MAAMD,EAAEmF,YAAE7E,EAAEiH,UAAU9G,KAAK+d,SAASwD,kBAAkB,GAAG,MAAMhiB,EAAE,OAAOS,KAAK6P,QAAQ0E,MAAM,gBAAgBvU,KAAK6S,UAAW,+CAA8CjT,EAAEK,MAAMgL,QAAQsB,SAAS,MAAM9M,EAAEG,EAAEyB,UAAUiU,SAAS1V,EAAEK,GAAGP,EAAG,GAAEM,KAAKge,mBAAmBve,cAAcF,EAAEkH,OAAO,OAAOzG,KAAK+gB,aAAarhB,EAAEG,EAAEI,GAAGJ,EAAEuE,MAAMrE,EAAER,EAAEoH,SAAS5F,EAAE,IAAI,CAACse,iBAAiBzf,EAAEC,GAAG,MAAMkB,EAAG,GAAEf,KAAKge,mBAAmBpe,eAAe,OAAOI,KAAK2Z,MAAM5Y,EAAE,OAAOlB,EAAE,CAACof,cAAcrf,EAAEC,EAAEkB,GAAG,MAAMhB,EAAG,GAAEC,KAAKge,mBAAmBpe,gBAAgBC,IAAI,OAAOG,KAAK2Z,MAAM5Z,EAAE,SAASgB,EAAE,ECA99I,MAAMA,GAAEjB,YAAYF,EAAEC,GAAGG,KAAKwhB,WAAW5hB,EAAEI,KAAKyhB,QAAQ5hB,EAAEG,KAAK0hB,gBAAgB,IAAIjU,GAAG,CAAKkU,WAAO,OAAO3hB,KAAKwhB,WAAWG,IAAI,CAACxN,QAAQpT,EAAEtB,EAAED,GAAG,MAAMwB,EAAE,IAAI4gB,gBAAgBliB,EAAEE,YAAEJ,GAAG,IAAIwB,EAAE6gB,UAAUtiB,EAAE,CAACuiB,OAAO9gB,EAAE8gB,OAAOC,MAAM,CAACC,MAAMhiB,KAAKyhB,UAAU1hB,EAAEC,KAAKwhB,WAAWrN,QAAQpT,EAAEtB,EAAEF,GAAGiF,EAAE,CAACyd,SAASliB,EAAEmiB,gBAAgBlhB,EAAEmhB,YAAYziB,GAAG,OAAOM,KAAK0hB,gBAAgB/T,IAAInJ,GAAG3E,YAAEE,GAAG,KAAI,MAACyE,EAAE0d,gBAAgB,KAAkB,OAAd,EAAC1d,EAAE2d,cAAF,EAAehT,SAAS3K,EAAE2d,YAAY,KAAKniB,KAAK0hB,gBAAgB3T,OAAOvJ,EAAE,IAAIzE,CAAC,CAACqiB,YAAYpiB,KAAK0hB,gBAAgBpb,SAAS1G,IAAG,QAAkB,OAAjB,EAAAA,EAAEsiB,kBAAF,EAAmBL,QAAQjiB,EAAEsiB,gBAAgB,KAAkB,OAAd,EAACtiB,EAAEuiB,cAAF,EAAehT,QAAQ,IAAInP,KAAK0hB,gBAAgBvU,OAAO,E,sFCAinB,MAAMuE,GAAE,IAAI,MAAMyN,GAAErf,YAAYF,EAAEC,EAAEE,EAAEN,EAAEsB,EAAExB,EAAEC,EAAEE,EAAEmB,EAAE,CAAC,GAAGb,KAAKqiB,SAASziB,EAAEI,KAAKsiB,oBAAoBziB,EAAEG,KAAKuiB,cAAcxhB,EAAEf,KAAKwiB,mBAAmBjjB,EAAES,KAAKyiB,aAAajjB,EAAEQ,KAAK+d,SAASld,EAAEb,KAAK0iB,SAAS5hB,eAAId,KAAK2iB,oBAAmB,EAAG3iB,KAAK4iB,KAAKle,eAAI1E,KAAK6iB,YAAY,IAAI7iB,KAAK8iB,YAAY,EAAE9iB,KAAKkT,YAAY,EAAElT,KAAK+iB,QAAQ7C,cAAIlgB,KAAKgjB,MAAMte,eAAI1E,KAAKijB,MAAMve,eAAI1E,KAAKkjB,MAAMxe,eAAI1E,KAAKmjB,MAAMze,eAAI1E,KAAKojB,sBAAsBviB,EAAEwiB,sBAAsB,EAAErjB,KAAKsjB,uBAAuBziB,EAAE0iB,uBAAuB,EAAEvjB,KAAKwjB,aAAazjB,EAAEN,GAAGO,KAAKyjB,SAASzjB,KAAKsiB,oBAAoB3V,iBAAiB3M,KAAK6b,oBAAoBnc,GAAGM,KAAK0jB,UAAU9c,YAAE,EAAE,EAAE,EAAEhH,GAAGI,KAAK2jB,sBAAsB3jB,KAAKqiB,SAASuB,UAAU5jB,KAAKyjB,SAASI,eAAelP,aAAE3U,KAAKyjB,WAAWzjB,KAAK8jB,wBAAwBpU,aAAE1P,KAAKqiB,UAAU0B,MAAM,CAAClI,oBAAoBjc,GAAG,MAAMA,GAAGI,KAAKgkB,kBAAkBza,KAAE0a,kBAAkBrkB,GAAGI,KAAKgkB,kBAAkBE,mCAAmC5Y,aAAEH,aAAEvL,GAAE,MAAOI,KAAKgkB,kBAAkB,IAAI,CAACR,aAAa5jB,EAAEC,GAAGG,KAAK2iB,mBAAmB9iB,EAAEA,GAAGqF,aAAEtF,EAAEukB,WAAWvkB,EAAEwkB,iBAAiBpkB,KAAK0iB,UAAU1iB,KAAKqkB,kBAAkB,GAAGzkB,EAAE0kB,oBAAoB,GAAGtkB,KAAKukB,QAAQ3kB,EAAE4kB,IAAIxkB,KAAK6iB,YAAY,IAAI7iB,KAAK8iB,YAAY,CAAC,CAAC2B,mBAAmB7kB,GAAGI,KAAK4iB,KAAKhjB,CAAC,CAAC4Z,2BAA2B5Z,GAAG,MAAMC,EAAEG,KAAKojB,sBAAsB,OAAOpjB,KAAKojB,sBAAsBxjB,EAAEC,CAAC,CAAC6kB,mBAAmB9kB,GAAGI,KAAKuiB,cAAc3iB,CAAC,CAAC8X,kBAAkB3X,GAAG,GAAGH,YAAEI,KAAKgkB,mBAAmB,OAAO,KAAK,MAAMvkB,EAAEM,EAAEG,IAAI,GAAGa,EAAEhB,EAAEG,IAAI,GAAGX,EAAEQ,EAAEG,IAAI,GAAGV,EAAEO,EAAEG,IAAI,GAAGR,EAAE,sBAAsBM,KAAKgkB,kBAAkBlI,KAAK,QAAQ,SAAS,GAAG9b,KAAKwiB,mBAAmBmC,yBAAyB,OAAO3kB,KAAKwiB,mBAAmBmC,yBAAyBllB,EAAEsB,EAAExB,EAAEC,EAAEQ,KAAKqiB,SAAS3iB,GAAG,MAAMmB,EAAEb,KAAKwiB,mBAAmBoC,aAAanlB,EAAEsB,EAAExB,EAAES,KAAKqiB,SAAS3iB,GAAG,OAAOG,YAAEgB,GAAG,CAACR,IAAIQ,EAAEP,IAAIO,GAAG,IAAI,CAACgkB,aAAajlB,GAAG,MAAMC,EAAED,EAAEO,UAAU,OAAOoW,YAAE1W,KAAKmE,aAAEnE,EAAED,EAAEM,KAAKF,KAAKgkB,mBAAmBnkB,EAAE,GAAG6R,KAAI1R,KAAK0jB,UAAUre,EAAExF,EAAE,GAAGG,KAAK0jB,UAAUlL,EAAE3Y,EAAE,GAAGG,KAAK0jB,UAAUoB,EAAEjlB,EAAE,GAAGA,EAAE,GAAGiK,aAAE9J,KAAK0jB,UAAU1jB,KAAKwiB,mBAAmBxiB,KAAKgkB,kBAAkBhkB,KAAKsiB,sBAAsBthB,YAAEnB,EAAEG,KAAKqiB,SAASxiB,EAAEG,KAAKyjB,WAAW5jB,CAAC,CAACklB,iBAAiBhlB,GAAG,GAAGF,YAAEE,EAAE8V,eAAe,OAAO9V,EAAE8V,cAAc,MAAMpW,EAAEM,EAAE6V,WAAW7U,EAAE,IAAIf,KAAK8jB,wBAAwB,OAAOlkB,YAAEH,KAAK6J,YAAE7J,IAAIO,KAAK2jB,uBAAuBlkB,EAAEqV,SAAS+F,MAAMjb,GAAGA,EAAEmB,IAAI,MAAMhB,EAAE0W,qBAAqBzW,KAAKglB,kBAAkBvlB,EAAEM,EAAE0W,qBAAqB1W,EAAEG,IAAI,GAAGH,EAAEK,gBAAgBL,EAAE0W,qBAAqB,CAACuO,kBAAkBjlB,EAAEN,EAAEsB,EAAExB,GAAG,GAAGK,YAAEH,GAAGA,EAAEygB,mBAAS,GAAG5W,YAAE7J,GAAG,OAAOA,EAAE,IAAID,EAAE,EAAEE,EAAE,EAAE,GAAGM,KAAKgkB,mBAAmBnkB,YAAEN,IAAI6R,OAAO6T,SAAS1lB,EAAEc,KAAK,OAAOL,KAAKgkB,kBAAkBlI,MAAM,IAAI,qBAAqBtc,EAAEQ,KAAKgkB,kBAAkBkB,oBAAoBnlB,EAAE8U,OAAO,GAAG7U,KAAKsiB,qBAAqB/iB,EAAEc,IAAIN,EAAE8U,OAAO,GAAGnV,EAAEH,EAAEe,IAAIf,EAAEc,IAAI,MAAM,IAAI,gBAAgBb,EAAED,EAAEc,IAAIN,EAAE8U,OAAO,GAAGnV,EAAEH,EAAEe,IAAIf,EAAEc,SAASL,KAAKgkB,mBAAmBjjB,EAAE2Q,KAAI1R,KAAK0jB,UAAUre,EAAEtF,EAAE8U,OAAO,GAAG7U,KAAK0jB,UAAUlL,EAAEzY,EAAE8U,OAAO,GAAG7U,KAAK0jB,UAAUoB,EAAE/kB,EAAE8U,OAAO,GAAGrV,EAAEsK,aAAE9J,KAAK0jB,UAAU1jB,KAAKwiB,mBAAmBxiB,KAAKgkB,kBAAkBhkB,KAAKsiB,qBAAqBviB,EAAE8U,OAAO,IAAI,OAAOnV,EAAE,GAAG+Y,YAAE1Y,EAAEC,KAAKqiB,SAASriB,KAAK+iB,QAAQ/iB,KAAKyjB,SAASjkB,GAAG6W,YAAErW,KAAK+iB,QAAQ,EAAErjB,EAAEM,KAAKyiB,aAAahjB,IAAIgZ,YAAE1Y,EAAEC,KAAKqiB,SAAS5iB,EAAEO,KAAKyjB,SAASjkB,GAAGC,CAAC,CAACkY,cAAc/X,GAAG,MAAMG,EAAEC,KAAK6kB,aAAajlB,GAAG,IAAII,KAAKmlB,qBAAqBplB,GAAG,OAAM,EAAG,IAAIC,KAAK2iB,mBAAmB,OAAM,EAAG,MAAMljB,EAAEO,KAAK+kB,iBAAiBnlB,GAAG,OAAOC,YAAEJ,GAAG+Y,YAAE/Y,EAAEO,KAAK0iB,UAAUjd,aAAEzF,KAAK0iB,SAASrd,aAAEtF,GAAG,CAAC6X,kBAAkBhY,GAAG,IAAII,KAAK2iB,mBAAmB,OAAM,EAAG,MAAM5iB,EAAEH,EAAEoX,YAAY,OAAOnX,YAAEE,GAAGyY,YAAEzY,EAAEC,KAAK0iB,UAAU1iB,KAAK2X,cAAc/X,EAAE,CAACulB,qBAAqBtlB,GAAG,QAAQD,YAAEI,KAAKuiB,gBAAgB5C,YAAE3f,KAAKuiB,cAAc1iB,KAAKwG,IAAE+e,OAAO,CAACC,wBAAwBzlB,EAAEC,GAAG,MAAMJ,EAAEO,KAAK6kB,aAAajlB,GAAGmB,EAAEkV,KAAKiG,KAAKnc,YAAEN,EAAEO,KAAKukB,UAAUhlB,EAAEwB,EAAEtB,EAAE,GAAG,OAAOO,KAAKslB,sBAAsBvkB,GAAGxB,EAAE,EAAE,GAAG6R,OAAOmU,UAAU1lB,EAAEN,EAAES,KAAKqkB,iBAAiB,CAACmB,mBAAmB5lB,GAAG,OAAOI,KAAKylB,2BAA2B7lB,GAAGI,KAAK6kB,aAAajlB,GAAG,EAAE,CAAC6lB,2BAA2B7lB,GAAG,MAAMC,EAAEG,KAAK6kB,aAAajlB,GAAGG,EAAEN,YAAEI,EAAEG,KAAKukB,SAAS,OAAOvkB,KAAKslB,sBAAsBvlB,GAAGA,CAAC,CAAC2lB,sBAAsB9lB,GAAG,MAAMC,EAAEG,KAAK6kB,aAAajlB,GAAGG,EAAEF,EAAE,GAAGN,GAAG0W,KAAK0P,IAAI9lB,EAAE,IAAIA,EAAE,GAAGG,KAAKukB,QAAQ,IAAI1kB,EAAE,IAAIA,EAAE,GAAGG,KAAKukB,QAAQ,IAAI1kB,EAAE,IAAIA,EAAE,GAAGG,KAAKukB,QAAQ,KAAKxjB,YAAElB,GAAGE,GAAGN,YAAEI,EAAEG,KAAKukB,SAAS,OAAOtO,KAAK5V,IAAI,EAAEd,EAAE,CAACib,OAAO5a,GAAG,OAAOA,EAAE2B,YAAY8H,IAAElH,IAAI,CAACyjB,uBAAuBhmB,EAAEC,GAAG,MAAME,EAAEH,EAAE,GAAGC,EAAE,GAAGJ,EAAEG,EAAE,GAAGC,EAAE,GAAGkB,EAAEnB,EAAE,GAAGC,EAAE,GAAGN,EAAEQ,EAAEA,EAAEN,EAAEA,EAAED,EAAEK,EAAE,GAAG,GAAGN,GAAGC,EAAEA,EAAE,OAAOyW,KAAK0P,IAAI5kB,GAAG,MAAMrB,EAAEuW,KAAKiG,KAAK3c,GAAGC,EAAE,OAAOyW,KAAKiG,KAAKnb,EAAEA,EAAErB,EAAEA,EAAE,CAACmmB,sBAAsBjmB,EAAEC,GAAG,MAAM6E,EAAE3D,YAAElB,GAAGmE,EAAEjD,YAAEnB,GAAG8E,EAAEnF,YAAES,KAAKmjB,MAAMvjB,EAAEJ,YAAEI,EAAEC,GAAGH,YAAEE,IAAI,MAAMoB,EAAEjB,YAAEF,EAAEG,KAAKmjB,OAAOzT,EAAE7P,EAAE,GAAG,GAAGmB,GAAG0O,EAAEA,EAAE,OAAOuG,KAAK0P,IAAI3hB,GAAG,CAAC,MAAMjE,EAAER,YAAES,KAAKmjB,MAAMtjB,EAAE,EAAE6E,GAAGhF,EAAEgF,EAAE1D,EAAE0O,EAAEA,EAAE,EAAEhQ,EAAE8E,EAAEjF,YAAES,KAAKgjB,MAAMjjB,EAAEL,EAAEsB,GAAGF,EAAElB,EAAEsF,EAAErE,YAAEb,KAAKijB,MAAMniB,EAAE0D,GAAGiB,EAAE5E,YAAEb,KAAKijB,MAAM/d,EAAE3F,YAAES,KAAKkjB,MAAMnjB,EAAEP,YAAEO,EAAEmF,KAAKyP,EAAEhV,YAAEK,KAAKijB,MAAMze,EAAEjF,YAAES,KAAKijB,MAAMxd,EAAEiK,EAAE3O,YAAE0E,KAAK,IAAIJ,EAAE5F,YAAEqB,EAAE6T,GAAG,GAAG3Q,GAAG,IAAI,CAAC,MAAMpE,EAAEiB,YAAEb,KAAKgjB,MAAMliB,EAAE6T,GAAG,IAAI9U,EAAEL,YAAEI,EAAEG,GAAGgB,YAAEnB,GAAGC,EAAE,MAAMA,EAAE,MAAMwF,GAAGxF,CAAC,CAAC,OAAOwF,CAAC,CAAC,CAACygB,aAAalmB,EAAEC,GAAG,OAAOG,KAAKyjB,WAAWjf,aAAExE,KAAKyjB,UAAUzjB,KAAK6lB,sBAAsBjmB,EAAEC,GAAGG,KAAK4lB,uBAAuBhmB,EAAEC,EAAE,CAACylB,sBAAsB1lB,GAAGA,EAAE,GAAGI,KAAK6iB,YAAY5M,KAAK5V,IAAIL,KAAK6iB,YAAYjjB,GAAGI,KAAK8iB,YAAY7M,KAAK3V,IAAIN,KAAK8iB,YAAYljB,KAAKI,KAAK6iB,YAAY,EAAE7iB,KAAK8iB,YAAY7M,KAAK3V,IAAIN,KAAK8iB,aAAaljB,GAAG,CAAC2a,YAAY3a,GAAG,GAAGA,EAAE2B,YAAY8H,IAAElH,KAAK,OAAO,EAAE,GAAG,IAAIvC,EAAEuB,WAAW,OAAOnB,KAAKkT,YAAY,GAAGlT,KAAK2iB,oBAAoB3iB,KAAKsjB,uBAAuB,EAAE,CAAC,MAAMzjB,EAAEG,KAAKsjB,uBAAuBtjB,KAAKojB,sBAAsBrjB,EAAEC,KAAKojB,sBAAsB,OAAOpjB,KAAK+lB,kBAAkBnmB,EAAEC,GAAGG,KAAK+lB,kBAAkBnmB,EAAEG,GAAG,EAAE,EAAE,CAAC,CAAC,OAAOC,KAAK+lB,kBAAkBnmB,EAAEI,KAAKojB,uBAAuBpjB,KAAKkT,YAAY,CAAC,CAAC6S,kBAAkBnmB,EAAEC,GAAG,OAAOD,EAAE2B,WAAW,KAAK8H,IAAEhH,oBAAoB,CAAC,MAAMtC,EAAEC,KAAK6kB,aAAajlB,GAAGH,EAAEO,KAAK8lB,aAAa9lB,KAAKukB,QAAQxkB,GAAGgB,EAAE,EAAEtB,EAAEO,KAAKqkB,kBAAkB9kB,EAAEE,EAAEM,EAAE,GAAG,OAAOC,KAAKslB,sBAAsB/lB,GAAGK,EAAE4B,SAAS3B,GAAGkB,CAAC,CAAC,KAAKsI,IAAEjH,mBAAmB,CAAC,IAAIrC,EAAEC,KAAKqlB,wBAAwBzlB,EAAEA,EAAEM,IAAI,GAAGL,GAAG,OAAOG,KAAK+d,SAASiI,oBAAoBjmB,GAAGC,KAAK0lB,sBAAsB9lB,IAAIG,EAAEH,EAAE4B,QAAQ,CAAC,KAAK6H,IAAE/G,uBAAuB,OAAOtC,KAAKqlB,wBAAwBzlB,EAAEA,EAAE4B,UAAU3B,EAAE,GAAG,KAAKwJ,IAAE9G,+BAA+B,OAAOvC,KAAKwlB,mBAAmB5lB,GAAGA,EAAE4B,SAAS3B,EAAE,OAAM,CAAE,CAACsb,UAAUvb,GAAG,MAAMC,EAAEG,KAAK6kB,aAAajlB,GAAG,OAAOH,YAAEI,EAAEG,KAAK4iB,MAAM/iB,EAAE,EAAE,CAAComB,kBAAkB,OAAOxmB,YAAEO,KAAKukB,QAAQvkB,KAAK4iB,KAAK,E,kCCAprK,MAAMjD,GAAE,yDAAyDuG,GAAEzmB,IAAE0mB,UAAUxG,IAAmBpW,GAAE,KAAuB,IAAI6c,GAAE,cAAc5mB,YAAEK,MAAIC,YAAYF,GAAGqB,MAAMrB,GAAGI,KAAKqmB,iBAAiB,EAAErmB,KAAKsmB,cAAc,IAAItmB,KAAKumB,oBAAmB,EAAGvmB,KAAKwmB,UAAS,EAAGxmB,KAAKymB,iBAAiB,EAAEzmB,KAAK+R,eAAc,EAAG/R,KAAK0mB,wBAAuB,EAAG1mB,KAAK2mB,YAAY,EAAE3mB,KAAK4mB,mBAAkB,EAAG5mB,KAAK6mB,SAAQ,EAAG7mB,KAAK8mB,cAAa,EAAG9mB,KAAK+mB,iBAAgB,EAAG/mB,KAAKgnB,iBAAiB,IAAIlmB,IAAE,CAACoR,YAAY,OAAOlS,KAAKinB,kBAAkB,IAAIhjB,IAAIjE,KAAKknB,iCAAiC,IAAIpmB,IAAEd,KAAKmnB,kBAAkB,EAAEnnB,KAAKonB,cAAc,IAAInjB,IAAIjE,KAAKqnB,eAAe,IAAIpjB,IAAIjE,KAAKsnB,qBAAqB,EAAEtnB,KAAK8d,oBAAoB,IAAItV,MAAMxI,KAAKunB,0BAAyB,EAAGvnB,KAAKwnB,kBAAiB,EAAGxnB,KAAKynB,iBAAgB,EAAGznB,KAAK0nB,kBAAiB,EAAG1nB,KAAK2nB,qBAAoB,EAAG3nB,KAAK4nB,QAAQ,KAAK5nB,KAAK6nB,sBAAsB,KAAK7nB,KAAK8nB,SAAS,IAAI/nB,IAAEC,KAAK+nB,WAAW,IAAI1iB,IAAErF,KAAKgoB,sBAAsB,IAAIlnB,IAAE,CAACoR,YAAY,OAAOlS,KAAKioB,YAAY,CAAC,CAAKC,oBAAgB,MAAM,kBAAkBloB,KAAKmM,MAAMgc,SAAS,gBAAgBnoB,KAAKmM,MAAMic,MAAMC,OAAO,CAAKC,mBAAe,MAAM,WAAWtoB,KAAKmM,MAAMgc,OAAO,CAAKI,iCAA6B,OAAOvoB,KAAKkoB,gBAAgBnnB,YAAEf,KAAKmM,MAAM6C,WAAW,SAAShP,KAAKmM,MAAM6C,SAAS,CAAKwZ,4BAAwB,MAAM5oB,EAAEI,KAAKyoB,UAAU7b,KAAKoQ,mBAAmB0L,0BAA0BjQ,KAAEkQ,WAAW,OAAO,IAAItS,GAAEzW,EAAEI,KAAKmM,MAAMyc,OAAO,CAAKC,2BAAuB,MAAMjpB,EAAEI,KAAKyoB,UAAU7b,KAAKoQ,mBAAmB0L,0BAA0BjQ,KAAEqQ,UAAU,OAAO,IAAIzS,GAAEzW,EAAEI,KAAKmM,MAAMyc,OAAO,CAAKG,gBAAY,OAAO5d,YAAEnL,KAAKmM,MAAM,CAAK6c,eAAW,OAAOtX,YAAE1R,KAAKmM,MAAM,CAAKA,YAAQ,OAAOnM,KAAKyoB,UAAUQ,QAAQ,CAAKC,sBAAkB,GAAGxpB,YAAEM,KAAKuc,QAAQ,CAAC,MAAM3c,EAAEI,KAAKuc,OAAOxI,SAAS,GAAGrU,YAAEE,GAAG,OAAOI,KAAKmpB,kBAAkBnpB,KAAKuc,OAAO5E,cAAc/X,EAAEsB,MAAM,CAAC,OAAM,CAAE,CAAKA,YAAQ,OAAOlB,KAAKuc,MAAM,CAACrQ,aAAa,MAAMuc,UAAU7oB,EAAEuM,MAAMtM,GAAGG,KAAKA,KAAK0nB,kBAAkB9nB,EAAEwpB,oBAAoBxpB,EAAEypB,iBAAiBrpB,KAAKspB,aAAa,IAAI3U,EAAE/U,GAAGI,KAAK6d,uBAAuBhe,EAAEuoB,MAAMmB,sBAAsBvpB,KAAKynB,gBAAgBvjB,YAAI,6BAA6B,WAAWrE,IAAIG,KAAK4nB,QAAQ/nB,EAAE2pB,OAAOxpB,KAAK6nB,sBAAsBhoB,EAAE6e,sBAAsB1e,KAAKsM,oBAAoBrB,QAAQC,IAAI,CAACrL,EAAE4pB,UAAU5pB,EAAE6pB,OAAO9pB,EAAE8pB,SAAS/d,MAAM,EAAE5L,MAAM,GAAGC,KAAK2pB,YAAY/pB,GAAGA,EAAE+pB,UAAU,OAAO,MAAM/c,KAAKnN,GAAGG,GAAGod,mBAAmBjc,GAAGtB,EAAEO,KAAK4pB,iBAAiBnqB,EAAEoqB,cAAc7pB,KAAK8pB,WAAW,CAACjpB,aAAG,oBAAK,MAADpB,GAAmB,OAAlB,EAADA,EAAGsqB,mBAAuB,OAAP,EAAnB,EAAqBC,YAApB,EAAD,EAA4BC,cAAc,IAAGrqB,GAAGI,KAAKkqB,wBAAwBtqB,IAAIoB,KAAGH,aAAG,IAAIE,EAAEkc,iBAAiBkN,eAAe,IAAInqB,KAAKoqB,mBAAmB5lB,KAAG3D,aAAG,IAAIjB,EAAEyqB,YAAYzqB,IAAI,MAAMC,EAAED,EAAE,IAAII,KAAKmpB,kBAAkB,IAAInpB,KAAKsqB,kBAAiB,GAAIvqB,EAAEH,EAAE,OAAO,IAAII,KAAKsqB,kBAAiB,IAAK1qB,GAAGF,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOR,+BAA+B/b,KAAKuqB,qBAAqB3qB,GAAGI,KAAKwqB,oBAAoBxqB,KAAKyqB,qBAAqBzqB,KAAKuqB,oBAAoBG,UAAU7qB,EAAEG,KAAKuqB,oBAAoBI,QAAQ5qB,GAAGC,KAAKuqB,oBAAoBxpB,EAAE6pB,UAAUC,2BAA2BhrB,EAAEE,EAAE,GAAGiB,KAAGyE,EAAE7F,EAAEgN,KAAKoQ,mBAAmB4N,UAAU,CAAC3b,OAAO,CAACrP,EAAEC,IAAIG,KAAK8qB,OAAOlrB,EAAEC,GAAG6O,YAAY,IAAI1O,KAAKwmB,WAAW3lB,aAAG,IAAIjB,EAAEyhB,yCAAyC,IAAIrhB,KAAKyqB,uBAAuB5pB,aAAG,IAAI,CAACb,KAAKsmB,cAActmB,KAAKumB,sBAAsB,KAAKvmB,KAAKoqB,kBAAkBpqB,KAAK4mB,mBAAkB,CAAE,IAAI/lB,aAAG,kBAAW,OAAX,EAAIpB,EAAEsrB,YAAK,EAAP,EAASC,aAAa,IAAG,IAAIhrB,KAAKoqB,oBAAoBvpB,aAAG,IAAIhB,EAAEorB,gBAAgBrrB,GAAGI,KAAKkrB,sBAAsBtrB,KAAKiB,aAAG,IAAIhB,EAAEsrB,sBAAsB,IAAInrB,KAAKorB,wBAAwBvqB,aAAG,IAAIjB,EAAEyrB,YAAY,IAAIrrB,KAAKoqB,oBAAoBvpB,aAAG,IAAIjB,EAAE0rB,kBAAkB,IAAItrB,KAAKurB,0BAA0B1qB,aAAG,IAAIjB,EAAEkQ,cAAclQ,GAAGF,YAAEM,KAAKuc,UAAUvc,KAAKuc,OAAOzM,YAAYlQ,OAAOI,KAAKwrB,sBAAsBxrB,KAAK4P,iBAAiB,IAAIuP,GAAEnf,KAAKgpB,SAASvpB,EAAEgsB,mBAAmBhsB,EAAEsrB,MAAMC,eAAevrB,EAAEsrB,MAAMW,oBAAoB1rB,KAAKsoB,aAAatoB,KAAKuiB,cAAcviB,KAAKkoB,cAAczoB,EAAEksB,eAAelsB,EAAEmsB,kBAAkBhlB,YAAEnH,EAAEosB,aAAa7rB,KAAKmM,MAAM8e,cAAc,CAAC1H,sBAAsBvjB,KAAK8rB,4BAA4BzI,qBAAqBrjB,KAAK+rB,KAAK/F,kBAAkBhmB,KAAK+rB,KAAK,KAAK/rB,KAAKuc,OAAO,IAAIlK,EAAExS,EAAEE,EAAEC,KAAKwoB,sBAAsBxoB,KAAK4P,iBAAiBsW,GAAEtmB,EAAEkQ,aAAajQ,GAAGD,EAAE2d,aAAa1d,KAAKA,GAAGD,EAAEge,gBAAgB/d,KAAKD,GAAGI,KAAKgsB,gBAAgBpsB,KAAKA,GAAGI,KAAKisB,oBAAoBrsB,EAAEoK,IAAEvH,QAAQ7C,GAAGI,KAAKmQ,aAAavQ,KAAK,KAAKI,KAAKwoB,sBAAsB7G,OAAO9hB,GAAGD,EAAEssB,qBAAqBtsB,EAAEssB,qBAAqBrsB,GAAG,MAAO,MAADD,KAAGusB,qBAAqBtsB,GAAGD,EAAEusB,qBAAqBtsB,QAAG,GAAQG,KAAKuc,OAAOV,oBAAoB7b,KAAKmM,MAAM8e,cAAcjrB,KAAKkoB,eAAeloB,KAAKuc,OAAOlE,yBAAyBzY,EAAEmC,kBAAkB/B,KAAKosB,mBAAmB,KAAKpsB,KAAK0jB,UAAUlL,YAAE,EAAE,EAAE,EAAExY,KAAKgpB,SAAS,CAACqD,6BAA6BzsB,GAAG,MAAMC,EAAEG,KAAKuc,OAAOxc,EAAEC,KAAKyoB,UAAU/oB,YAAEG,KAAK,MAADE,OAAC,EAADA,EAAGssB,gCAA+BrsB,KAAKknB,iCAAiC/Z,QAAQvN,EAAE0sB,QAAQ1sB,IAAI,MAAMG,EAAEF,EAAEkW,QAAQnW,GAAGF,YAAEK,IAAIC,KAAKknB,iCAAiCrgB,KAAK9G,EAAE,IAAIA,EAAEssB,6BAA6BrsB,KAAKknB,kCAAkClnB,KAAK+mB,iBAAgB,EAAG,CAACvY,UAAUxO,KAAKwqB,oBAAoBxqB,KAAKuqB,sBAAsBvqB,KAAK6mB,SAAQ,EAAG7mB,KAAKuqB,oBAAoBpb,SAASnP,KAAKuqB,oBAAoB,MAAMvqB,KAAK8nB,SAAStZ,UAAUxO,KAAKusB,YAAY,KAAKC,GAAErU,QAAQzY,YAAE+sB,MAAKA,GAAEC,OAAOD,GAAE,KAAK,CAACE,yBAAyB,GAAG,MAAM3sB,KAAK6nB,wBAAwB7nB,KAAK4nB,UAAU5nB,KAAKyoB,UAAU6C,gBAAgB,MAAM,GAAG,MAAM1rB,EAAEI,KAAK6nB,sBAAsBhoB,EAAEG,KAAK4nB,QAAQ7nB,EAAEC,KAAKmM,MAAMygB,cAAc,OAAO5sB,KAAKyoB,UAAU6C,gBAAgB9kB,KAAKzG,IAAI,MAAMN,EAAEotB,GAAEjtB,EAAEG,GAAGgB,EAAE8rB,GAAEhtB,EAAEE,GAAG,OAAON,GAAG,GAAGsB,GAAG,EAAE,CAACG,MAAMzB,EAAEgH,KAAK5G,EAAEkB,GAAG0F,KAAKqmB,MAAMjtB,EAAEkB,GAAG2d,qBAAqB9e,EAAEH,IAAI,IAAI,IAAIoO,QAAQjO,GAAG,MAAMA,GAAGA,EAAE6G,OAAO1G,GAAG,CAACwrB,wBAAwB,MAAM3rB,EAAEI,KAAK2sB,yBAAyBrN,GAAEtf,KAAK8d,oBAAoBle,KAAKI,KAAK8d,oBAAoBle,EAAEI,KAAKunB,0BAAyB,EAAGvnB,KAAKyqB,qBAAqB,CAACrS,gBAAgBpY,KAAKunB,0BAAyB,EAAGvnB,KAAKyqB,oBAAoB,CAACb,iBAAiBhqB,GAAG,MAAMC,EAAEqF,cAAIoE,aAAE1J,EAAEC,EAAEG,KAAKyoB,UAAU7b,KAAKmgB,wBAAwB/sB,KAAKuiB,cAAc1iB,EAAEG,KAAKuiB,cAAc,IAAI,CAAC2H,wBAAwBtqB,GAAGF,YAAEM,KAAK4P,oBAAoB5P,KAAK4P,iBAAiB6U,mBAAmB7kB,GAAGF,YAAEM,KAAKuc,UAAUvc,KAAKuc,OAAO/J,uBAAuBwa,GAAEC,gBAAgBjtB,KAAK4P,iBAAiBqW,kBAAkBjmB,KAAKuc,OAAOnE,iBAAiB,CAACsM,mBAAmB9kB,GAAGI,KAAK4pB,iBAAiBhqB,GAAGF,YAAEM,KAAK4P,mBAAmBlQ,YAAEM,KAAKuc,UAAUvc,KAAK4P,iBAAiB8U,mBAAmB1kB,KAAKuiB,eAAeviB,KAAKuc,OAAOtF,6BAA6BjX,KAAKoqB,iBAAiB,CAACA,kBAAkBpqB,KAAK8mB,cAAa,EAAG9mB,KAAKspB,aAAazM,oBAAoB7c,KAAKktB,mBAAmB,CAAC7V,uBAAuBzX,EAAEC,GAAG,MAAME,EAAEC,KAAKuc,OAAO,GAAGxb,YAAEhB,IAAIgB,YAAEhB,EAAEgU,WAAWhT,YAAElB,GAAG,OAAO,KAAKG,KAAKgpB,SAASmE,OAAOttB,KAAKmE,YAAEpE,EAAEC,EAAEutB,GAAEptB,KAAKgpB,UAAUppB,EAAEwtB,IAAG,MAAM3tB,EAAEO,KAAKgoB,sBAAsB,OAAOvoB,EAAE0N,QAAQoG,YAAE3T,EAAEG,EAAEgU,SAAShU,GAAGH,GAAGH,EAAEoH,KAAKjH,EAAEsB,SAASzB,EAAE4I,SAAS5I,EAAE6sB,QAAQ1sB,GAAGG,EAAEsX,uBAAuBzX,KAAKI,KAAKoqB,mBAAmB3qB,CAAC,CAACoX,eAAejX,GAAG,OAAOF,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAO1F,eAAejX,EAAE,CAACmX,wBAAwBrX,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOxF,uBAAuB,CAAC8N,aAAajlB,GAAG,OAAOF,YAAEM,KAAK4P,kBAAkB5P,KAAK4P,iBAAiBiV,aAAajlB,GAAG,IAAI,CAACsrB,sBAAsBtrB,GAAGmB,YAAEf,KAAKuc,UAAUvc,KAAKuc,OAAOV,oBAAoBjc,EAAEI,KAAKkoB,eAAeloB,KAAKoqB,kBAAkB,CAACoB,sBAAsB,MAAM5rB,EAAE,eAAeI,KAAK8nB,SAAS3Y,OAAOvP,GAAGI,KAAKqtB,uBAAuBrtB,KAAK8nB,SAASna,IAAI3N,KAAKyoB,UAAU7b,KAAK+e,eAAe2B,GAAG,gBAAgB1tB,GAAGI,KAAKutB,oBAAoB3tB,KAAKA,EAAE,CAACwrB,sBAAsBprB,KAAKqtB,uBAAuBrtB,KAAKinB,kBAAkB9Z,QAAQnN,KAAKwrB,sBAAsBxrB,KAAKoqB,iBAAiB,CAACmD,oBAAoB3tB,GAAGI,KAAKwtB,2BAA2B5tB,EAAE6tB,OAAO7tB,EAAE+M,kBAAkB3M,KAAKoqB,iBAAiB,CAACoD,2BAA2B5tB,EAAEC,GAAG,MAAME,EAAEC,KAAKuc,OAAO,GAAGxb,YAAEhB,GAAG,OAAO,MAAMN,EAAEM,EAAEgU,UAAUhT,YAAEtB,IAAIuE,YAAEpE,EAAEC,EAAEutB,GAAEptB,KAAKgpB,WAAWhpB,KAAKinB,kBAAkB3gB,SAAS,CAAC1G,EAAEC,KAAK,MAAMJ,EAAEM,EAAEgW,QAAQlW,GAAGH,YAAED,IAAIiF,YAAE0oB,GAAE3tB,EAAES,MAAMF,KAAKinB,kBAAkB3iB,IAAIzE,EAAEG,KAAK0tB,cAAcjuB,GAAG,GAAG,CAACgrB,qBAAqBzqB,KAAK2nB,qBAAoB,EAAG3nB,KAAKwqB,oBAAoBxqB,KAAKktB,mBAAmB,CAACS,SAAS/tB,EAAEC,GAAG,OAAOG,KAAK+nB,WAAWlhB,KAAKjH,EAAEC,EAAE,CAAC+tB,WAAWhuB,EAAEC,GAAG,OAAOG,KAAK+nB,WAAW7Y,QAAQtP,EAAEC,EAAE,CAAKguB,wBAAoB,MAAM,oBAAoB7tB,KAAKmM,MAAMH,IAAI,CAAKqhB,4BAAwB,MAAMS,SAASluB,EAAEmuB,SAASluB,GAAGiK,aAAE9J,KAAKmM,OAAO,OAAOnM,KAAK0mB,yBAAyB9mB,EAAE,GAAGC,EAAE,EAAE,CAAKqa,6BAAyB,OAAOnZ,YAAEf,KAAKuc,SAASvc,KAAKyoB,UAAU4B,UAAU,EAAErqB,KAAKuc,OAAOrC,uBAAuBla,KAAKguB,cAAc,CAAKC,iBAAa,OAAOvuB,YAAEM,KAAKuc,QAAQvc,KAAKuc,OAAOtE,SAAS,CAAC,CAAKiW,oBAAgBtuB,GAAGI,KAAKyoB,UAAUW,mBAAmBppB,KAAKyoB,UAAUY,mBAAmBrpB,KAAK0nB,kBAAiB,GAAI1nB,KAAK0nB,iBAAiB9nB,CAAC,CAACkrB,OAAOlrB,EAAEC,GAAG,OAAOG,KAAKyoB,UAAU4B,WAAWrqB,KAAKmpB,kBAAkBnpB,KAAKktB,qBAAoB,MAAOltB,KAAKyoB,UAAU0F,SAASptB,YAAEf,KAAKuc,SAAQ,KAAMvc,KAAKouB,yBAAyBxuB,EAAEC,GAAGG,KAAKuc,OAAOlC,YAAY,CAAC+T,yBAAyBxuB,EAAEC,GAAG,IAAIG,KAAKquB,SAASzuB,EAAEC,EAAiM,CAA9L,MAAME,GAAGC,KAAKioB,YAAY,GAAG/B,GAAE3R,MAAM,4BAA4BxU,GAAG,KAAKC,KAAKioB,aAAa/B,GAAE3R,MAAM,yEAAyEvU,KAAKioB,aAAa,CAAC,CAACoG,SAASzuB,EAAEC,GAAGG,KAAK2nB,qBAAqB3nB,KAAKosB,oBAAoB,MAAMpsB,KAAKusB,aAAaxrB,YAAEf,KAAKuc,UAAUvc,KAAKmpB,kBAAkBnpB,KAAK+mB,iBAAiB/mB,KAAKsuB,sBAAsB1uB,KAAKI,KAAK+mB,iBAAgB,GAAI/mB,KAAK6tB,oBAAoBjuB,EAAE2uB,SAAQ,GAAI3uB,EAAE4uB,KAAK,IAAIxuB,KAAKyuB,cAAc7uB,KAAKI,KAAK0uB,oBAAoB9uB,EAAE4uB,KAAK,IAAIxuB,KAAK2uB,cAAc/uB,KAAKI,KAAK6tB,oBAAoBjuB,EAAE2uB,SAAQ,GAAI3uB,EAAE4uB,KAAK,IAAIxuB,KAAK4uB,cAAchvB,EAAEC,KAAKG,KAAK+nB,WAAWpZ,QAAQ/O,GAAGA,EAAE4uB,KAAK,IAAIxuB,KAAK6uB,mBAAmBhvB,EAAEgP,iBAAiB7O,KAAKuc,OAAOvC,aAAana,EAAEiP,iBAAiB9O,KAAKmnB,kBAAkBvnB,EAAE4uB,KAAK,IAAIxuB,KAAKspB,aAAavM,kBAAkBnd,KAAKI,KAAKktB,oBAAoB,CAACuB,cAAc7uB,GAAG,GAAGmB,YAAEf,KAAKuc,QAAQ,OAAM,EAAG,GAAGvc,KAAKuc,OAAOrE,MAAM,CAAClY,KAAKgnB,iBAAiB7Z,QAAQnN,KAAKuc,OAAOtN,OAAOzG,MAAMsmB,KAAK9uB,KAAKonB,cAAcxf,QAAQhI,GAAGA,GAAGI,KAAKqsB,6BAA6BzsB,KAAKI,KAAK0nB,mBAAmB1nB,KAAKgnB,iBAAiB+H,UAAU/uB,KAAKuc,OAAOpC,QAAQxM,IAAIhF,KAAK3I,KAAKuc,OAAOpC,QAAQxM,IAAItF,QAAQrI,KAAKgnB,iBAAiB+H,UAAU/uB,KAAKuc,OAAOpC,QAAQnB,QAAQrQ,KAAK3I,KAAKuc,OAAOpC,QAAQnB,QAAQ3Q,SAAS,MAAMxI,EAAEG,KAAKuc,OAAOnC,gBAAgBrI,cAAc/R,KAAKuc,OAAOzC,WAAWja,IAAIG,KAAKgvB,KAAK,kBAAkBhvB,KAAKyM,KAAK,gBAAgB5M,EAAE,CAAC,OAAOG,KAAKuc,OAAO7C,MAAM,CAACmV,iBAAiB,QAAQ9tB,YAAEf,KAAKuc,SAASvc,KAAKonB,cAAc/iB,KAAK,GAAGrE,KAAKuc,OAAOpC,QAAQxM,IAAItF,OAAO,IAAIrI,KAAKuc,OAAO3C,UAAU,CAAC8U,oBAAoB,IAAI1uB,KAAKuoB,4BAA4BxnB,YAAEf,KAAKuc,SAASxb,YAAEf,KAAK4P,kBAAkB,OAAO,MAAMhQ,GAAGI,KAAKuc,OAAOzC,UAAUja,EAAEG,KAAKsmB,cAActmB,KAAKivB,SAASlvB,EAAEC,KAAKuc,OAAOnC,gBAAgB,GAAGra,EAAE+R,SAAS/R,EAAE+R,UAAUjS,EAAE,EAAEG,KAAKuc,OAAOtC,aAAj1U,IAAg2U,CAAC,GAAGja,KAAK2mB,aAAapd,GAAE,OAAOvJ,KAAK2mB,aAA93U,IAA64U3mB,KAAK4mB,mBAAkB,CAAE,MAAM,GAAGhnB,GAAGG,EAAE+R,SAASjS,EAAE,CAAC,GAAGE,EAAEgS,eAAe/R,KAAK2mB,aAAl/U,KAAkgV3mB,KAAK4mB,kBAAkB,OAAO,MAAMhnB,EAAEqW,KAAK5V,IAAI,GAAG4V,KAAK3V,IAAIT,EAAEE,EAAE+R,SAAS,QAAQ9R,KAAK2mB,aAAa/mB,EAAE,MAAMH,EAAEO,KAAK+rB,KAAKhrB,EAAEf,KAAKuc,OAAOhD,mBAAmB1Z,EAAEJ,GAAGsB,IAAItB,IAAIO,KAAK2mB,YAAY5lB,EAAEf,KAAKivB,SAASjvB,KAAK4mB,mBAAkB,EAAG,KAAK,CAAC,KAAK7mB,EAAE+R,SAAjuV,IAA0uVjS,GAAKD,GAAGG,EAAE+R,SAASjS,GAAG,OAAO,GAAGG,KAAK2mB,aAAapd,GAAE,OAAOvJ,KAAK2mB,aAAa,EAAE,KAAK5mB,EAAE+R,SAASjS,EAAE,GAAGG,KAAK4mB,mBAAkB,CAAE,CAAC5mB,KAAK2mB,YAAY1Q,KAAK5V,IAA34V,IAAi5V4V,KAAK3V,IAAIiJ,GAAEvJ,KAAK2mB,cAAc3mB,KAAK4P,iBAAiB4J,2BAA2BxZ,KAAK+rB,MAAM/rB,KAAKuc,OAAOnE,eAAe,CAACuW,cAAc/uB,GAAG,MAAMC,EAAEG,KAAKuc,OAAO,GAAGxb,YAAElB,GAAG,OAAM,EAAG,KAAKG,KAAKgnB,iBAAiB3e,OAAO,IAAIzI,EAAEmP,MAAM,CAAC,MAAMhP,EAAEC,KAAKgnB,iBAAiBze,MAAM,IAAI,IAAI9I,EAAEI,EAAEuW,UAAUrW,GAAGL,YAAED,KAAMO,KAAKyoB,UAAUlL,aAAa9d,EAAEyB,QAAQlB,KAAKwc,qBAAqB/c,GAAIA,EAAEI,EAAEuW,UAAU3W,EAAEyB,OAAO,GAAGlB,KAAKisB,oBAAoBxsB,EAAEuK,IAAExH,MAAM,CAAC5C,EAAE8U,eAAe,KAAK,CAAC,CAAC,OAAO9U,EAAEsvB,aAAa,CAACN,cAAchvB,EAAEC,GAAG,GAAGkB,YAAEf,KAAKuc,QAAQ,OAAM,EAAG,IAAIxc,GAAGC,KAAK6mB,QAAt6W,IAAM,GAA66W7mB,KAAKonB,cAAc/iB,KAAK,MAAM5E,EAAEO,KAAKuc,OAAOpC,QAAQ,IAAI1a,EAAE0Z,OAAO7S,QAAQtG,KAAKmvB,YAAYnvB,MAAMP,EAAE0Z,OAAO,GAAG1Z,EAAE0P,OAAO9G,OAAO,IAAIzI,EAAEmP,MAAM/O,KAAKyoB,UAAU2G,WAAW3vB,EAAE0P,OAAO5G,OAAO3I,EAAE8U,eAAe,KAAKjV,EAAEwP,OAAO5G,OAAO,IAAIzI,EAAEmP,MAAM,CAAC,MAAMlP,EAAEG,KAAKuc,OAAOxG,QAAQtW,EAAEwP,OAAO1G,OAAO7I,YAAEG,KAAKG,KAAKqvB,kBAAkBxvB,GAAGD,EAAE8U,eAAe,CAAC,KAAKjV,EAAEkO,IAAItF,OAAO,IAAIzI,EAAEmP,MAAMhP,EAAE,GAAG,GAAGA,EAAE,MAAML,EAAEM,KAAKuc,OAAOxG,QAAQtW,EAAEkO,IAAI2L,QAAQ,GAAGvY,YAAErB,IAAIA,EAAEiC,aAAa0H,IAAEnH,SAASlC,KAAKsvB,kBAAkBzvB,GAAG,MAAMJ,EAAEkO,IAAIpF,MAAMvI,KAAK6Z,UAAUna,GAAGE,EAAE8U,cAAc,CAAC,OAAO9U,EAAEsvB,aAAa,CAACK,kBAAkBvvB,KAAKonB,cAAc9gB,SAAS1G,GAAGA,EAAEiiB,UAAU7hB,KAAKonB,cAAcja,QAAQnN,KAAKqnB,eAAe/gB,SAAS1G,GAAGA,EAAEiiB,UAAU7hB,KAAKqnB,eAAela,OAAO,CAACgiB,YAAYvvB,GAAG,MAAMC,EAAEG,KAAKonB,cAAcjjB,IAAIvE,GAAGC,IAAIA,EAAEgiB,QAAQ7hB,KAAKonB,cAAcrZ,OAAOnO,GAAG,CAAC0vB,kBAAkB1vB,GAAG,SAASI,KAAK6mB,SAASjnB,EAAEkP,gBAAgB9O,KAAKonB,cAAc/iB,MAA1xY,IAAqyYrE,KAAKmnB,kBAAkBtH,OAAI7f,KAAK6oB,qBAAqBlH,IAAK,CAACuL,oBAAoB,IAAIttB,GAAE,EAAGC,EAAE,EAAE,GAAGG,KAAKyoB,UAAU4B,UAAUzqB,EAAEI,KAAK8mB,aAAajnB,EAAED,EAAE,EAAE,MAAM,CAAC,MAAMG,GAAGL,YAAEM,KAAKuc,QAAQvc,KAAKuc,OAAOtC,aAAa,GAAG,GAAGva,YAAEM,KAAKuc,QAAQvc,KAAKuc,OAAOpC,QAAQxM,IAAItF,OAAO,GAAG,EAAErI,KAAKonB,cAAc/iB,KAAKzE,KAAKG,EAAE,GAAGC,KAAKqnB,eAAehjB,KAAK,GAAGrE,KAAK2nB,qBAAqB3nB,KAAK8mB,cAAc9mB,KAAK+nB,WAAWtZ,SAASzO,KAAKspB,cAActpB,KAAKspB,aAAaxM,2BAA2Bpd,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOxC,eAAe,IAAIha,IAAIC,KAAKsnB,qBAAqB,GAAGtnB,KAAKsnB,qBAAqBrR,KAAK3V,IAAIP,EAAEC,KAAKsnB,sBAAsBznB,EAAE,EAAEE,EAAEC,KAAKsnB,oBAAoB,CAACtnB,KAAKwmB,SAAS5mB,EAAEI,KAAKymB,iBAAiB5mB,CAAC,CAACspB,kBAAkB,IAAInpB,KAAK8mB,cAAc/lB,YAAEf,KAAKuc,SAASxb,YAAEf,KAAK4P,kBAAkB,OAAO,MAAMhQ,EAAEI,KAAKyoB,UAAU7b,MAAMoe,cAAcnrB,EAAE6rB,mBAAmB3rB,GAAGH,EAAEmrB,MAAM/qB,KAAKqmB,iBAAiB,GAAGxmB,EAAEykB,oBAAoB,GAAGtkB,KAAK4P,iBAAiB4T,aAAa3jB,GAAGE,GAAGC,KAAKsoB,cAActoB,KAAK4P,iBAAiB6U,mBAAmB7kB,EAAEmqB,iBAAiBC,MAAMC,gBAAgBjqB,KAAK4P,iBAAiB4J,2BAA2BxZ,KAAK+rB,MAAM/rB,KAAKuc,OAAOtF,4BAA4BjX,KAAKuc,OAAO/J,uBAAuBwa,GAAEC,gBAAgBjtB,KAAK4P,iBAAiBqW,kBAAkBjmB,KAAKuc,OAAOnE,gBAAgBpY,KAAK4mB,mBAAkB,EAAG5mB,KAAK+mB,iBAAgB,EAAG/mB,KAAK8mB,cAAa,EAAG9mB,KAAKwvB,aAAa,kBAAkB,CAAC1D,4BAA4B,OAAO9rB,KAAKyoB,UAAU7b,KAAKoQ,mBAAmBC,iBAAiBkN,aAAa,EAAE,EAAEnqB,KAAKyoB,UAAUlF,qBAAqB,CAAKwI,WAAO,OAAO/rB,KAAK2mB,YAAY3mB,KAAKivB,QAAQ,CAAKA,eAAW,MAAMrvB,EAAEI,KAAKyoB,UAAU4C,UAAUxrB,EAAEG,KAAKyoB,UAAU7b,KAAKoQ,mBAAmBC,iBAAiBkN,aAAa,OAAOnqB,KAAKumB,mBAAmB,GAAG3mB,EAAE,EAAEA,EAAE,GAAGC,CAAC,CAAKmuB,qBAAiB,GAAGhuB,KAAKumB,mBAAmB,OAAO,EAAE,MAAM3mB,EAAEI,KAAKyoB,UAAU7b,KAAKoQ,mBAAmBC,iBAAiB,OAAOhH,KAAK5V,IAAIT,EAAEuqB,aAAa,IAAIvqB,EAAE6vB,aAAa,GAAG7vB,EAAE6vB,WAAW,CAAC7X,kBAAkBhY,GAAG,OAAOF,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAO3E,kBAAkBhY,EAAEsB,MAAM,CAACwuB,iBAAiB9vB,GAAGF,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOrF,8BAA8BtX,EAAE,CAAC0X,6BAA6B1X,GAAGF,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOjF,6BAA6B1X,EAAE,CAAC2X,2BAA2B7X,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOhF,0BAA0B,CAACoY,uBAAuBjwB,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOlE,yBAAyBrY,KAAKyoB,UAAU1mB,kBAAkB/B,KAAK+mB,iBAAgB,CAAE,CAACiF,gBAAgBpsB,GAAG,SAASI,KAAKspB,aAAa5M,eAAe9c,IAAII,KAAK4vB,gBAAgBhwB,OAAQmB,YAAEf,KAAKuc,UAAUvc,KAAKuc,OAAO3E,kBAAkBhY,EAAEsB,SAASlB,KAAKwc,qBAAqB5c,EAAG,CAACgwB,gBAAgBhwB,GAAG,GAAGmB,YAAEf,KAAK4P,kBAAkB,OAAM,EAAG,MAAM/P,EAAEG,KAAKguB,eAAe,QAAGnuB,GAAG,IAAIG,KAAKspB,aAAa9L,qBAAqB5d,KAAmBqW,KAAK0P,IAAI3lB,KAAK4P,iBAAiB6V,2BAA2B7lB,IAAII,KAAK4P,iBAAiBiT,aAAa7iB,KAAK4P,iBAAiBkT,YAAY9iB,KAAK4P,iBAAiBiT,aAAahjB,CAAC,CAACusB,oBAAoBpsB,KAAK2nB,qBAAoB,EAAG,MAAM/nB,EAAEI,KAAKuc,OAAO,GAAGvc,KAAKwnB,kBAAkBzmB,YAAEnB,IAAImB,YAAEf,KAAK4P,kBAAkB,OAAO5P,KAAKmpB,kBAAkBnpB,KAAKunB,2BAA2BvnB,KAAK8d,oBAAoB9d,KAAK2sB,yBAAyB3sB,KAAKunB,0BAAyB,GAAI,MAAM1nB,EAAE,CAAC0hB,iBAAiBvhB,KAAKyoB,UAAUoH,0BAA0BxO,uCAAuCrhB,KAAKyoB,UAAUpH,uCAAuCC,iBAAiBthB,KAAKyoB,UAAU1e,qBAAqBqV,gBAAgBpf,KAAKuoB,4BAA4BvoB,KAAKusB,YAAY,IAAIjhB,GAAEtL,KAAKmM,MAAMnM,KAAK6oB,qBAAqB3C,GAAElmB,KAAK6d,uBAAuB7d,KAAK8d,oBAAoBje,GAAGD,EAAEwY,gBAAgBpY,KAAKspB,aAAahN,kBAAkB1c,GAAGI,KAAKwc,qBAAqB5c,KAAK,CAACA,EAAEC,IAAIG,KAAKyc,aAAa7c,EAAEC,EAAEiwB,GAAGC,UAAUnwB,EAAE,CAACsT,YAAYlT,KAAK4P,iBAAiBsD,cAAclT,KAAKktB,mBAAmB,CAAC8C,gBAAgB,OAAO,MAAMhwB,KAAKusB,aAAa,MAAMvsB,KAAKuc,MAAM,CAACiO,oBAAoBxqB,KAAKgwB,kBAAkBhwB,KAAKwoB,sBAAsBpG,YAAYpiB,KAAK6oB,qBAAqBzG,YAAYpiB,KAAK+nB,WAAW3F,YAAYpiB,KAAKuvB,kBAAkBvvB,KAAKusB,YAAY,KAAKvsB,KAAKktB,oBAAoB,CAACoB,sBAAsB1uB,GAAG,MAAMC,EAAEG,KAAKuc,OAAO,GAAGxb,YAAElB,IAAIkB,YAAEf,KAAK4P,kBAAkB,OAAM,EAAG4c,GAAErf,QAAQnN,KAAKyoB,UAAUwH,qBAAqBzD,IAAG,MAAMzsB,EAAE,IAAIC,KAAK4P,iBAAiBkT,YAAYrjB,EAAEM,EAAE,KAAI,EAAGH,GAAGI,KAAK4vB,gBAAgBhwB,GAAG,OAAO4sB,GAAEpT,eAAexZ,IAAI,MAAMG,EAAEF,EAAEkW,QAAQnW,GAAG,OAAOmB,YAAEhB,KAAKF,EAAE+X,kBAAkBhY,IAAIH,EAAEM,KAAKC,KAAKwc,qBAAqBzc,EAAE,IAAIysB,GAAEnkB,OAAO,GAAGrI,KAAKspB,aAAazM,oBAAoB7c,KAAKyc,aAAa+P,GAAE5sB,EAAEkwB,GAAGvnB,OAAOxI,GAAGC,KAAKguB,eAAe,KAAK,IAAIxB,GAAEnkB,SAASmkB,GAAErf,SAAQ,GAAI,CAAC+iB,iBAAiBtwB,GAAG4sB,GAAE3lB,KAAKjH,EAAE,CAACuwB,oBAAoBnwB,KAAKyc,aAAa+P,GAAE4D,IAAEN,GAAGvnB,IAAI,CAACkU,aAAa7c,EAAEC,EAAEE,GAAG,MAAMN,EAAEG,EAAEyI,OAAO,GAAG,IAAI5I,IAAII,EAAEkP,KAAK,CAAC,IAAIrP,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOnE,gBAAgBxY,EAAEyI,OAAO,IAAIxI,EAAEkP,MAAM,CAAC,MAAMtP,EAAEG,EAAE2I,MAAMxH,EAAEf,KAAKuc,OAAOxc,IAAI+vB,GAAGC,SAAS/vB,KAAKyoB,UAAU4H,oBAAoB3wB,YAAEqB,IAAIA,EAAE6W,kBAAkBnY,GAAGO,KAAKyoB,UAAUhL,SAAShe,EAAE4G,IAAEvD,SAAQ,GAAI9C,KAAKyoB,UAAU2G,WAAW3vB,GAAGI,EAAE6U,cAAc,CAAC,GAAG1U,KAAKinB,kBAAkB5iB,KAAK,EAAE,IAAI,IAAIxE,EAAED,EAAEyI,OAAOxI,EAAEJ,EAAEI,IAAI,CAAC,MAAME,EAAEH,EAAE+I,KAAK9I,GAAGG,KAAKinB,kBAAkBlZ,OAAOhO,EAAE,CAAC,CAAC,CAACoQ,aAAavQ,GAAG,IAAIA,EAAEyB,UAAU8T,gBAAgBnV,KAAKqnB,eAAenjB,IAAItE,EAAEsB,OAAO,OAAM,EAAG,MAAMrB,EAAEG,KAAKyoB,UAAU6H,oBAAoB1wB,EAAEsB,OAAO,OAAO,MAAMrB,GAAGA,IAAIG,KAAK8d,mBAAmB,CAACuR,kBAAkBzvB,GAAG,MAAMC,EAAE,IAAI+hB,gBAAgB5hB,KAAKqnB,eAAe/iB,IAAI1E,EAAEsB,MAAMrB,IAAIyf,GAAEtf,KAAKyoB,UAAU6H,oBAAoB1wB,EAAEsB,OAAOlB,KAAK8d,qBAAqB7S,QAAQslB,QAAQvwB,KAAKyoB,UAAU+H,iBAAiB5wB,EAAEsB,QAAQlB,KAAKusB,YAAY9N,eAAe7e,EAAEI,KAAK8d,oBAAoBje,EAAEiiB,SAASnW,MAAM5L,GAAGC,KAAK2tB,UAAU,IAAI3tB,KAAKyoB,UAAUgI,iBAAiB7wB,EAAEsB,MAAM,CAACif,iBAAiBngB,KAAK8d,oBAAoBlD,cAAc7a,GAAGF,EAAEiiB,SAASjiB,EAAEiiB,UAAUxN,OAAOvU,IAAI,IAAIR,YAAEQ,GAAG,OAAOC,KAAKyoB,UAAUgI,iBAAiB7wB,EAAEsB,MAAM,CAACif,iBAAiBngB,KAAK8d,oBAAoBlD,cAAc,CAAC,GAAG/a,EAAEiiB,OAAO,IAAIxN,OAAO,SAAS3I,MAAM,KAAK3L,KAAKqnB,eAAetZ,OAAOnO,EAAEsB,OAAOlB,KAAKktB,mBAAmB,IAAIltB,KAAKktB,mBAAmB,CAACrT,UAAUja,GAAG,GAAGI,KAAKonB,cAAcljB,IAAItE,EAAEsB,OAAO,YAAYglB,GAAE3R,MAAM,wBAAwB3U,EAAEsB,OAAO,MAAMrB,EAAE,IAAI+hB,gBAAgB5hB,KAAKonB,cAAc9iB,IAAI1E,EAAEsB,MAAMrB,GAAGG,KAAKktB,oBAAoBltB,KAAK0wB,gBAAgB9wB,EAAEC,EAAEiiB,QAAQnW,MAAM5L,IAAIA,GAAGL,YAAEM,KAAKuc,SAASvc,KAAKonB,cAAcjjB,IAAIvE,EAAEsB,SAASrB,IAAIG,KAAKonB,cAAcrZ,OAAOnO,EAAEsB,OAAOlB,KAAKuc,OAAOnE,gBAAgB,IAAI9D,OAAO1U,IAAI,IAAIL,YAAEK,GAAG,MAAMA,CAAC,IAAI+wB,SAAS,KAAK3wB,KAAKonB,cAAcjjB,IAAIvE,EAAEsB,SAASrB,GAAGG,KAAKonB,cAAcrZ,OAAOnO,EAAEsB,OAAOlB,KAAKktB,mBAAmB,GAAG,CAACwD,gBAAgB9wB,EAAEC,GAAG,OAAOD,EAAE+B,aAAa0H,IAAEpH,SAASjC,KAAK4wB,cAAchxB,EAAEC,GAAG8L,MAAM,KAAI,IAAK3L,KAAK6wB,YAAYjxB,EAAEC,GAAG8L,MAAM9L,IAAIA,IAAID,EAAE+B,WAAW0H,IAAEpH,UAAS,KAAMqS,OAAOzU,IAAIN,YAAEM,KAAKD,EAAE+B,WAAW0H,IAAEpH,UAAS,IAAK,CAACgqB,oBAAoBrsB,EAAEC,GAAG,GAAGG,KAAK0nB,kBAAkB3mB,YAAEf,KAAKuc,QAAQ,OAAM,EAAG,GAAG1c,IAAImK,IAAExH,OAAOxC,KAAKuc,OAAOvE,cAAcpY,EAAEsB,OAAO,OAAM,EAAG,MAAMnB,EAAEC,KAAK8wB,mBAAmBlxB,GAAG,QAAQG,IAAIC,KAAKyoB,UAAUY,iBAAiBzpB,EAAEG,EAAEF,GAAGG,KAAK+wB,cAAa,EAAG,CAACD,mBAAmBlxB,GAAG,MAAMC,EAAEG,KAAKyoB,UAAUW,kBAAkBxpB,GAAG,OAAOF,YAAEG,IAAIH,YAAEG,EAAEmxB,gBAAgB1R,GAAEzf,EAAEmxB,cAAc7Q,iBAAiBngB,KAAK8d,qBAAqBje,GAAGG,KAAKyoB,UAAUwI,oBAAoBpxB,GAAG,KAAK,CAACkxB,aAAarxB,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOnE,gBAAgBpY,KAAKspB,aAAazM,oBAAoB7c,KAAKktB,mBAAmB,CAACgE,iBAAiBtxB,EAAEC,GAAG,MAAME,EAAEC,KAAKuc,OAAO7c,YAAEK,IAAIA,EAAEwb,qBAAqB3b,EAAEC,EAAE,GAAG,EAAE,CAACgxB,YAAYjxB,EAAEC,GAAG,GAAGG,KAAKisB,oBAAoBrsB,EAAEoK,IAAEvH,MAAM,OAAOwI,QAAQslB,SAAQ,GAAI,MAAMxwB,EAAEC,KAAKyoB,UAAU,OAAOzoB,KAAKynB,iBAAiB1nB,EAAEoxB,oBAAoBpxB,EAAEqxB,kBAAkBpxB,KAAK2tB,UAAU,IAAI5tB,EAAEoxB,mBAAmBvxB,EAAEC,GAAG,CAACA,EAAEE,IAAIC,KAAKusB,YAAY3M,aAAahgB,EAAEC,EAAEE,MAAMF,GAAG8L,MAAMlM,IAAI,GAAGsB,YAAEtB,GAAG,OAAM,EAAG,MAAMC,EAAEM,KAAK8d,oBAAoB,OAAO9d,KAAK4tB,YAAY,IAAI5tB,KAAKusB,YAAY9N,eAAe7e,EAAEF,EAAEG,IAAIA,GAAG8L,MAAM5K,GAAGf,KAAK4tB,YAAY,IAAI7tB,EAAEqxB,kBAAkBxxB,EAAEH,EAAE,CAAC0gB,iBAAiBzgB,EAAEkb,cAAc7Z,GAAGlB,IAAIA,KAAK8L,MAAM,KAAK3L,KAAK+wB,cAAa,IAAK,IAAI9lB,QAAQslB,SAAQ,EAAG,CAACK,cAAchxB,EAAEC,GAAG,OAAOG,KAAKmnB,oBAAoBnnB,KAAKusB,YAAY8E,aAAazxB,EAAEC,GAAGyU,OAAO1U,IAAI,MAAMI,KAAKmnB,oBAAoBvnB,CAAC,IAAI+L,MAAM5L,IAAIC,KAAKmnB,oBAAoBnnB,KAAK2tB,UAAU,IAAI3tB,KAAKyoB,UAAUxM,QAAQrc,EAAEG,EAAEF,IAAIA,MAAM8L,MAAM,KAAK3L,KAAK+wB,aAAanxB,EAAE+B,WAAW0H,IAAEnH,MAAM,IAAIoS,OAAOzU,IAAI,IAAIN,YAAEM,GAAG,MAAMqmB,GAAE3R,MAAM,kBAAkBvU,KAAKmM,MAAO,wBAAuBvM,EAAEK,MAAMJ,GAAGD,EAAE8B,QAAO,EAAGhC,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOnE,gBAAgBvY,CAAC,GAAG,CAACyqB,iBAAiB1qB,GAAGA,IAAII,KAAK6mB,UAAU7mB,KAAK6mB,QAAQjnB,EAAEI,KAAKktB,oBAAoBttB,GAAGI,KAAKuc,QAAQ7c,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOrB,mBAAmB,CAACoW,UAAU1xB,GAAG,GAAGI,KAAKinB,kBAAkB/iB,IAAItE,EAAEsB,OAAO,OAAOlB,KAAKinB,kBAAkB9iB,IAAIvE,EAAEsB,OAAO,MAAMrB,EAAEG,KAAK0tB,cAAc9tB,GAAG,OAAOI,KAAKyoB,UAAUlL,aAAa3d,EAAEsB,QAAQlB,KAAKinB,kBAAkB3iB,IAAI1E,EAAEsB,MAAMrB,GAAGA,CAAC,CAAC6tB,cAAc9tB,GAAGI,KAAK0jB,UAAUre,EAAEzF,EAAEM,IAAI,GAAGF,KAAK0jB,UAAUlL,EAAE5Y,EAAEM,IAAI,GAAGF,KAAK0jB,UAAUoB,EAAEllB,EAAEM,IAAI,GAAG,MAAML,EAAED,EAAEM,IAAI,GAAG,OAAOF,KAAKyoB,UAAU7b,KAAK+e,eAAe4F,eAAevxB,KAAK0jB,UAAU7jB,EAAE,CAAC2c,qBAAqB5c,GAAG,IAAII,KAAKqtB,sBAAsB,OAAM,EAAG,MAAMxtB,EAAEG,KAAKsxB,UAAU1xB,IAAIkuB,SAAS/tB,EAAEguB,SAAStuB,GAAGqK,aAAE9J,KAAKmM,OAAO,OAAO8T,aAAEpgB,EAAEE,EAAEN,EAAE,CAACic,YAAY9b,GAAGA,EAAEsB,MAAMxB,YAAEM,KAAKuc,QAAQvc,KAAKuc,OAAOlY,KAAK,EAAErE,KAAKsoB,eAAe1oB,EAAE4xB,OAAOxxB,KAAK2mB,YAAY/mB,EAAE6xB,OAAOzxB,KAAKsmB,cAActmB,KAAKivB,UAAUvvB,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOb,YAAY9b,EAAE,CAAKoc,WAAO,MAAMpc,EAAEI,KAAK,MAAM,CAACkB,MAAMlB,KAAKuc,OAAWmV,mBAAe7xB,GAAGD,EAAE4nB,iBAAiB3nB,EAAEA,EAAED,EAAE4qB,oBAAoB5qB,EAAEwY,eAAe,EAAMqP,oBAAgB5nB,GAAGD,EAAE6nB,gBAAgB5nB,CAAC,EAAM0S,qBAAiB1S,GAAGH,YAAEE,EAAE2c,UAAU3c,EAAE2c,OAAOhK,iBAAiB1S,EAAE,EAAE6c,eAAe7c,GAAGD,EAAEosB,gBAAgBnsB,GAAG,CAAC8xB,kBAAkB3xB,KAAKspB,aAAazM,oBAAoB7c,KAAKktB,oBAAoBxtB,YAAEM,KAAKuc,SAASvc,KAAKuc,OAAOnE,eAAe,CAACwZ,sBAAsBhyB,GAAG,MAAMC,EAAEG,KAAKuc,OAAO7c,YAAEG,IAAIA,EAAEyY,mBAAmB1Y,GAAGI,KAAKoqB,iBAAiB,GAAGxqB,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,gBAAgB,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,eAAe,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,6BAA6B,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,wBAAwB,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,uBAAuB,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,YAAY,MAAMrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,WAAW,MAAMrN,YAAE,CAAC8P,eAAK0W,GAAEnZ,UAAU,wBAAmB,GAAQrN,YAAE,CAAC8P,eAAK0W,GAAEnZ,UAAU,qBAAgB,GAAQrN,YAAE,CAAC8P,eAAK0W,GAAEnZ,UAAU,0BAAqB,GAAQrN,YAAE,CAAC8P,eAAK0W,GAAEnZ,UAAU,iBAAY,GAAQrN,YAAE,CAAC8P,eAAK0W,GAAEnZ,UAAU,QAAQ,MAAMrN,YAAE,CAAC8P,YAAE,CAAC,IAAI0W,GAAEnZ,UAAU,gBAAW,GAAQrN,YAAE,CAAC8P,YAAE,CAAC,IAAI0W,GAAEnZ,UAAU,wBAAmB,GAAQrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,KAAMzL,GAAEnZ,UAAU,qBAAgB,GAAQrN,YAAE,CAAC8P,YAAE,CAAC1C,eAAc,KAAMoZ,GAAEnZ,UAAU,8BAAyB,GAAQrN,YAAE,CAAC8P,YAAE,CAACmiB,UAAS,EAAGC,UAAU,MAAM1L,GAAEnZ,UAAU,kBAAkB,MAAMmZ,GAAExmB,YAAE,CAACD,YAAEggB,KAAIyG,IAAG,MAAMoG,GAAE,IAAI1rB,IAAE,CAACoR,YAAY,OAAO,IAAIua,GAAE,SAASnN,GAAE1f,EAAEC,GAAG,OAAOH,YAAEE,IAAIA,EAAEyI,SAASxI,EAAEwI,QAAQzI,EAAEmyB,OAAOnyB,GAAGitB,GAAEhtB,EAAED,EAAE6G,OAAO,GAAG,CAAC,SAASomB,GAAEjtB,EAAEC,GAAG,MAAME,EAAEF,EAAEmyB,cAAc,IAAI,IAAIvyB,EAAE,EAAEA,EAAEG,EAAEyI,OAAO5I,IAAI,GAAGG,EAAEH,GAAGgH,KAAKurB,gBAAgBjyB,EAAE,OAAON,EAAE,OAAO,CAAC,CAAC,MAAMutB,GAAE,CAACiF,SAAS,GAAGC,eAAe,IAAIjF,gBAAgB,IAAIG,GAAEloB,cAAI,IAAI4qB,GAAalwB,OAA8CkwB,KAAKA,GAAG,CAAC,IAAlDlwB,GAAE2I,IAAI,GAAG,MAAM3I,GAAEA,GAAEmwB,QAAQ,GAAG,UAAwB,MAAMoC,GAAG/L,E,oMCAllyBxH,eAAe/e,EAAEkB,EAAElB,EAAEL,GAAGK,EAAEA,EAAEuyB,QAAQrxB,EAAEmI,aAAa6Y,MAAMsQ,+BAA+BxyB,EAAEyyB,qBAAqB9tB,EAAEzD,IAAI,MAAMhB,EAAEL,EAAEqB,GAAGxB,EAAEwB,EAAEmI,aAAa6Y,MAAMwQ,mBAAmB1yB,EAAE2yB,MAAM,EAAE3yB,EAAE4yB,IAAI1yB,EAAE,IAAIN,EAAE,KAAK,OAAO,CAAC,MAAMC,QAAQqB,EAAE2xB,OAAOC,kBAAkB9yB,EAAEL,GAAG,GAAGI,YAAEH,GAAGA,EAAEC,EAAED,EAAEmc,SAASnc,EAAEmc,SAASgX,OAAOlzB,EAAEkc,UAAUnc,EAAEozB,sBAAsBnzB,EAAEmzB,uBAAuBtzB,IAAIG,EAAEmzB,sBAAsB,MAAMhzB,EAAE2yB,OAAOzyB,CAAC,CAAC,OAAON,CAAC,CAAC,SAASC,EAAEE,GAAG,OAAO4E,EAAE5E,GAAQ,SAAWA,GAAG,OAAOA,EAAEsJ,aAAa6Y,MAAM+Q,gBAAgB,GAAG,CAAlEtzB,CAAEI,EAAE,CAA+D,SAAS4E,EAAE5E,GAAG,OAAOA,EAAEsJ,aAAa6Y,MAAMsQ,6BAA6BtxB,IAAEgyB,4BAA4B,CAAC,C,uBCA6c,IAAIrhB,EAAE,cAAcjS,IAAEK,YAAYF,GAAGqB,MAAMrB,GAAGI,KAAKgzB,oCAAmC,EAAGhzB,KAAKizB,6BAA6B,IAAIrR,gBAAgB5hB,KAAKkzB,4BAA4B,KAAKlzB,KAAKmzB,8BAA8B9tB,EAAErF,KAAKozB,mCAAmC,KAAKpzB,KAAKqzB,qBAAqB,KAAKrzB,KAAKszB,kBAAkB,IAAI7lB,GAAG,CAACvB,aAAalM,KAAKuzB,UAAUvzB,KAAKid,iBAAiBuW,SAAU,GAAExzB,KAAKmM,MAAMsnB,2BAA2BzzB,KAAK0zB,8BAA8B1zB,KAAK2zB,uBAAuB3zB,KAAKizB,6BAA6BnR,QAAQ9hB,KAAK0zB,8BAA8B/nB,MAAM,IAAI3L,KAAKizB,6BAA6B,OAAOte,eAAK9T,YAAEb,KAAK4zB,mBAAmB/yB,YAAEb,KAAK4zB,iBAAiBpnB,YAAYxM,KAAK4zB,iBAAiBla,OAAO/N,MAAM/L,IAAII,KAAK2pB,YAAY3pB,KAAKozB,mCAAmCxzB,EAAEi0B,qBAAqB7zB,KAAK8pB,WAAW9lB,aAAG,IAAIhE,KAAK8zB,wBAAwBj0B,GAAGD,EAAEi0B,qBAAqBh0B,GAAG6P,MAAI1P,KAAKqzB,qBAAqB,IAAIhqB,UAAE,CAAC8C,MAAMnM,KAAK4zB,iBAAiBhnB,KAAK5M,KAAK4M,OAAO,GAAG,CAAC4B,UAAUmG,eAAK9T,YAAEb,KAAK4zB,mBAAmB/yB,YAAEb,KAAK4zB,iBAAiBpnB,YAAY3L,YAAEb,KAAKqzB,wBAAwBrzB,KAAK4zB,iBAAiBC,qBAAqB7yB,YAAEhB,KAAKozB,qCAAqCpzB,KAAKyM,KAAK,QAAQ,MAAMzM,KAAKuzB,UAAU/kB,UAAUxO,KAAKuzB,UAAU,KAAKvzB,KAAKizB,+BAA+BjzB,KAAKizB,6BAA6BpR,QAAQ7hB,KAAKizB,6BAA6B,MAAMjzB,KAAK0zB,8BAA8B,IAAI,CAAKK,+BAA2B,MAAM,IAAI/zB,KAAKszB,kBAAkB,CAAKM,uBAAmB,OAAO5zB,KAAKmM,MAAM6nB,eAAe,CAAKF,4BAAwB,MAAMl0B,EAAEI,KAAK+zB,yBAAyB,OAAO,IAAIn0B,EAAEyI,OAAO,QAAS,gBAAezI,EAAE6b,KAAK,OAAO,CAAK+K,eAAW,QAAI7R,mBAAkB9T,YAAEb,KAAK4zB,oBAAmB/yB,YAAEb,KAAK4zB,iBAAiBpnB,eAA4B3L,YAAEb,KAAKqzB,uBAAuBxyB,YAAEb,KAAKqzB,uBAAuBrzB,KAAKqzB,qBAAqB7M,UAAQ,CAACyN,6BAA6Br0B,GAAGI,KAAKszB,kBAAkB3lB,IAAI/N,GAAGI,KAAKwvB,aAAa,qBAAqBhrB,YAAExE,KAAKkzB,+BAA+BlzB,KAAKkzB,4BAA4B,IAAI,MAAMrzB,EAAEG,KAAKkzB,4BAA4BzzB,EAAE,IAAI0f,EAAEvf,EAAE,CAACs0B,SAAS,KAAKn0B,YAAEF,EAAEJ,GAAG,IAAII,EAAEwI,SAASrI,KAAKkzB,4BAA4B,KAAK,EAAEiB,OAAOt0B,IAAI,IAAI,MAAMJ,EAAEM,KAAKF,EAAEG,KAAKo0B,qBAAqBx0B,EAAEH,EAAEM,EAAE,IAAI,OAAOF,EAAEqP,QAAQzP,GAAGA,CAAC,CAACmf,YAAYhf,EAAEC,EAAEJ,GAAG,GAAG+E,YAAE3E,GAAG,OAAO,MAAMsgB,iBAAiBpgB,EAAE6a,cAAc7Z,GAAGlB,EAAE,GAAG2E,YAAEzE,IAAI,IAAIA,EAAEsI,QAAQ7D,YAAEzD,GAAG,OAAO,SAASmE,YAAElF,KAAK0zB,8BAA8Bj0B,GAAG,IAAIO,KAAKszB,kBAAkBjvB,KAAK,OAAO,MAAM3E,EAAE,CAACygB,iBAAiBpgB,EAAE6a,cAAc7Z,GAAGxB,EAAES,KAAKq0B,uBAAuBz0B,EAAEF,EAAEM,KAAKszB,oBAAoBgB,UAAU90B,EAAE+0B,WAAW50B,GAAGJ,EAAEuB,QAAQd,KAAKw0B,mCAAmCh1B,EAAEG,EAAEF,GAAG+E,YAAE1D,IAAId,KAAKy0B,qCAAqC70B,EAAEkB,EAAEnB,EAAED,EAAE,CAACg1B,eAAe90B,GAAGI,KAAKszB,kBAAkB3lB,IAAI/N,GAAGI,KAAKwvB,aAAa,oBAAoB,CAAC4E,qBAAqBx0B,EAAEC,EAAEJ,GAAGO,KAAKszB,kBAAkB3lB,IAAI/N,GAAGI,KAAK20B,qBAAqB/0B,EAAEC,EAAEJ,GAAGO,KAAKwvB,aAAa,oBAAoB,CAACmF,qBAAqB/0B,EAAEC,EAAEJ,GAAGO,KAAKuzB,UAAUqB,IAAI50B,KAAK60B,sBAAsBj1B,EAAEC,GAAGJ,EAAEO,KAAK80B,4BAA4Br1B,GAAG,CAAC40B,uBAAuBz0B,GAAGugB,iBAAiBtgB,EAAE+a,cAAcnb,GAAGM,GAAG,MAAMgB,EAAE,IAAI0M,IAAI/N,EAAE,IAAI8I,MAAM,IAAI,MAAMhJ,KAAKK,EAAEH,EAAEF,EAAE0B,OAAOzB,EAAED,EAAEiH,MAAM,MAAMlH,EAAE,IAAIkO,IAAI,IAAI,IAAIjO,EAAE,EAAEA,EAAEI,EAAEyI,OAAO7I,IAAI,CAAC,MAAMC,EAAEG,EAAEJ,GAAG,GAAGO,EAAEmE,IAAIzE,GAAG,IAAI,MAAMG,KAAKC,EAAE,CAAC,MAAMA,EAAEG,KAAK+0B,WAAWt1B,EAAEG,EAAEsB,YAAO,IAASrB,GAAGkB,EAAE4M,IAAIlO,GAAGF,EAAEoO,IAAI/N,EAAE6G,OAAO/G,EAAEE,EAAEsB,OAAO1B,GAAGK,CAAC,CAAC,CAAC,MAAM,CAACy0B,UAAU9rB,MAAMsmB,KAAK/tB,GAAGwzB,WAAW/rB,MAAMsmB,KAAKvvB,GAAG,CAACw1B,WAAWn1B,EAAEC,GAAG,MAAMJ,EAAEO,KAAKg1B,+BAA+Bp1B,EAAEC,GAAG,QAAG,IAASJ,EAAE,OAAOA,EAAE,MAAMM,EAAEC,KAAK60B,sBAAsBj1B,EAAEC,GAAG,OAAOG,KAAKuzB,UAAUpvB,IAAIpE,EAAE,CAACi1B,+BAA+Bp1B,EAAEC,GAAG,IAAI2E,YAAExE,KAAKkzB,6BAA6B,IAAI,MAAMzzB,KAAKO,KAAKkzB,4BAA4B,CAAC,GAAGzzB,EAAEiO,WAAW9N,EAAE,SAAS,MAAMG,EAAEN,EAAE0E,IAAItE,GAAG,QAAG,IAASE,EAAE,OAAOA,CAAC,CAAC,CAAC80B,sBAAsBj1B,EAAEC,GAAG,MAAO,GAAED,KAAKC,GAAG,CAAC+e,yCAAyChf,EAAEC,EAAEJ,GAAG,GAAG,IAAIG,EAAEyI,QAAQ,IAAIxI,EAAEwI,OAAO,OAAO,KAAKzI,EAAEA,EAAEqH,MAAM,CAACrH,EAAEC,IAAID,EAAEC,IAAIG,KAAKgzB,qCAAqChzB,KAAKgzB,oCAAmC,EAAGhzB,KAAKi1B,qCAAqC,MAAMl1B,EAAEC,KAAKmM,MAAM6nB,gBAAgB,GAAGxvB,YAAEzE,GAAG,OAAO,KAAK,MAAMR,EAAEQ,EAAEm1B,cAAc31B,EAAE41B,MAAM,MAAM51B,EAAE61B,gBAAe,EAAG71B,EAAE81B,UAAU,CAACt1B,EAAE6sB,iBAAiB/sB,GAAGN,EAAE+1B,WAAU,EAAG/1B,EAAE+0B,UAAU10B,EAAE,MAAMJ,EAAEiZ,EAAE1Y,GAAGJ,EAAEC,EAAEyI,OAAO7I,EAAEuB,YAAEnB,EAAEJ,GAAGgH,KAAK5G,IAAI,MAAMC,EAAEN,EAAE6yB,QAAQ,OAAOvyB,EAAEy0B,UAAU10B,EAAEF,YAAEigB,EAAE5f,EAAEF,EAAE,CAACiiB,OAAOriB,IAAI,IAAI,CAACC,YAAEigB,EAAE5f,EAAER,EAAE,CAACuiB,OAAOriB,MAAM,aAAawL,QAAQC,IAAIvL,IAAI41B,QAAQ,CAAC31B,EAAEC,IAAID,EAAEgzB,OAAO/yB,EAAE21B,GAAG31B,EAAE8e,MAAM/C,SAAS,KAAK,GAAG,CAACqZ,oCAAoC,IAAIr1B,EAAG,+JAA8JgH,YAAE5G,KAAKmzB,uFAAuF,MAAMtzB,EAAEG,KAAKmM,MAAMspB,WAAW51B,GAAGA,EAAE61B,OAAO91B,GAAI,KAAIC,EAAE81B,OAAOC,yBAAyB/1B,EAAEI,eAAeL,GAAI,KAAII,KAAKmM,MAAM8R,UAAUC,QAAQpd,IAAEqlB,UAAU,yCAAyCzL,KAAK,oBAAoB1a,KAAKmM,MAAM0pB,MAAO,GAAEj2B,KAAK,CAAC60B,qCAAqC70B,EAAEC,EAAEJ,GAAG0gB,iBAAiBpgB,EAAE6a,cAAc7Z,IAAI,MAAMrB,EAAEM,KAAKmM,MAAM6nB,gBAAgB,GAAGxvB,YAAE9E,GAAG,OAAO,MAAMH,EAAEG,EAAEktB,cAAcptB,EAAEC,EAAE+G,KAAK5G,GAAGmB,EAAEnB,KAAKD,EAAE,IAAIsE,IAAIlE,EAAEyG,KAAK5G,GAAG,CAACA,EAAE6G,KAAK7G,EAAEsB,UAAUJ,EAAErB,EAAE+G,KAAK5G,GAAGD,EAAEwE,IAAIvE,KAAKiB,EAAE,IAAIoD,IAAIuE,MAAMsmB,KAAKlvB,GAAG,CAACA,EAAEC,IAAI,CAACD,EAAEC,MAAM,IAAI,MAAMmB,KAAKnB,EAAE,CAAC,MAAMD,EAAEoB,EAAEoU,WAAW7V,GAAG,IAAI,IAAIM,EAAE,EAAEA,EAAEJ,EAAE4I,OAAOxI,IAAI,CAAC,MAAME,EAAEe,EAAEjB,GAAGkB,EAAEF,EAAEsD,IAAIvE,GAAGF,EAAEsB,EAAEoU,WAAW3V,EAAEI,IAAIL,EAAEK,GAAGkB,GAAGrB,EAAEM,KAAK20B,qBAAqB/0B,EAAEG,EAAEL,EAAE,CAAC,CAAC,CAACo1B,4BAA4Bl1B,GAAG,MAAM,iBAAiBA,EAAEJ,YAAEI,GAAGD,aAAG,CAACif,6BAA6Bhf,GAAE,UAAC,MAAMH,EAAEO,KAAKmM,MAAM,SAAS1M,EAAEia,KAAK,CAACoI,OAAOliB,IAAII,KAAKszB,kBAAkBnmB,QAAQ3I,YAAE/E,EAAEu0B,kBAAiD,OAA/B,EAACv0B,EAAEu0B,gBAAgB9qB,eAAwB,OAAZ,EAA9B,EAAgCkD,cAAhC,EAA4C0pB,uBAAuB,OAAO,MAAM/1B,EAAEC,KAAK+1B,qCAAqC,GAAGvxB,YAAEzE,GAAG,OAAO,KAAK,MAAMgB,EAAEtB,EAAEu0B,gBAAgBgC,QAAQt2B,EAAEmB,YAAEpB,EAAEu0B,gBAAgBxnB,WAAWhN,QAAQD,YAAEM,kBAAG,GAAEJ,EAAEu0B,gBAAgB4B,qBAAqB,CAACK,OAAO,OAAOlU,MAAM,CAACnb,EAAE,OAAOsvB,eAAc,EAAGC,OAAQ,IAAGp1B,KAAKq1B,eAAc,EAAGC,cAAc32B,EAAE42B,cAAc52B,EAAE62B,gBAAgBC,KAAKC,UAAU,CAAC,CAACx2B,GAAGc,EAAE21B,UAAU32B,MAAM42B,QAAQtgB,EAAEyL,OAAOliB,KAAK,GAAGJ,EAAEg2B,IAAgB,OAAd,EAAEh2B,EAAEmf,MAAMhW,OAAR,EAAciuB,OAAO,IAAIp3B,EAAEmf,MAAMhW,KAAKiuB,MAAMvuB,OAAO,CAAC,MAAMzI,EAAEJ,EAAEmf,MAAMhW,KAAKiuB,MAAM,GAAG/2B,EAAE6E,YAAE9E,EAAE,YAAY,QAAQH,EAAEiF,YAAE9E,EAAE,YAAY,WAAWG,EAAE2E,YAAE9E,EAAE,YAAY,WAAW,IAAImB,EAAE,GAAGF,YAAEhB,KAAKkB,EAAEA,EAAE6xB,OAAO/yB,IAAIgB,YAAEpB,KAAKsB,EAAEA,EAAE6xB,OAAOnzB,IAAIoB,YAAEd,KAAKgB,EAAEA,EAAE6xB,OAAO7yB,IAAI,MAAML,EAAEuW,KAAK5V,IAAIL,KAAKmzB,8BAA8BpyB,EAAEsH,QAAQ3I,EAAEqB,EAAEsH,SAASrI,KAAKgzB,oCAAmC,GAAI,MAAMzzB,EAAEwB,EAAEkG,MAAM,CAACrH,EAAEC,IAAID,EAAEC,IAAI,IAAI,IAAIL,EAAE,EAAEA,EAAEE,EAAEF,IAAIQ,KAAKszB,kBAAkB3lB,IAAIpO,EAAEC,GAAG,CAACQ,KAAKwvB,aAAa,oBAAoB,CAACuG,qCAAqC,MAAMn2B,EAAEI,KAAKmM,MAAM,GAAGtL,YAAEjB,EAAEkT,yBAAyBjS,YAAEjB,EAAEkT,uBAAuBC,YAAY,OAAOnT,EAAEkT,uBAAuBC,WAAW,MAAMlT,EAAED,EAAEo0B,gBAAgB,OAAOnzB,YAAEhB,IAAIgB,YAAEhB,EAAEg3B,aAAah2B,YAAEhB,EAAEg3B,WAAWC,cAAcj3B,EAAEg3B,WAAWC,aAAa,IAAI,CAAK9a,WAAO,MAAMpc,EAAE4I,MAAMsmB,KAAK9uB,KAAKszB,mBAAmBzzB,EAAEG,KAAK0zB,8BAA8Bj0B,EAAEO,KAAK,MAAM,CAAC+2B,iBAAiBn3B,EAAEo3B,6BAA6Bn3B,EAAMo3B,mCAA+B,OAAOx3B,EAAE0zB,6BAA6B,EAAM8D,iCAA6Br3B,GAAGH,EAAE0zB,8BAA8BvzB,CAAC,EAAE,GAAGA,YAAE,CAAC4Y,YAAE,CAACxL,eAAc,KAAM0E,EAAEzE,UAAU,YAAO,GAAQrN,YAAE,CAAC4Y,YAAE,CAACxL,eAAc,KAAM0E,EAAEzE,UAAU,aAAQ,GAAQrN,YAAE,CAAC4Y,YAAE,CAACqZ,UAAS,KAAMngB,EAAEzE,UAAU,2BAA2B,MAAMrN,YAAE,CAAC4Y,eAAK9G,EAAEzE,UAAU,mBAAmB,MAAMrN,YAAE,CAAC4Y,eAAK9G,EAAEzE,UAAU,4BAAuB,GAAQrN,YAAE,CAAC4Y,YAAE,CAACxL,eAAc,KAAM0E,EAAEzE,UAAU,wBAAmB,GAAQrN,YAAE,CAAC4Y,eAAK9G,EAAEzE,UAAU,yBAAoB,GAAQrN,YAAE,CAAC4Y,eAAK9G,EAAEzE,UAAU,wBAAwB,MAAMrN,YAAE,CAAC4Y,eAAK9G,EAAEzE,UAAU,WAAW,MAAMyE,EAAE9R,YAAE,CAAC6F,YAAE,0CAA0CiM,GAAG,MAAMyN,EAAErf,YAAYF,EAAEC,GAAGG,KAAK0N,SAAS9N,EAAEI,KAAK+d,SAASle,EAAEG,KAAKoS,SAAS,IAAInO,IAAIjE,KAAKk3B,OAAO3gB,EAAE4gB,MAAM,CAAChzB,IAAIvE,GAAG,OAAOI,KAAKoS,SAASjO,IAAIvE,EAAE,CAAC0E,IAAI1E,EAAEC,GAAGG,KAAKo3B,WAAWp3B,KAAKoS,SAAS9N,IAAI1E,EAAEC,EAAE,CAACq0B,WAAWl0B,KAAKo3B,YAAYp3B,KAAKk3B,OAAO3gB,EAAE8gB,YAAYr3B,KAAK+d,SAASmW,WAAW,CAACC,SAASn0B,KAAKo3B,YAAYp3B,KAAKk3B,OAAO3gB,EAAE+gB,UAAUt3B,KAAK+d,SAASoW,OAAOn0B,KAAKoS,UAAUpS,KAAKoS,SAASjF,QAAQ,CAAKiqB,gBAAY,OAAOp3B,KAAKk3B,SAAS3gB,EAAE4gB,MAAM,EAAE,IAAI5gB,EAAY3W,KAAyF2W,IAAIA,EAAE,CAAC,IAA3F3W,EAAEu3B,OAAO,GAAG,SAASv3B,EAAEA,EAAE03B,UAAU,GAAG,YAAY13B,EAAEA,EAAEy3B,YAAY,GAAG,cAA0B,MAAMhhB,EAAE,IAAIhR,EAAE,G,oCCJ1nS,sGAIA,MAAM9F,EAAE,WAAW,SAASM,EAAEN,GAAG,MAAM,aAAaA,EAAE,KAAKA,CAAC,CAAC,SAASiF,EAAEjF,GAAG,MAAM,aAAaA,CAAC,C,oCCJ/F,oGAIke,MAAMM,EAAEA,IAAI,IAAIH,EAAE,cAAcG,EAAEC,cAAcmB,SAAS8K,WAAW/L,KAAKu3B,4BAA4B,EAAEv3B,KAAKw3B,+BAA+B,GAAGx3B,KAAKy3B,SAAS12B,IAAIf,KAAKu3B,4BAA4Bv3B,KAAKw3B,gCAAgC53B,IAAEumB,UAAUnmB,KAAK03B,eAAenjB,MAAM,gDAAgDxT,GAAGf,KAAKu3B,8BAA8Bv3B,KAAKu3B,8BAA8Bv3B,KAAKw3B,gCAAgC53B,IAAEumB,UAAUnmB,KAAK03B,eAAenjB,MAAM,6BAA6B,CAAC,CAAKojB,iCAA6B,IAAI33B,KAAKipB,WAAWjpB,KAAKipB,SAAS4K,qBAAqB,OAAO,KAAK,IAAI,MAAM9yB,EAAEvB,cAAEo4B,OAAO53B,KAAKipB,SAAS4K,qBAAqB7zB,KAAKipB,SAAS4O,aAAa,IAAI92B,EAAE+2B,eAAe,OAAOl4B,IAAEumB,UAAUnmB,KAAK03B,eAAenjB,MAAM,uDAAuD,KAAK,MAAMxU,EAAE,GAAGN,EAAEsB,EAAEwzB,WAAW,OAAOh1B,YAAEE,EAAEO,KAAKipB,SAASO,OAAO,CAACuO,cAAch4B,IAAIA,EAAEsI,OAAO,GAAGzI,IAAEumB,UAAUnmB,KAAK03B,eAAenjB,MAAO,mDAAkDxU,EAAE0b,KAAK,SAAS,OAAOzb,KAAKu3B,4BAA4B,EAAEx2B,EAAyG,CAAtG,MAAMA,GAAG,OAAOnB,IAAEumB,UAAUnmB,KAAK03B,eAAenjB,MAAM,yCAAyCxT,GAAG,IAAI,CAAC,CAAKi3B,iCAA6B,OAAOh4B,KAAK23B,2BAA2B33B,KAAK23B,2BAA2BpD,WAAW,IAAI,CAAC0D,gBAAgBl3B,EAAEnB,GAAG,IAAI,OAAOmB,EAAEm3B,YAAYt4B,EAAsC,CAAnC,MAAMG,GAAG,OAAOC,KAAKy3B,SAAS13B,IAAG,CAAE,CAAC,CAACo4B,gCAAgCp3B,GAAG,IAAIf,KAAK23B,2BAA2B,OAAO52B,EAAE,MAAMnB,EAAEI,KAAKipB,SAAS4K,qBAAqB9zB,EAAEgB,EAAEqxB,QAAQ,OAAOryB,EAAEo1B,MAAMp1B,EAAEo1B,MAAO,IAAGv1B,WAAWG,EAAEo1B,SAASp1B,EAAEo1B,MAAMv1B,EAAEG,CAAC,GAAG,OAAOgB,YAAE,CAAChB,eAAKL,EAAEuN,UAAU,gBAAW,GAAQlM,YAAE,CAAChB,YAAE,CAAC8xB,UAAS,KAAMnyB,EAAEuN,UAAU,6BAA6B,MAAMlM,YAAE,CAAChB,YAAE,CAAC8xB,UAAS,KAAMnyB,EAAEuN,UAAU,6BAA6B,MAAMvN,EAAEqB,YAAE,CAACtB,YAAE,oEAAoEC,GAAGA,CAAC,C,oCCJtvE,gHAIglB,MAAMC,EAAEA,IAAI,IAAI6E,EAAE,cAAc7E,EAAEy4B,4BAA4Bx4B,GAAG,MAAMuM,MAAMtM,GAAGG,MAAMq4B,aAAa54B,GAAGI,EAAE,OAAIJ,EAA6FuE,YAAEnE,EAAED,QAAG,EAAO,IAAImB,IAAE,sCAAsC,yCAAyC,CAACoL,MAAMtM,IAA9L,IAAIkB,IAAE,sCAAsC,sBAAsB,CAACoL,MAAMtM,GAAwH,CAAC+e,gCAAgChf,GAAG,CAACgf,yBAAyBhf,EAAEmB,GAAG,MAAMtB,EAAEO,KAAKo4B,4BAA4Br3B,GAAG,GAAGtB,EAAE,MAAMA,EAAE,MAAME,EAAEE,YAAEkB,GAAGA,EAAEu3B,eAAe,KAAK,IAAI34B,GAAG,IAAIA,EAAE0I,OAAO,MAAM,GAAG,MAAM7D,EAAE,UAAUxE,KAAKmM,MAAMH,MAAMnM,YAAEG,KAAKmM,MAAM6nB,iBAAiBh0B,KAAKmM,MAAM6nB,gBAAgBh0B,KAAKmM,MAAM5M,EAAEC,YAAEQ,KAAKmM,MAAM0rB,kBAAkB93B,YAAEyE,EAAER,YAAEhE,KAAKmM,MAAMpL,WAAWf,KAAKu4B,0BAA0Bh5B,GAAG,MAAMyB,EAAE,IAAIyM,IAAI5M,EAAE,GAAG2X,EAAE,GAAG,IAAI,MAAM3Y,KAAKF,EAAED,YAAEH,EAAEM,EAAEmB,GAAGwX,EAAE3R,KAAKhH,GAAGgB,EAAEgG,KAAKhH,GAAG,OAAO,IAAI2Y,EAAEnQ,OAAOxH,EAAEb,KAAKw4B,sBAAsBhgB,EAAE,IAAIxX,IAAIsT,OAAO,IAAIkE,IAAI7M,MAAM/L,GAAGiB,EAAE+xB,OAAOhzB,IAAI,GAAG,OAAO4E,EAAE5E,YAAE,CAACH,YAAE,qDAAqD+E,GAAGA,CAAC,C,oCCJ1/C,mIAI+K,MAAMhF,EAAE,CAACi5B,eAAe,EAAEvE,WAAW,EAAEC,SAAS,GAAG,IAAI10B,EAAo9EI,EAAl9E,SAASE,EAAEH,EAAEmB,GAAG,MAAMhB,EAAEgB,EAAEqU,WAAWxV,EAAEgtB,eAAeltB,EAAEE,EAAE84B,SAASv0B,IAAIpE,GAAG,GAAGL,EAAE,OAAOA,EAAE,MAAM8E,EAAE3E,YAAEkB,EAAEqU,YAAYzV,EAAE,IAAI8N,IAAI,GAAG,MAAM1N,EAAE,OAAOP,EAAE,MAAMoH,EAAEhH,EAAE+4B,aAAa1E,6BAA6Bl0B,GAAGe,EAAE,IAAImD,IAAIjD,EAAE,CAACnB,EAAED,KAAK,MAAML,EAAEuB,EAAEqD,IAAItE,GAAG,GAAG,MAAMN,EAAE,CAAC,MAAMA,EAAEK,EAAEg5B,QAAQ74B,GAAG,OAAOe,EAAEwD,IAAIzE,EAAEN,GAAGA,CAAC,CAAC,OAAOA,CAAC,EAAE,IAAImS,EAAEjS,EAAEo5B,QAAQ,MAAMpzB,EAAE,CAACgzB,aAAa54B,EAAEL,GAAG,GAAGkS,IAAIjS,EAAEo5B,QAAQ,OAAO,MAAM94B,EAAEH,EAAEi4B,YAAY1zB,IAAItE,GAAG,GAAGN,YAAEQ,GAAG,OAAO,MAAML,EAAEE,EAAE8e,qBAAqBoa,WAAWj5B,GAAGA,EAAE4G,OAAO1G,EAAE0G,OAAO,GAAG/G,EAAE,EAAE,OAAOkH,EAAEtC,IAAI5E,EAAEF,GAAG,MAAMgF,EAAE5E,EAAE8e,qBAAqBhf,GAAG,IAAIoB,GAAE,EAAGnB,EAAEgO,IAAI9N,GAAGD,EAAEm5B,aAAa,CAACl5B,EAAEN,KAAK,MAAME,EAAEuB,EAAEnB,EAAEN,GAAG,IAAI,IAAIE,EAAE,OAAO,MAAMM,EAAEH,EAAE4wB,iBAAiB3wB,EAAEqB,OAAO,GAAGnB,EAAE,CAAC,MAAMR,EAAEQ,EAAEyE,EAAEiC,MAAMlH,IAAIA,EAAEE,GAAGD,EAAEI,EAAEo5B,iBAAiBn5B,EAAEqB,MAAMnB,EAAEgB,GAAGD,GAAE,EAAG,KAAKA,GAAGlB,EAAEq5B,eAAe,EAAE/E,WAAW,GAAGxiB,IAAIjS,EAAEo5B,QAAQ,CAAC,IAAI,MAAMh5B,KAAKF,EAAEK,KAAKy4B,aAAa54B,EAAE2E,EAAE3E,IAAI+G,EAAEstB,WAAWxiB,EAAEjS,EAAE43B,YAAYz3B,EAAE84B,SAAS3qB,OAAOhO,EAAE,CAAC,EAAEo0B,SAASziB,IAAIjS,EAAEo5B,UAAUjyB,EAAEutB,SAASziB,EAAEjS,EAAE63B,UAAU13B,EAAE84B,SAAS3qB,OAAOhO,GAAG,GAAG,OAAOH,EAAE84B,SAASp0B,IAAIvE,EAAE0F,GAAGA,CAAC,CAAC,SAAS/F,EAAEG,EAAED,GAAG,MAAML,EAAE,IAAIK,EAAEs5B,iBAAiBt5B,EAAEu5B,mBAAmBv5B,EAAEw5B,iBAAiB,IAAI,MAAMr4B,KAAKxB,EAAEwB,EAAE2M,UAAU7N,EAAE84B,aAAajE,eAAe3zB,EAAE2M,SAAS,CAAC,SAASlJ,EAAE3E,EAAEN,GAAG,MAAMwB,EAA4a,SAAWlB,EAAED,GAAG,MAAML,EAAEK,EAAEg3B,MAAMyC,eAAe,IAAI95B,GAAG,IAAIA,EAAE8I,OAAO,OAAO,IAAI5C,EAAE,MAAMjG,EAAmrB,SAAWK,GAAG,MAAMD,EAAE,IAAI6N,IAAI,IAAI5N,EAAEs5B,gBAAgB,OAAOv5B,EAAE,IAAI,MAAML,KAAKM,EAAEs5B,gBAAgB,MAAM55B,EAAEmO,UAAU,MAAMnO,EAAEgV,OAAO3U,EAAE+N,IAAIpO,EAAEmO,UAAU,OAAO9N,CAAC,CAA10BoB,CAAEpB,GAAGH,EAAE,IAAIgG,EAAE1F,EAAE,IAAIkE,IAAI,IAAI,IAAIlD,EAAE,EAAEA,EAAElB,EAAE6e,qBAAqBrW,OAAOtH,IAAIhB,EAAEuE,IAAIzE,EAAE6e,qBAAqB3d,GAAG0F,KAAK1F,GAAG,MAAMrB,EAAEG,EAAEg4B,YAAYrzB,EAAE3E,EAAE+sB,cAAcjtB,EAAEJ,EAAEsO,QAAQhO,IAAI,MAAMD,EAAEmB,YAAErB,EAAEG,EAAEuV,WAAW5Q,GAAG,OAAOhF,EAAE0E,IAAItE,EAAE,IAAI,OAAOC,EAAEk5B,aAAa,CAACn5B,EAAEL,KAAK,MAAMC,EAAE,IAAIiO,IAAIlO,GAAG,IAAI,MAAMQ,KAAKJ,EAAE,CAAC,MAAMA,EAAEoB,YAAErB,EAAEK,EAAEqV,WAAW5Q,GAAG,IAAIhF,EAAE0E,IAAIvE,GAAG,SAAS,MAAMmB,EAAEvB,EAAEq5B,QAAQj5B,GAAG,IAAI,MAAMJ,KAAKQ,EAAEqV,WAAW,CAAC,MAAMrU,EAAElB,EAAEg4B,YAAYyB,mBAAmB/5B,GAAGC,EAAEoH,EAAEnH,EAAEG,EAAEsB,MAAMH,GAAGrB,EAAEK,EAAEqV,WAAW7V,GAAGC,EAAEqH,KAAK,CAAC0yB,aAAaz4B,EAAE04B,UAAU75B,EAAEgf,MAAMjf,GAAG,CAAC,KAAKD,CAAC,CAAjgCE,CAAEE,EAAEN,GAAG,GAAG,IAAIwB,EAAEsD,KAAK,OAAO,MAAM7E,EAAE,IAAIyE,IAAI,IAAI,IAAIrE,EAAE,EAAEA,EAAEC,EAAE6e,qBAAqBrW,OAAOzI,IAAIJ,EAAE8E,IAAIzE,EAAE6e,qBAAqB9e,GAAG6G,KAAK7G,GAAG,IAAIH,GAAE,EAAGsB,EAAEuF,SAAS,CAAC/G,EAAEwB,KAAK,MAAMhB,EAAEF,EAAE2wB,iBAAiBzvB,GAAG,IAAIrB,GAAE,EAAGH,EAAE+G,SAAS,CAAC/G,EAAEwB,KAAK,MAAMyD,EAAE5E,YAAEG,GAAGA,EAAEgB,GAAG,KAAKpB,EAAEH,EAAE2E,IAAIpD,GAAG,IAAI,MAAMw4B,aAAa35B,EAAE+e,MAAMnf,EAAEg6B,UAAUz5B,KAAKR,EAAEiF,IAAIA,EAAE5E,GAAGJ,EAAEE,GAAE,EAAGD,GAAE,GAAII,EAAE84B,aAAavE,qBAAqBr0B,EAAEJ,EAAEH,EAAE,IAAIE,GAAGG,EAAEm5B,iBAAiBj4B,EAAEhB,EAAE,KAAK,IAAIN,GAAGI,EAAEo5B,eAAe,CAAylB,SAASryB,EAAE/G,EAAED,EAAEL,GAAG,MAAMwB,EAAwE,SAAWlB,EAAED,GAAG,MAAML,EAAEM,EAAEsE,IAAIvE,GAAG,GAAGL,EAAE,OAAOA,EAAE,MAAMwB,EAAE,IAAI2Q,EAAE,OAAO7R,EAAEyE,IAAI1E,EAAEmB,GAAGA,CAAC,CAAtJD,CAAEjB,EAAED,GAAGJ,EAAEuB,EAAEoD,IAAI5E,GAAG,GAAGC,EAAE,OAAOA,EAAE,MAAMC,EAAE,IAAI+I,MAAM,OAAOzH,EAAEuD,IAAI/E,EAAEE,GAAGA,CAAC,EAAsPI,EAA2FJ,IAAIA,EAAE,CAAC,IAA7FI,EAAEg5B,QAAQ,GAAG,UAAUh5B,EAAEA,EAAEw3B,YAAY,GAAG,cAAcx3B,EAAEA,EAAEy3B,UAAU,GAAG,YAAwB,MAAM5lB,EAAEzN,IAAIwB,EAAExB,G,oCCJ9yF,8CAI2F,SAASlE,IAAI,MAAM,CAAC05B,eAAe,CAACztB,KAAK,CAAC0tB,QAAQ7H,UAAS,GAAIvG,gBAAgB,CAACtf,KAAK,CAAC0tB,QAAQ7H,UAAS,EAAG1tB,IAAI,WAAW,MAAMgI,MAAMpM,EAAEoM,OAAO0rB,YAAYh4B,GAAG45B,eAAez4B,GAAGhB,KAAK,OAAOD,EAAEs1B,UAAUz1B,YAAEC,EAAE,IAAIkB,YAAElB,EAAEE,EAAEs1B,cAAcr0B,IAAIpB,YAAEC,EAAEmB,EAAE,GAAG,C,oCCJ3U,6HAImpB,MAAMF,EAAE,mCAAmCD,EAAEhB,IAAEsmB,UAAUrlB,GAAG,IAAI8F,EAAE,cAAc1B,IAAEpF,cAAcmB,SAAS8K,WAAW/L,KAAKmM,MAAM,KAAKnM,KAAK6N,OAAO,KAAK7N,KAAK25B,gBAAgB,KAAK35B,KAAK45B,yBAAwB,CAAE,CAAKtO,sBAAkB,MAAM,EAAE,CAAKuO,8BAA0B,OAAO,CAAC,CAAKA,4BAAwBj6B,GAAG,MAAM,IAAI6gB,MAAM,kBAAkB,CAAKqZ,sCAAkC,OAAM,CAAE,CAAKC,kBAAc,OAAOh6B,YAAEC,KAAKg6B,aAAa,CAAKA,mBAAe,MAAMp6B,EAAEI,KAAKmM,MAAM0B,OAAO,GAAG9M,YAAEnB,IAAIA,EAAE2f,WAAWlX,OAAO,EAAE,OAAO,KAAK,MAAMxI,EAAEG,KAAK25B,gBAAgB,GAAG54B,YAAElB,KAAKG,KAAK45B,yBAAyB55B,KAAKi6B,6BAA6B,OAAO16B,IAAE,MAAMC,EAAEI,EAAE2f,WAAW2a,UAAU,GAAGvtB,iBAAiB5M,EAAEH,EAAE2f,WAAWnS,UAAU5G,KAAK5G,IAAI,IAAIA,EAAEC,EAAEs6B,SAASv6B,EAAmH,CAAhH,MAAMmB,GAAG,OAAOF,EAAEu5B,gBAAgB,0EAA0E,IAAI,CAAC,GAAG,MAAMx6B,EAAE,OAAO,KAAK,GAAGA,EAAE+M,iBAAiBwgB,OAAO3tB,GAAG,OAAOI,EAAE,IAAI,OAAOoE,YAAEpE,EAAEJ,EAAkH,CAA/G,MAAMuB,GAAG,OAAOF,EAAEu5B,gBAAgB,yEAAyE,IAAI,KAAKvsB,QAAQjO,GAAG,MAAMA,IAAIqH,MAAM,CAACrH,EAAEC,IAAID,EAAE6tB,OAAO4M,KAAKx6B,EAAE4tB,OAAO4M,OAAOr5B,EAAE,IAAIyM,IAAIhO,EAAE,IAAI+I,MAAM9I,EAAE,IAAI8I,MAAM,IAAI,IAAIzH,KAAKhB,EAAE,CAAC,MAAMH,EAAEmB,EAAE0sB,OAAO4M,KAAK,GAAG56B,EAAE4I,OAAO,EAAErH,EAAEsF,SAAS9G,IAAI,GAAGI,GAAGJ,EAAEiuB,OAAO6M,KAAK,OAAO56B,EAAEmH,KAAKrH,QAAQwB,EAAE+M,OAAOvO,GAAGuB,EAAE0sB,OAAO8M,MAAM/6B,EAAEiuB,OAAO+M,MAAMz5B,EAAE0sB,OAAO+M,MAAMh7B,EAAEiuB,OAAO8M,MAAM16B,EAAE46B,WAAW15B,EAAEvB,IAAIC,EAAEoH,KAAKrH,EAAE,IAAIC,EAAE4I,OAAO,EAAE,CAAC5I,EAAEoH,KAAK9F,GAAG,IAAIA,EAAElB,EAAE66B,MAAMj7B,EAAwG,CAArG,MAAMiF,GAAG7D,EAAEu5B,gBAAgB,kEAAkE,QAAQ,CAAC36B,EAAE8I,MAAM9I,EAAE6G,SAAS1G,GAAGoB,EAAE+M,OAAOnO,IAAI,CAACoB,EAAE2M,IAAI5M,EAAE,CAAC,OAAOC,EAAEsF,SAAS1G,GAAGF,EAAEmH,KAAKjH,KAAKF,EAAE2I,OAAO,EAAE,CAACsyB,oBAAoB/6B,EAAE+6B,oBAAoBpb,WAAW7f,GAAG,IAAI,CAAKu6B,mCAA+B,MAAMr6B,EAAEI,KAAKmM,MAAM0B,OAAO,GAAG9M,YAAEnB,IAAIA,EAAE2f,WAAWlX,QAAQ,EAAE,OAAM,EAAG,MAAMxI,EAAED,EAAE2f,WAAW2a,UAAU,GAAGvtB,iBAAiB,OAAO/M,EAAE2f,WAAW1E,MAAM,EAAElO,iBAAiB/M,MAAMA,EAAEutB,OAAOttB,KAAK2E,YAAE5E,EAAEC,IAAI,CAAK+6B,0BAAsB,OAAO55B,YAAEhB,KAAKg6B,aAAa,CAAC9tB,aAAazM,aAAG,KAAKO,KAAK25B,iBAAiBn6B,YAAEQ,KAAKmM,MAAM0B,SAAS7N,KAAKmM,MAAM0B,OAAO0R,WAAWlX,SAASsD,MAAMiT,SAAS5e,KAAK25B,sBAAsB,2CAA6C35B,KAAK45B,wBAAwBj6B,cAAIF,aAAG,KAAKO,KAAK45B,yBAAyB55B,KAAKi6B,+BAA+BtuB,MAAMiT,gBAAgBpG,cAAIxY,KAAK45B,yBAAwB,CAAE,GAAG,CAACiB,UAAUj7B,GAAG,MAAM,IAAI6gB,MAAM,kBAAkB,CAACqa,cAAcl7B,EAAEC,GAAG,MAAM,IAAI4gB,MAAM,kBAAkB,CAACsa,eAAen7B,EAAEC,GAAG,MAAM,IAAI4gB,MAAM,kBAAkB,CAACua,kBAAkBp7B,EAAEC,GAAG,MAAM,IAAI4gB,MAAM,kBAAkB,CAACyU,cAAc,MAAM,IAAIzU,MAAM,kBAAkB,CAACwa,YAAYr7B,EAAEC,GAAG,MAAM,IAAI4gB,MAAM,kBAAkB,GAAG7gB,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,aAAQ,GAAQrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,kBAAkB,MAAMrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,0BAA0B,MAAMrN,YAAE,CAACF,YAAE,CAACmyB,UAAS,KAAMjrB,EAAEqG,UAAU,kCAAkC,MAAMrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,cAAS,GAAQrN,YAAE,CAACF,YAAE,CAACmyB,UAAS,KAAMjrB,EAAEqG,UAAU,cAAc,MAAMrN,YAAE,CAACF,YAAE,CAACmyB,UAAS,KAAMjrB,EAAEqG,UAAU,eAAe,MAAMrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,uBAAkB,GAAQrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,+BAA0B,GAAQrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,+BAA+B,MAAMrN,YAAE,CAACF,eAAKkH,EAAEqG,UAAU,sBAAsB,MAAMrG,EAAEhH,YAAE,CAAC8E,YAAE5D,IAAI8F,GAAG,MAAM2P,EAAE3P,C,iICAv4G,MAAM7G,EAAEH,IAAI,IAAIF,EAAE,cAAcE,EAAEE,cAAcmB,SAAS8K,WAAW/L,KAAKk7B,aAAa,EAAEl7B,KAAKm7B,kBAAkB,IAAIl3B,GAAG,CAAKuiB,eAAW,OAAOxmB,KAAKk7B,aAAa,CAAC,CAACE,gBAAgBv7B,EAAED,GAAG,OAAq3B,SAAWC,EAAED,GAAG,MAAMH,EAAE,KAAKM,IAAIJ,GAAGE,EAAEN,EAAE,EAAEA,EAAE,KAAK,IAAIQ,GAAGJ,EAAE,OAAOC,IAAIG,EAAEoN,QAAQxN,GAAE,EAAG,MAAME,EAAEH,YAAEK,EAAEH,GAAG,OAAOD,GAAE,EAAGE,CAAC,EAAEkB,EAAE,KAAKhB,IAAIA,EAAEyO,UAAUzO,EAAE,KAAK,EAAE,IAAIA,EAAE,IAAIP,IAAEC,GAAGE,GAAE,EAAG,OAAOE,EAAEN,GAAG,CAAC4P,OAAOpO,EAAE,CAA1iCiD,EAAGpE,GAAGI,KAAKq7B,aAAax7B,EAAED,IAAIA,EAAE,CAACgf,mBAAmB/e,EAAED,GAAG,IAAII,KAAKs7B,kBAAkBz7B,GAAG,CAAC,IAAI,MAAMJ,QAAQG,IAAII,KAAKyM,KAAK5M,EAAEJ,EAA8I,CAA3I,MAAMC,GAAGD,IAAE0mB,UAAUnmB,KAAK03B,eAAehd,KAAM,oBAAmBgf,OAAO75B,kEAAkE,CAACG,KAAKu7B,gBAAgB17B,IAAIG,KAAKq7B,aAAax7B,EAAED,EAAE,CAAC,CAAC07B,kBAAkBz7B,GAAE,MAAC,MAAMD,EAA+B,OAA9B,EAACI,KAAKm7B,kBAAkBh3B,IAAItE,IAAE,EAAEF,EAAEwC,KAAK,OAAOvC,EAAED,EAAE67B,UAAUx7B,KAAKm7B,kBAAkB72B,IAAIzE,EAAED,EAAED,EAAE87B,cAAa,MAAOz7B,KAAKk7B,aAAal7B,KAAKm7B,kBAAkB72B,IAAIzE,EAAED,EAAED,EAAE67B,WAAU,EAAG,CAACD,gBAAgB17B,GAAE,QAAGG,KAAKk7B,aAAa,MAAMt7B,GAAgC,OAA9B,EAACI,KAAKm7B,kBAAkBh3B,IAAItE,IAAE,EAAEF,EAAEwC,OAAOxC,EAAE67B,SAAS,OAAO57B,EAAED,EAAE87B,aAAaz7B,KAAKm7B,kBAAkB72B,IAAIzE,EAAED,GAAGD,EAAE87B,cAAa,IAAKz7B,KAAKm7B,kBAAkB72B,IAAIzE,EAAED,IAAG,EAAG,GAAG,OAAOC,YAAE,CAACN,YAAE,CAACsyB,UAAS,KAAMnyB,EAAEuN,UAAU,WAAW,MAAMpN,YAAE,CAACN,eAAKG,EAAEuN,UAAU,oBAAe,GAAQvN,EAAEG,YAAE,CAACkB,YAAE,0BAA0BrB,GAAGA,CAAC,EAAE,IAAIC,EAAyME,KAAmFF,IAAIA,EAAE,CAAC,IAArFE,EAAEsC,KAAK,GAAG,OAAOtC,EAAEA,EAAE27B,SAAS,GAAG,WAAW37B,EAAEA,EAAE47B,YAAY,GAAG,cAA0B,IAAI36B,EAAE,cAAcf,EAAEH,QAAMkB,EAAEjB,YAAE,CAACkB,YAAE,0BAA0BD,G,0CCA5nC,MAAMkD,EAAE,4DAA4D,IAAIrE,EAAE,cAAcoB,EAAEtB,MAAIK,YAAYF,GAAGqB,MAAMrB,EAAE,CAAK65B,qBAAiB,MAAMhR,WAAWtc,OAAO0rB,YAAYj4B,GAAGo4B,2BAA2Bj3B,GAAG26B,eAAej8B,EAAEk8B,eAAe97B,EAAE+7B,iBAAiBp8B,GAAGQ,KAAK,OAAOT,YAAEK,EAAE,IAAIG,YAAEgB,EAAE,OAAOhB,YAAEN,EAAE,OAAOM,YAAEF,EAAE,OAAOE,YAAEP,EAAE,KAAK,CAAC0M,aAAa,MAAMtM,EAAEI,KAAKyoB,UAAUtc,MAAMnM,KAAKmM,MAAMvM,EAAEI,KAAK67B,QAAQluB,IAAI,CAAC3N,KAAKo7B,gBAAgB,kBAAkB,KAAK,MAAMvD,YAAYj4B,EAAEk8B,SAAS/6B,GAAGf,KAAKmM,MAAM,OAAOpL,EAAEyX,GAAG/Y,GAAGsB,EAAEg7B,sBAAsBt8B,EAAEG,KAAK,IAAI,IAAII,KAAKo7B,gBAAgB,kBAAkB,KAAK,MAAMjvB,MAAMvM,GAAGI,KAAK,OAAOJ,EAAEo8B,cAAcxjB,GAAGzX,GAAGrB,YAAEqB,EAAEnB,KAAK,IAAI,IAAII,KAAKo7B,gBAAgB,oBAAoB,KAAK,MAAMjvB,MAAMvM,EAAEiO,OAAO9M,GAAGf,KAAKyoB,UAAU,OAAOjQ,GAAG/Y,GAAGqB,YAAErB,EAAEG,EAAEmB,IAAI,KAAK,GAAG6d,eAAepG,EAAE5Y,GAAG,MAAMmB,EAAE,IAAI0M,IAAI,IAAI,aAAa7N,EAAEmB,GAAGyH,MAAMsmB,KAAK/tB,GAAGkG,MAAmD,CAA5C,MAAMxH,GAAG,OAAOI,IAAEsmB,UAAUniB,GAAGuQ,MAAM9U,GAAG,IAAI,CAAC,CAACG,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,iBAAY,GAAQrN,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,aAAQ,GAAQrN,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,iBAAiB,MAAMrN,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,sBAAiB,GAAQrN,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,sBAAiB,GAAQrN,YAAE,CAACJ,eAAKG,EAAEsN,UAAU,wBAAmB,GAAQtN,EAAEC,YAAE,CAACoB,YAAEgD,IAAIrE,E,qQCAjtD,MAAMoB,UAAUnB,IAAEE,YAAYF,GAAGqB,MAAM,mBAAmB,gCAAgC,CAACg7B,8BAA8Br8B,GAAG,CAACA,EAAEygB,iBAAiBzgB,EAAE,CAACs8B,eAAc,GAAI,E,uKCAkyE,MAAM1P,EAAEjjB,cAAI,IAAI6c,EAAE,cAAcgK,YAAE9mB,YAAEgC,YAAEwZ,QAAMhlB,cAAcmB,SAAS8K,WAAW/L,KAAKgM,KAAK,0BAA0BhM,KAAKm8B,mBAAmB,IAAIl4B,IAAIjE,KAAKo8B,aAAa,KAAKp8B,KAAKuzB,UAAU,KAAKvzB,KAAKkzB,4BAA4B,IAAIjvB,IAAIjE,KAAKq8B,eAAe,IAAIpc,IAAEjgB,KAAK8P,YAAY,SAAS9P,KAAKujB,sBAAsB,EAAEvjB,KAAKs8B,8BAA6B,EAAGt8B,KAAKu8B,gCAAgC,EAAEv8B,KAAKw8B,mCAAmC,EAAE,CAACtwB,aAAY,QAAC,MAAMtM,EAAEI,KAAKmM,MAAMnM,KAAKsM,oBAAoB1M,EAAE6pB,WAAWzpB,KAAKy8B,cAAc,IAAIpqB,IAAE,CAACzF,KAAK5M,KAAK4M,KAAKT,MAAMnM,KAAKmM,MAAM8Q,iBAA6C,OAA7B,EAACjd,KAAK4M,KAAKoQ,yBAAkB,EAA5B,EAA8BC,mBAAmB9X,YAAEvF,EAAEI,KAAK4M,KAAKD,iBAAiB3M,KAAK4M,KAAKif,aAAa7rB,KAAK08B,cAAc,IAAIC,IAAE,CAAClU,UAAUzoB,OAAOA,KAAK48B,gBAAgBjvB,KAAK,IAAI/N,EAAEi9B,aAAaj9B,GAAGI,KAAK88B,mBAAmBl9B,IAAIkB,KAAGd,KAAK48B,gBAAgBjvB,KAAK,IAAI/N,EAAEk8B,WAAW,CAACl8B,EAAEC,IAAIG,KAAK+8B,gBAAgBn9B,EAAEC,KAAKG,KAAK48B,gBAAgBjvB,KAAK,IAAI,CAAC3N,KAAK23B,2BAA2B33B,KAAKg9B,2BAA2B,IAAIh9B,KAAKi9B,kBAAkBj9B,KAAK67B,QAAQluB,IAAI3M,aAAG,IAAI6e,IAAEqd,sBAAsBt9B,IAAI,GAAGA,IAAII,KAAKm9B,cAAc,CAAC,MAAMv9B,EAAEI,KAAKo9B,YAAYpU,SAAS,gCAAuCrd,MAAM,EAAE0xB,gBAAgBx9B,OAAOG,KAAKm9B,eAAetd,IAAEqd,sBAAsBl9B,KAAKm9B,cAAc,IAAIt9B,EAAE,CAACy9B,GAAGt9B,KAAK4M,KAAK5M,KAAK4M,KAAK2wB,OAAO39B,IAAI,GAAG,MAAMA,IAAII,KAAKm9B,eAAetd,IAAEqd,sBAAsBl9B,KAAKm9B,cAAc3uB,UAAUxO,KAAKm9B,cAAc,KAAK,GAAGr8B,MAAId,KAAKyM,KAAK,YAAY,IAAIpG,IAAE,CAACm3B,MAAMx9B,KAAKy9B,sBAAsBvd,IAAEwd,MAAMhX,wBAAuB,EAAGiX,yBAAwB,EAAGC,mBAAkB,EAAGC,0BAAyB,EAAGC,2BAA0B,EAAGC,mCAAkC,EAAGC,iBAAgB,EAAGC,WAAWr+B,EAAEs+B,WAAWC,qBAAqBv+B,GAAGI,KAAKo+B,sBAAsBx+B,MAAuC,OAAlC,EAACI,KAAKq+B,UAAUC,qBAAf,EAAmCC,OAAOjR,GAAG,wBAAwB1tB,GAAGI,KAAKo9B,YAAY/lB,uBAAuBzX,EAAE6tB,OAAO7tB,EAAE+M,oBAAoB3M,KAAKs8B,+BAA+Bt8B,KAAKw+B,eAAe53B,YAAE,QAAQhH,EAAE+M,iBAAiB3M,KAAK4M,KAAKD,mBAAmB3M,KAAKsM,oBAAoBtM,KAAKq+B,UAAUI,mBAAmBz+B,KAAKuzB,UAAUvzB,KAAK4M,KAAKoQ,mBAAmBC,iBAAiBuW,SAAS5zB,EAAE6zB,KAAKzzB,KAAKo9B,YAAY,IAAI1rB,IAAE,CAAC+W,UAAUzoB,KAAK0mB,wBAAuB,IAAKrQ,YAAErW,KAAKmM,MAAMiS,uBAAuBpe,KAAK0+B,QAAQ,IAAIr1B,GAAGzJ,GAAGI,KAAK4M,KAAKoQ,mBAAmB2Q,SAAS/tB,MAAMI,KAAK67B,QAAQluB,IAAI3N,KAAKmM,MAAMmhB,GAAG,eAAe1tB,GAAGI,KAAK48B,gBAAgB+B,WAAW/+B,EAAEg/B,WAAW5+B,KAAK67B,QAAQluB,IAAI3N,KAAKmM,MAAMmhB,GAAG,SAAS1tB,GAAGI,KAAK6+B,aAAaj/B,MAAMI,KAAK0pB,MAAM,KAAK,MAAM9pB,EAAE,IAAII,KAAKq+B,UAAUS,aAAa9+B,KAAKo8B,aAAa,IAAI3jB,IAAE,CAACsmB,QAAQ,CAACpyB,iBAAiB3M,KAAK4M,KAAKD,iBAAiBR,MAAMnM,KAAKmM,MAAMye,UAAU5qB,KAAK4M,KAAKoQ,mBAAmB4N,UAAckU,mBAAe,OAAOl/B,GAAG,EAAEo/B,KAAKh/B,KAAKg/B,KAAKC,KAAKj/B,KAAKi/B,MAAMjwB,SAASoe,IAAE8R,uBAAuBl/B,KAAK48B,gBAAgBjvB,KAAK,IAAI3N,KAAK65B,0BAA0Bj6B,GAAGI,KAAKo9B,YAAY9W,cAAc1mB,GAAGkB,KAAGd,KAAK48B,gBAAgBjvB,KAAK,IAAI3N,KAAKqqB,YAAYzqB,IAAIA,GAAGI,KAAKm/B,oBAAoB,GAAG,GAAG,CAAC3wB,UAAUxO,KAAKm9B,cAAcp9B,YAAEC,KAAKm9B,eAAen9B,KAAKy8B,cAAc18B,YAAEC,KAAKy8B,eAAez8B,KAAKyM,KAAK,YAAY1M,YAAEC,KAAKq+B,YAAYr+B,KAAKo9B,YAAYr9B,YAAEC,KAAKo9B,aAAap9B,KAAKo8B,aAAar8B,YAAEC,KAAKo8B,cAAcp8B,KAAK0+B,QAAQ3+B,YAAEC,KAAK0+B,SAAS1+B,KAAKuzB,UAAUxzB,YAAEC,KAAKuzB,WAAWvzB,KAAKm8B,mBAAmBhvB,QAAQnN,KAAK08B,cAAc38B,YAAEC,KAAK08B,cAAc,CAAKzT,eAAW,OAAOjpB,KAAKmM,KAAK,CAAKizB,4BAAuB,QAAC,OAAyC,OAAzC,EAAuB,OAAvB,EAAOp/B,KAAKo9B,kBAAW,EAAhB,EAAkB3W,kBAAgB,EAAE,CAAC,CAAKgT,qBAAgB,QAAC,OAAyC,OAAzC,EAAyB,OAAzB,EAAOz5B,KAAK08B,oBAAa,EAAlB,EAAoBjD,gBAAc,EAAE,EAAE,CAAKI,8BAAyB,UAAC,MAAMj6B,EAAgB,OAAf,EAACI,KAAKq+B,YAAuB,OAAd,EAAd,EAAgBgB,mBAAF,EAAd,EAA8BC,oBAAoB,OAAiC,OAAjC,EAAQ,MAAD1/B,OAAC,EAADA,EAAGi6B,yBAAuB,EAAE,CAAC,CAAKA,4BAAwBj6B,GAAG,MAAMA,GAAGI,KAAKu/B,UAAU,0BAA0B3/B,GAAGI,KAAKo9B,YAAY7W,oBAAmB,IAAKvmB,KAAKw/B,eAAe,2BAA2Bx/B,KAAKo9B,YAAY7W,oBAAmB,EAAG,CAAKuT,sCAAiC,MAAC,OAAO95B,KAAKqqB,aAA8B,OAAjB,EAACrqB,KAAKo9B,eAAL,EAAkB7U,8BAA6BvoB,KAAKo9B,YAAYrrB,aAAc,CAAKirB,8BAA0B,MAAMp9B,EAAEI,KAAKmM,MAAMszB,iBAAiB,OAAO7/B,EAAEyI,OAAOzI,EAAEwN,UAAUnG,MAAM,CAACrH,EAAEC,IAAID,EAAEC,IAAI,IAAI,CAAKwrB,gBAAY,MAAM,WAAWrrB,KAAKmM,MAAMuzB,SAAS,EAAE1/B,KAAK4M,KAAK+yB,gBAAgBC,aAAaC,MAAMxU,SAAS,CAAK4T,WAAO,OAAM,CAAE,CAAKD,WAAO,OAAM,CAAE,CAACpgB,4BAA4Bhf,EAAEC,GAAG,OAAOiK,YAAE9J,KAAKmM,MAAMvM,EAAEI,KAAK8/B,oBAAoBjgC,GAAG,IAAI,IAAIG,KAAKm8B,mBAAmBluB,WAAW,CAAC8xB,OAAOngC,GAAG,IAAII,KAAKq8B,eAAe,OAAO,KAAK,MAAMx8B,EAAE0W,YAAEvW,KAAKq8B,eAAe9wB,MAAM1L,GAAGA,EAAE4zB,MAAM7zB,IAAII,KAAKmM,OAAOpL,EAAEf,KAAK8/B,oBAAoB,OAAOjgC,GAAGA,EAAEuV,YAAYvV,EAAEuV,WAAWrU,IAAIlB,EAAEsM,MAAMnM,KAAKmM,MAAMtM,EAAEmgC,YAAYhgC,KAAKmM,MAAM,CAACH,KAAK,UAAUi0B,QAAQpgC,EAAEsM,MAAMtM,EAAEsM,QAAQ,IAAI,CAAC+zB,kBAAkBtgC,EAAEC,GAAG,OAAOG,KAAKq+B,UAAU6B,kBAAkBtgC,EAAEC,EAAE,CAACsgC,wBAAwBvgC,EAAEC,GAAG,OAAOG,KAAKq+B,UAAU8B,wBAAwBvgC,EAAEC,EAAE,CAACugC,YAAY,OAAOn/B,MAAMm/B,eAAepgC,KAAKo9B,aAAap9B,KAAKo9B,YAAYlU,gBAAgB,CAACmX,aAAY,UAAC,SAAyB,OAAhB,EAAArgC,KAAKo9B,cAAL,EAAkB5W,UAAwB,OAAhB,EAAExmB,KAAKq+B,YAAL,EAAgB7X,UAA4B,OAApB,EAAExmB,KAAK08B,gBAAL,EAAoBlW,UAAUxmB,KAAK46B,oBAAoB,CAACC,UAAUj7B,GAAG,OAAOI,KAAKq+B,UAAUxD,UAAUj7B,EAAEI,KAAKmM,MAAMygB,cAAc,CAAK0T,mBAAe,OAAOtgC,KAAKq+B,UAAUgB,aAAakB,qBAAqB,CAACtM,6BAA6Br0B,GAAG,OAAOuf,YAAEnf,KAAKwgC,yBAAyB5gC,EAAE,CAACgf,8BAA8Bhf,EAAEC,GAAG,MAAMkB,EAAE,CAACsf,eAAezgB,EAAEygB,gBAAgB,OAAO7gB,YAAEQ,KAAK0+B,WAAW1+B,KAAK0+B,QAAQ,IAAIr1B,GAAGzJ,GAAGI,KAAK4M,KAAKoQ,mBAAmB2Q,SAAS/tB,MAAMI,KAAK0+B,QAAQ+B,OAAO1/B,EAAElB,GAAG8L,MAAM/L,IAAI,GAAGF,YAAEE,GAAI,MAAM,CAAC8gC,aAAa9gC,EAAE+gC,UAAUnhB,WAAW5f,EAAE4f,YAAY,MAAM,IAAIiB,MAAM,wCAAwC,GAAG,CAACmgB,aAAahhC,EAAEC,GAAGD,IAAI4Y,YAAE5Y,EAAEC,KAAKG,KAAKu8B,gCAAgCv8B,KAAKw8B,oCAAoC/8B,IAAE0mB,UAAUnmB,KAAK03B,eAAenjB,MAAM,sDAAsDvU,KAAKu8B,gCAAgC,IAAIv8B,KAAKw8B,oCAAoC/8B,IAAE0mB,UAAUnmB,KAAK03B,eAAenjB,MAAM,iEAAiEvU,KAAKu8B,kCAAkC,CAAC3d,cAAchf,EAAEC,EAAEkB,GAAG,IAAI8rB,EAAEhtB,KAAKyf,EAAEzf,GAAG,MAAM,IAAI4gB,MAAM,GAAGzgB,KAAKm8B,mBAAmBj4B,IAAItE,EAAEsB,OAAO,YAAYzB,IAAE0mB,UAAUnmB,KAAK03B,eAAenjB,MAAM,YAAY3U,EAAEK,GAAG,kBAAkB,MAAMF,EAAEL,YAAEM,KAAKmM,MAAM+xB,YAA+jU,SAAYt+B,EAAEC,GAAG,OAAOD,EAAEy6B,MAAMx6B,EAAED,EAAE26B,MAAM16B,EAAED,EAAE06B,MAAMz6B,EAAED,EAAE46B,MAAM36B,EAAED,EAAEo/B,OAAOp/B,EAAEihC,MAAMhhC,EAAED,EAAEkhC,MAAMjhC,GAAGD,EAAEq/B,OAAOr/B,EAAEmhC,MAAMlhC,EAAED,EAAEohC,MAAMnhC,GAAGD,CAAC,CAAhrUkwB,CAAG9vB,KAAKmM,MAAM+xB,WAAW9L,QAAQ,IAAI,KAAK5yB,EAAEQ,KAAKo9B,YAAYrU,UAAUxpB,EAAE,GAAGuB,EAAE,CAACmgC,SAAS,KAAKzhB,WAAW,KAAKwR,cAAcnxB,EAAEugB,kBAAkB7Q,KAAK3P,GAAG,GAAGitB,EAAEhtB,SAASG,KAAKkhC,wBAAwBthC,EAAEkB,EAAEjB,EAAEE,EAAER,EAAEwB,GAAGue,EAAEzf,IAAIG,KAAKmhC,wBAAwBvhC,EAAEkB,EAAEjB,EAAEE,EAAER,SAASS,KAAKy8B,cAAc2E,MAAMtgC,EAAE0e,WAAW3f,EAAEugB,kBAAkBrf,GAAGnB,EAAE6B,YAAYX,EAAEmgC,SAAS54B,OAAOrI,KAAKqhC,kBAAkBzhC,GAAG6sB,EAAE3rB,GAAGvB,EAAE8I,OAAO,IAAIrI,KAAKshC,YAAY1hC,EAAEL,EAAEC,GAAGQ,KAAKo9B,YAAY1N,iBAAiB9vB,EAAEsB,SAASlB,KAAKo9B,YAAYxlB,kBAAkBhY,GAAG,YAAYI,KAAKuhC,eAAezgC,GAAG,GAAGpB,YAAEM,KAAKw+B,gBAAgB,IAAI,MAAM/+B,KAAKqB,EAAEmgC,SAASjhC,KAAKw+B,eAAe/+B,EAAEwV,UAAU,MAAMjU,EAAEhB,KAAK4M,KAAK40B,OAAOC,WAAWC,8BAA8B,GAAG1gC,EAAE,IAAI,IAAIvB,EAAE,EAAEA,EAAEqB,EAAE0e,WAAWnX,OAAO5I,IAAI,CAAC,MAAMG,EAAEkB,EAAE0e,WAAW/f,GAAGuB,EAAE2gC,yBAAyB/hC,EAAEkB,EAAEmgC,SAASxhC,GAAGg0B,IAAIzzB,KAAKmM,MAAMlM,GAAGD,KAAKmM,MAAMsnB,IAAIzzB,KAAKmM,MAAMksB,aAAav3B,EAAEyO,KAAKlO,UAAU+T,WAAW3V,EAAE,CAACO,KAAKm8B,mBAAmB73B,IAAI1E,EAAEsB,MAAMJ,GAAGd,KAAKq8B,eAAe7uB,QAAQ1M,EAAEmgC,UAAUjhC,KAAKo9B,YAAYlM,iBAAiBtxB,EAAEsB,OAAM,GAAIlB,KAAK4hC,YAAY9gC,GAAGd,KAAKm9B,eAAen9B,KAAKm9B,cAAcluB,QAAQ,CAACqyB,YAAY1hC,EAAEC,EAAEkB,GAAG,MAAMtB,EAAEO,KAAKo9B,YAAYpU,SAASjpB,EAAEN,EAAEoiC,aAAa7hC,KAAK4M,KAAKmgB,uBAAuBttB,EAAEiF,YAAE7E,EAAEkB,EAAE,EAAElB,EAAEE,EAAE,EAAEF,EAAEwI,OAAO,GAAG,MAAM7I,EAAE,CAACmJ,KAAK9I,EAAEwE,KAAK,GAAGzE,EAAEgW,WAAWsQ,YAAE1mB,GAAGC,EAAEoiC,cAAcnyB,YAAE9P,EAAEgW,WAAWf,OAAO9U,EAAEH,EAAEgW,WAAWf,OAAOpV,EAAE,CAAC8d,aAAa3d,GAAG,OAAOI,KAAKm8B,mBAAmBj4B,IAAItE,EAAE,CAACge,kBAAkB,OAAM,CAAE,CAACD,kBAAkB,CAACiB,8BAA8Bhf,EAAEmB,EAAEtB,EAAEM,EAAEP,EAAEsB,GAAG,MAAME,QAAQhB,KAAK8hC,wBAAwBriC,EAAEqB,GAAG,GAAG,MAAME,EAAE,MAAM,IAAIyf,MAAM,MAAM5f,EAAEb,KAAK8/B,oBAAoBt7B,EAAExE,KAAKo9B,YAAYrU,UAAU7jB,EAAElF,KAAK4M,KAAKD,iBAAiB+C,EAAE1P,KAAKq+B,UAAUgB,cAAcqB,aAAaloB,EAAEgH,WAAW5Y,GAAG5F,EAAMqE,EAAEmT,EAAEnQ,OAAN,EAAekO,EAAE,IAAI/N,MAAMkJ,EAAEhS,YAAEE,EAAEgW,YAAYhW,EAAEgW,WAAWf,OAAO,CAAC,EAAE,EAAE,GAAG1J,EAAE8K,KAAK0P,IAAIjU,EAAE,IAAI,IAAI,GAAG,IAAI,IAAI1H,EAAE,EAAEA,EAAE3E,EAAE2E,IAAI,CAAC,MAAMjJ,EAA5H,EAA8HiJ,EAAIvK,EAAEuE,YAAEwU,EAAEzX,EAAE,GAAGyX,EAAEzX,EAAE,GAAGyX,EAAEzX,EAAE,IAAIpB,YAAEF,EAAEA,EAAEiS,GAAGuE,KAAK0P,IAAIlmB,EAAE,IAAI0L,IAAI1L,EAAE,GAAG,GAAGG,EAAEgW,YAAYpW,EAAEqH,KAAKpH,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIC,YAAEK,IAAIC,KAAK4gC,aAAa7gC,EAAEN,GAAG,MAAMqB,EAAE8F,EAAEoD,GAAGhJ,EAAE,CAAC,EAAE,MAAMF,IAAIE,EAAEH,GAAGC,GAAG,MAAMuE,EAAG,MAADvE,IAAGjB,IAAEkiC,cAAcr9B,YAAEjF,EAAE+E,EAAE,EAAEw9B,EAAG98B,EAAE,EAAE,GAAG,MAAMmE,EAAEsL,YAAEqtB,EAAG,GAAGA,EAAG,GAAGA,EAAG,GAAG98B,GAAGoG,EAAEtL,KAAKq8B,eAAel4B,IAAIkB,GAAG,GAAG3F,YAAE4L,GAAGA,EAAElK,MAAMxB,EAAEwB,QAAQ6gC,EAAGC,SAAS,WAAWD,EAAGhC,QAAQ30B,EAAE22B,EAAGE,SAAS5iC,YAAE+L,EAAE2J,UAAUgtB,EAAGG,SAAS/4B,EAAEiC,EAAE2J,SAAS5L,EAAEqG,EAAE2yB,qBAAqBJ,IAAK1rB,EAAE1P,KAAKyE,OAAO,CAAC,MAAMvK,EAAElB,IAAEkiC,cAAcxrB,EAAE1P,KAAK,CAAC6G,SAASrI,EAAEouB,IAAI1yB,EAAEkU,SAAS5L,EAAE+L,WAAWpU,EAAEmtB,SAAQ,EAAG/sB,MAAMxB,EAAEwB,OAAO,CAAC,CAACL,EAAEkgC,SAAS1qB,EAAExV,EAAEye,WAAWhX,MAAMsmB,KAAKloB,EAAE,CAACu6B,wBAAwBvhC,EAAEmB,EAAEtB,EAAEM,EAAEP,GAAG,MAAMD,EAAES,KAAK8/B,oBAAoBh/B,EAAEd,KAAKo9B,YAAYrU,UAAU/nB,EAAEhB,KAAK4M,KAAKD,iBAAiB9L,EAAE,CAAC,EAAE,EAAE,GAAG2D,EAAE,IAAIgE,MAAM7I,EAAE,IAAI6I,MAAM,IAAI,MAAMxE,KAAKvE,EAAE+gB,UAAU,CAAC,MAAMzf,EAAEiD,EAAEyb,oBAAoBhgB,EAAEsB,EAAEsH,OAAOnD,EAAElB,EAAEub,YAAYvb,EAAEub,WAAW,IAAI4S,EAAG1yB,GAAGiQ,EAAE1L,EAAEwb,WAAW,GAAG,GAAG,WAAWta,EAAE4C,OAAOkE,KAAK,SAAStM,YAAEK,IAAIC,KAAK4gC,aAAa7gC,EAAEgB,GAAG,MAAMyX,EAAE,CAAC,EAAE,MAAM9I,IAAI8I,EAAEjZ,GAAGmQ,GAAG,MAAM9I,EAAG,MAAD8I,IAAG7P,IAAEkiC,cAAc,IAAIt8B,EAAE,aAAaP,EAAE8G,OAAOvG,EAAEP,EAAE4C,OAAOiY,iBAAiBL,UAAU,IAAI,IAAI3f,EAAE,EAAEA,EAAE0F,EAAE4C,OAAOtI,GAAGN,EAAE,CAAC,IAAI,IAAIG,EAAE,EAAEA,EAAEH,EAAEG,IAAIiB,EAAEjB,GAAGmB,EAAEnB,GAAG6F,EAAE1F,EAAEH,GAAG,MAAML,EAAE,IAAIE,EAAEG,EAAEgW,YAAYpW,EAAEqH,KAAKhG,EAAE,GAAGA,EAAE,GAAGtB,EAAEsB,EAAE,GAAG,GAAG6D,YAAE7D,EAAEC,EAAE,EAAEkhC,EAAGhhC,EAAE,EAAE,GAAG,MAAMwD,EAAEmQ,YAAEqtB,EAAG,GAAGA,EAAG,GAAGziC,EAAEyiC,EAAG,QAAG,EAAOhhC,GAAGgD,EAAEhE,KAAKq8B,eAAel4B,IAAIyC,GAAGlH,YAAEsE,GAAGrE,EAAEkH,KAAK7C,GAAGrE,EAAEkH,KAAK,CAAC6G,SAAS9G,EAAE6sB,IAAI5zB,IAAEkiC,cAAc9sB,SAASzQ,EAAE4Q,WAAWoD,EAAE2V,SAAQ,GAAI,CAAC3pB,EAAEqC,KAAK6I,EAAE,CAAC3O,EAAEkgC,SAASthC,EAAEoB,EAAEye,WAAWhb,CAAC,CAAC68B,kBAAkBzhC,GAAGA,EAAEiC,OAAO,MAAMnC,YAAEE,EAAE6B,aAAa7B,EAAE6B,YAAYzB,KAAKq+B,UAAUgB,aAAaiD,qBAAqB,EAAE,CAACf,eAAe3hC,GAAG,MAAMC,EAAED,EAAEqhC,SAAS1L,QAAQ,CAAC31B,EAAEC,IAAIwF,YAAExF,GAAGD,GAAG,IAAI,EAAEA,EAAE4f,WAAWnX,OAAO,MAAMrI,KAAKuzB,UAAUqB,IAAI50B,KAAKuiC,gBAAgB3iC,EAAE2P,MAAM3P,EAAEC,EAAE,CAAC0iC,gBAAgB3iC,GAAG,MAAO,GAAEA,EAAEsB,OAAO,CAACi+B,qBAAqBn/B,KAAKm8B,mBAAmB71B,SAAS,CAAC1G,EAAEC,KAAK,GAAGD,EAAE,CAAC,MAAMC,EAAED,EAAE2P,KAAKvP,KAAKqhC,kBAAkBxhC,GAAGG,KAAKuhC,eAAe3hC,EAAE,CAACI,KAAKo9B,YAAYlM,iBAAiBrxB,GAAE,EAAG,IAAIG,KAAKm8B,mBAAmBhvB,QAAQnN,KAAKm9B,eAAen9B,KAAKm9B,cAAcluB,SAASjP,KAAKq8B,eAAelvB,OAAO,CAACiiB,WAAWxvB,GAAG,MAAMC,EAAEG,KAAKwiC,qBAAqB5iC,GAAGC,IAAIG,KAAKqhC,kBAAkBxhC,EAAE0P,MAAMvP,KAAKuhC,eAAe1hC,GAAG,CAAC2iC,qBAAqB5iC,GAAG,MAAMC,EAAEG,KAAKm8B,mBAAmBh4B,IAAIvE,GAAG,OAAOC,GAAGG,KAAKo9B,YAAYlM,iBAAiBtxB,GAAE,GAAII,KAAKq8B,eAAevuB,WAAWjO,EAAEohC,UAAUjhC,KAAKm8B,mBAAmBpuB,OAAOnO,GAAGI,KAAKm9B,eAAen9B,KAAKm9B,cAAcluB,SAASpP,GAAG,IAAI,CAAC+e,yBAAyBhf,GAAG,OAAOI,KAAKuzB,UAAUhrB,IAAIvI,KAAKuiC,gBAAgB3iC,GAAG,CAACgf,wBAAwBhf,EAAEC,EAAEkB,EAAEhB,GAAGC,KAAKm8B,mBAAmBj4B,IAAItE,EAAEsB,OAAOzB,IAAE0mB,UAAUnmB,KAAK03B,eAAenjB,MAAM,YAAY3U,EAAEK,GAAG,mBAAmBD,KAAKq8B,eAAe7uB,QAAQ3N,EAAEohC,UAAUjhC,KAAKm8B,mBAAmB73B,IAAI1E,EAAEsB,MAAMrB,GAAGG,KAAKo9B,YAAYlM,iBAAiBtxB,EAAEsB,OAAM,GAAIlB,KAAKqhC,kBAAkBzhC,SAASI,KAAKywB,iBAAiB7wB,EAAEsB,MAAMH,EAAEhB,GAAGC,KAAK4hC,YAAY/hC,GAAGG,KAAKm9B,eAAen9B,KAAKm9B,cAAcluB,SAAS,CAACwzB,mBAAmB,MAAM7iC,EAAE,GAAG,OAAOI,KAAKm8B,mBAAmB71B,SAASzG,GAAGD,EAAEiH,KAAKhH,EAAE0P,KAAKtP,MAAML,EAAEqH,MAAM,CAACy7B,kBAAkB,MAAM9iC,EAAE,IAAI4I,MAAM,OAAOxI,KAAKm8B,mBAAmB71B,SAASzG,GAAGD,EAAEiH,KAAKhH,EAAE0P,QAAQ3P,CAAC,CAACqwB,qBAAqBrwB,GAAGI,KAAKm8B,mBAAmB71B,SAAS,CAACzG,EAAEkB,IAAInB,EAAEiH,KAAK9F,IAAI,CAACuvB,oBAAoB1wB,GAAG,MAAMC,EAAEG,KAAKm8B,mBAAmBh4B,IAAIvE,GAAG,GAAGC,GAAGH,YAAEG,EAAEmxB,eAAe,OAAOnxB,EAAEmxB,cAAc7Q,gBAAgB,CAACqQ,iBAAiB5wB,GAAG,MAAMC,EAAEG,KAAKm8B,mBAAmBh4B,IAAIvE,GAAG,GAAGC,GAAGH,YAAEG,EAAEmxB,eAAe,OAAOnxB,EAAEmxB,cAAcpW,aAAa,CAAC+nB,kBAAkB/iC,EAAEC,GAAG,MAAMkB,EAAEf,KAAKm8B,mBAAmBh4B,IAAIvE,GAAGmB,IAAIvB,YAAEuB,EAAEiwB,iBAAiBjwB,EAAEiwB,cAAcpW,cAAc/a,EAAEG,KAAK4iC,wBAAwB7hC,GAAG,CAAC6d,uBAAuBhf,EAAEC,EAAEkB,GAAG,MAAMtB,EAAEO,KAAKm8B,mBAAmBh4B,IAAIvE,GAAGH,UAAUO,KAAKy8B,cAAc2E,MAAM3hC,EAAE+f,WAAW3f,EAAEkB,GAAGtB,EAAEuxB,cAAcnxB,EAAEG,KAAK4iC,wBAAwBnjC,GAAG,CAACmjC,wBAAwBhjC,GAAG,GAAG6sB,EAAE7sB,GAAGI,KAAK4hC,YAAYhiC,GAAGI,KAAKq+B,UAAUgB,aAAawD,cAAc,CAAC,MAAMhjC,EAAED,EAAEqhC,SAASz6B,KAAK5G,GAAGA,EAAE6zB,MAAMzzB,KAAKq+B,UAAUgB,aAAayD,mBAAmBjjC,EAAE,CAAC,CAACu+B,sBAAsBx+B,GAAG,OAAOI,KAAKo9B,aAAap9B,KAAKo9B,YAAY1Y,mBAAmB9kB,IAAG,CAAE,CAACkgC,oBAAoB,OAAO9/B,KAAKmM,MAAMygB,eAAennB,GAAC,CAACmZ,sBAAsBhf,EAAEC,GAAG,MAAMsM,OAAO0rB,YAAY92B,IAAIf,KAAKP,EAAE,IAAIgO,IAAI,IAAI1N,EAAEP,EAAEI,SAASA,EAAEm8B,sBAAsBt8B,EAAEsB,GAAGhB,EAAEyI,MAAMsmB,KAAKrvB,GAAGwH,QAAQlH,EAAE,GAAGN,EAAE0N,QAAQtN,SAASA,EAAEk8B,sBAAsBt8B,EAAEsB,GAAGvB,EAAEgJ,MAAMsmB,KAAKrvB,GAAGwH,QAAQzH,EAAE,GAAGO,EAAEsI,SAAS7I,EAAE6I,QAAQtI,EAAEgyB,OAAO,CAACnyB,EAAEC,IAAIE,EAAEF,KAAKL,EAAEK,MAAMG,KAAK+iC,iBAAiB,CAACjG,mBAAmBl9B,GAAG,MAAMA,GAAGA,EAAEyI,OAAO,GAAG5I,IAAE0mB,UAAUnmB,KAAK03B,eAAehd,KAAK,qHAAqH,CAACuiB,gBAAgBj9B,KAAKm8B,mBAAmB71B,SAAS1G,GAAGI,KAAK4hC,YAAYhiC,IAAI,CAACmjC,kBAAkB/iC,KAAKm/B,qBAAqBn/B,KAAKo9B,aAAap9B,KAAKo9B,YAAY3S,oBAAoB,CAACmX,YAAYhiC,GAAG,MAAMC,EAAEG,KAAK23B,2BAA2Bl4B,EAAEO,KAAKg9B,wBAAwBj9B,EAAEC,KAAK8/B,oBAAoB,IAAI,MAAMpgC,KAAKE,EAAEqhC,SAAS,CAAC,MAAMrhC,EAAEF,EAAEyuB,QAAQ5uB,GAAGM,GAAGG,KAAKi4B,gBAAgBp4B,EAAEH,GAAGoB,EAAEtB,YAAEC,IAAIsB,YAAEtB,EAAEC,EAAE0V,WAAWrV,IAAI,EAAEL,EAAEyuB,QAAQ5uB,GAAGuB,EAAElB,IAAIF,EAAEyuB,UAAU8T,EAAGhC,QAAQvgC,EAAEuiC,EAAGC,SAAS,UAAUD,EAAGE,SAASviC,EAAEqiC,EAAGG,SAAS1iC,EAAEyuB,QAAQnuB,KAAKq+B,UAAUgB,aAAagD,qBAAqBJ,GAAI,CAAC,CAAC/M,cAAc,MAAMt1B,EAAE,CAACy1B,UAAU,CAAC,KAAKD,gBAAe,EAAG4N,oBAAoBhjC,KAAK4M,KAAKD,kBAAkB,OAAOjN,YAAEM,KAAK6N,QAAQ7N,KAAK6N,OAAOqnB,YAAYt1B,GAAG,IAAIoK,IAAEpK,EAAE,CAACk7B,cAAcl7B,EAAEC,GAAG,OAAOG,KAAKo8B,aAAa6G,aAAajjC,KAAKkjC,aAAatjC,GAAI,MAADC,OAAC,EAADA,EAAGiiB,OAAO,CAACiZ,eAAen7B,EAAEC,GAAG,OAAOG,KAAKo8B,aAAa+G,mBAAmBnjC,KAAKkjC,aAAatjC,GAAI,MAADC,OAAC,EAADA,EAAGiiB,OAAO,CAACkZ,kBAAkBp7B,EAAEC,GAAG,OAAOG,KAAKo8B,aAAagH,qBAAqBpjC,KAAKkjC,aAAatjC,GAAI,MAADC,OAAC,EAADA,EAAGiiB,OAAO,CAACmZ,YAAYr7B,EAAEC,GAAG,OAAOG,KAAKo8B,aAAaiH,sBAAsBrjC,KAAKkjC,aAAatjC,GAAI,MAADC,OAAC,EAADA,EAAGiiB,OAAO,CAACohB,aAAatjC,GAAG,OAAOI,KAAKm4B,gCAAgC34B,YAAEI,GAAGI,KAAKk1B,cAAclrB,IAAE8kB,KAAKlvB,GAAG,CAAC0jC,gBAAe,UAAC,OAA+C,OAA/C,EAAqB,OAArB,EAAOtjC,KAAKq+B,YAAuB,OAAd,EAAd,EAAgBgB,mBAAF,EAAd,EAA8BniB,YAAU,EAAE,CAAC,CAACqmB,oBAAmB,cAAC,MAAM,KAA6C,OAAzC,EAAiB,OAAjB,EAACvjC,KAAKo9B,kBAAW,EAAhB,EAAkBljB,wBAAsB,EAAE,IAA2D,OAA1D,EAAiB,OAAjB,EAAGla,KAAKq+B,YAAuB,OAAd,EAAd,EAAgBgB,mBAAF,EAAd,EAA8BmE,2BAAyB,EAAE,GAAG,CAACC,sBAAsB,OAAOzjC,KAAKo9B,aAAap9B,KAAKo9B,YAAY7W,kBAAkB,CAACsY,aAAaj/B,GAAG+f,YAAE3f,KAAKwgC,yBAAyB5gC,EAAE,CAAK4gC,+BAA2B,MAAM5gC,EAAEI,KAAK8/B,oBAAoB,MAAM,CAACpH,SAAS14B,KAAKkzB,4BAA4B2E,YAAY73B,KAAKmM,MAAM0rB,YAAYjL,cAAchtB,EAAEm5B,YAAYn5B,GAAGI,KAAKm8B,mBAAmB71B,SAASzG,GAAGD,EAAEC,EAAE0P,KAAK1P,EAAE2f,cAAcd,qBAAqB1e,KAAKipB,SAASvK,qBAAqBia,aAAa34B,KAAKy8B,cAAcjM,iBAAiB5wB,GAAGI,KAAKwwB,iBAAiB5wB,GAAGo5B,iBAAiB,CAACn5B,EAAEkB,EAAEtB,KAAKO,KAAK2iC,kBAAkB9iC,EAAEkB,GAAG,MAAMhB,EAAEC,KAAKm8B,mBAAmBh4B,IAAItE,GAAG,GAAGH,YAAED,GAAG,CAAC,MAAMI,EAAEG,KAAKq8B,eAAel4B,IAAI1E,EAAE2V,WAAWxV,IAAIF,YAAEG,IAAIG,KAAKq+B,UAAUgB,aAAaqE,iBAAiB,CAAC7jC,GAAG,MAAMH,YAAEK,IAAIC,KAAKq+B,UAAUgB,aAAaqE,iBAAiB3jC,EAAEkhC,SAAS,EAAEhI,cAAc,OAAO,CAAK0K,sBAAkB,MAAM/jC,EAAE,CAACgkC,0BAA0B5jC,KAAKq8B,eAAeh0B,OAAOwxB,wBAAwB75B,KAAK65B,wBAAwBgK,uBAAuB,EAAElwB,MAAM3T,KAAKm8B,mBAAmB93B,KAAKy/B,KAAK9jC,KAAKq+B,UAAUgB,aAAasE,iBAAiB,OAAO3jC,KAAKo9B,aAAap9B,KAAKo9B,YAAY1hB,YAAY9b,GAAGA,CAAC,CAAKoc,WAAO,MAAM,CAAC+nB,WAAW/jC,KAAKo9B,YAAY4G,SAAShkC,KAAKm8B,mBAAmB93B,KAAKg4B,eAAer8B,KAAKq8B,eAAe,GAAGz8B,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,iBAAY,GAAQrN,YAAE,CAACiB,YAAE,CAACmL,KAAKb,OAAKib,EAAEnZ,UAAU,cAAS,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,sBAAiB,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,WAAW,MAAMrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,mBAAc,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,gBAAW,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,iBAAY,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,mBAAc,GAAQrN,YAAE,CAACiB,YAAEojC,MAAI7d,EAAEnZ,UAAU,wBAAmB,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,wBAAwB,MAAMrN,YAAE,CAACiB,YAAE2rB,EAAEiN,iBAAiBrT,EAAEnZ,UAAU,iBAAiB,MAAMrN,YAAE,CAACiB,YAAE2rB,EAAElB,kBAAkBlF,EAAEnZ,UAAU,uBAAkB,GAAQrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,qBAAgB,GAAQrN,YAAE,CAACiB,YAAE,CAACmL,KAAKoF,UAAUgV,EAAEnZ,UAAU,0BAA0B,MAAMrN,YAAE,CAACiB,YAAE,CAACgxB,UAAS,KAAMzL,EAAEnZ,UAAU,kCAAkC,MAAMrN,YAAE,CAACiB,eAAKulB,EAAEnZ,UAAU,0BAA0B,MAAMrN,YAAE,CAACiB,YAAE,CAACgxB,UAAS,KAAMzL,EAAEnZ,UAAU,YAAY,MAAMrN,YAAE,CAACiB,YAAE,CAACgxB,UAAS,KAAMzL,EAAEnZ,UAAU,OAAO,MAAMrN,YAAE,CAACiB,YAAE,CAACgxB,UAAS,KAAMzL,EAAEnZ,UAAU,OAAO,MAAMmZ,EAAExmB,YAAE,CAAC4E,YAAE,kDAAkD4hB,GAAG,MAAM4G,EAAE5G,EAAE,SAAS9G,EAAE1f,GAAG,MAAM,cAAcA,CAAC,CAAC,SAASitB,EAAEjtB,GAAG,MAAM,mBAAmBA,GAAG,OAAOA,EAAEygB,cAAc,CAAC,SAASoM,EAAE7sB,GAAG,MAAMC,EAAED,EAAEoxB,cAAc,IAAI,IAAIjwB,EAAE,EAAEA,EAAEnB,EAAEqhC,SAAS54B,OAAOtH,IAAI,CAAC,MAAMtB,EAAEG,EAAEqhC,SAASlgC,GAAG,GAAGtB,EAAE2V,aAAa3V,EAAE2V,WAAW,CAAC,GAAG1V,YAAEG,IAAIH,YAAEG,EAAEsgB,kBAAkB,IAAI,MAAM1Z,KAAK7G,KAAKC,EAAEsgB,iBAAiBtgB,EAAE+a,cAAchb,KAAKH,EAAE2V,WAAWxV,GAAG2T,YAAE1T,EAAE+a,cAAchb,GAAGmB,GAAG,CAAC,CAA+H,MAAMoxB,EAAG,CAAC,EAAE,CAACnmB,KAAK,WAAWlE,OAAO,CAACkE,KAAK,SAAS+T,iBAAiB,CAACL,SAAS,CAAC,EAAE,MAAM,EAAE,CAAC1T,KAAK,WAAWlE,OAAO,CAACkE,KAAK,SAAS+T,iBAAiB,CAACL,SAAS,CAAC,EAAE,EAAE,OAAOsiB,EAAG98B,cAAI+8B,EAAG,CAAChC,QAAQ,KAAKiC,SAAS,KAAKC,SAAS,KAAKC,SAAS,K","file":"static/js/55.a17a3838.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/sphere.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=e(0,0,0,-1),this.elevationRange=null}}class i{constructor(){this.min=1/0,this.max=-1/0,this.valid=!1}}var n,o,s,a,c;!function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.Culled=1]=\"Culled\",e[e.NotChecked=2]=\"NotChecked\"}(n||(n={})),function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.PotentiallyModified=1]=\"PotentiallyModified\",e[e.Culled=2]=\"Culled\",e[e.Unknown=3]=\"Unknown\",e[e.NotChecked=4]=\"NotChecked\"}(o||(o={}));class h extends t{constructor(e,t,i,n,a,c,h,d,r,l){super(e,i),this.index=t,this.childCount=n,this.level=a,this.resources=c,this.version=h,this.lodMetric=d,this.maxError=r,this.numFeatures=l,this.failed=!1,this.cacheState=s.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=o.NotChecked}}!function(e){e[e.Unknown=0]=\"Unknown\",e[e.Uncached=1]=\"Uncached\",e[e.Cached=2]=\"Cached\"}(s||(s={})),function(e){e[e.None=0]=\"None\",e[e.MaxScreenThreshold=1]=\"MaxScreenThreshold\",e[e.ScreenSpaceRelative=2]=\"ScreenSpaceRelative\",e[e.RemovedFeatureDiameter=3]=\"RemovedFeatureDiameter\",e[e.DistanceRangeFromDefaultCamera=4]=\"DistanceRangeFromDefaultCamera\"}(a||(a={})),function(e){e[e.Hole=0]=\"Hole\",e[e.Leaf=1]=\"Leaf\"}(c||(c={}));class d{constructor(e,t,i,n){this.nodeHasLOD=e,this.isChosen=t,this.lodLevel=i,this.version=n}}export{s as CacheState,i as ElevationRange,a as LodMetric,h as Node,t as NodeBase,n as NodeFilterImpact,o as NodeIMModificationImpact,c as NodeState,d as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.FadeIn=0]=\"FadeIn\",a[a.FadeOut=1]=\"FadeOut\"}(a||(a={}));export{a as FadeDirection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar e,s;!function(e){e[e.KTX2=1]=\"KTX2\",e[e.Basis=2]=\"Basis\",e[e.DDS_S3TC=4]=\"DDS_S3TC\",e[e.PNG=8]=\"PNG\",e[e.JPG=16]=\"JPG\",e[e.KTX_ETC2=32]=\"KTX_ETC2\"}(e||(e={})),function(e){e[e.None=0]=\"None\",e[e.Color=1]=\"Color\",e[e.MetallicRoughness=2]=\"MetallicRoughness\",e[e.Normal=4]=\"Normal\",e[e.Occlusion=8]=\"Occlusion\",e[e.Emissive=16]=\"Emissive\",e[e.AlphaMask=32]=\"AlphaMask\",e[e.ColorTextures=19]=\"ColorTextures\",e[e.GeometryTextures=36]=\"GeometryTextures\",e[e.GeometryTexturesPBR=44]=\"GeometryTexturesPBR\",e[e.AllTextures=37]=\"AllTextures\",e[e.AllTexturesPBR=63]=\"AllTexturesPBR\"}(s||(s={}));export{e as TextureEncoding,s as TextureUsage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as e,isPowerOfTwo as a}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as r}from\"../../../../core/maybe.js\";import{TextureEncoding as s,TextureUsage as t}from\"./enums.js\";import{RenderTexture as n}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as l}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as i}from\"../../webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{getEllipsoidMode as u}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{CullFaceOptions as c,AlphaDiscardMode as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Texture as d}from\"../../webgl-engine/lib/Texture.js\";import{TextureWrapMode as g}from\"../../../webgl/enums.js\";function p(e,a){const s=new Map,n=(e,a)=>{if(r(e))return-1;if(s.has(e.id)){const o=s.get(e.id);return o.usage|=a,o.id}const o=s.size;return s.set(e.id,{id:o,usage:a}),o},i=a.pbrMetallicRoughness,u=i&&i.baseColorFactor,m=a.emissiveFactor,d=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!i||null==i.metallicRoughnessTexture&&1===i.roughnessFactor&&(1===i.metallicFactor||0===i.metallicFactor)),g=d?l[0]:i?i.metallicFactor:1,p=d?l[1]:i?i.roughnessFactor:1,T=\"mask\"===a.alphaMode?t.Color|t.AlphaMask:t.Color,x={baseColorFactor:u?[u[0],u[1],u[2],u[3]]:[1,1,1,1],baseColorTextureId:n(i&&i.baseColorTexture,T),metallicRoughnessTextureId:n(i&&i.metallicRoughnessTexture,t.MetallicRoughness),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?c.None:\"back\"===a.cullFace?c.Back:\"front\"===a.cullFace?c.Front:void 0,normalTextureId:n(a.normalTexture,t.Normal),emissiveTextureId:n(a.emissiveTexture,t.Emissive),occlusionTextureId:n(a.occlusionTexture,t.Occlusion),emissiveFactor:m?[m[0],m[1],m[2]]:[0,0,0],metallicRoughness:x,wrapTextures:!1,hasParametersFromSource:d},F=[];return s.forEach((({usage:a},r)=>{const s=o(e)&&e[r]&&e[r].formats,t=s?h(s.map((({name:e,format:a})=>({name:e,encoding:f[a]})))):[];F.push({id:r,usage:a,encodings:t})})),{material:b,textures:F}}function h(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const f={ktx2:s.KTX2,basis:s.Basis,dds:s.DDS_S3TC,png:s.PNG,jpg:s.JPG,\"ktx-etc2\":s.KTX_ETC2},T={[d.KTX2_ENCODING]:s.Basis,[d.BASIS_ENCODING]:s.Basis,[d.DDS_ENCODING]:s.DDS_S3TC,\"image/png\":s.PNG,\"image/jpg\":s.JPG,\"image/jpeg\":s.JPG,\"image/ktx\":s.KTX_ETC2};function x(a){const o=a&&a.materialDefinitions?Object.keys(a.materialDefinitions)[0]:null,r=a&&a.textureDefinitions?Object.keys(a.textureDefinitions)[0]:null,s=o&&a.materialDefinitions[o],n=r&&a.textureDefinitions[r],l=b();if(null!=s){const a=s.params;a.diffuse&&(l.metallicRoughness.baseColorFactor=[a.diffuse[0],a.diffuse[1],a.diffuse[2],1]),null!=a.doubleSided&&(l.doubleSided=a.doubleSided,l.cullFace=a.doubleSided?c.None:c.Back),\"none\"!==a.cullFace&&\"front\"!==a.cullFace&&\"back\"!==a.cullFace||(l.cullFace=\"none\"===a.cullFace?c.None:\"back\"===a.cullFace?c.Back:c.Front),a.transparency&&(l.metallicRoughness.baseColorFactor[3]=e(1-a.transparency,0,1)),(a.useVertexColorAlpha||l.metallicRoughness.baseColorFactor[3]<1)&&(l.alphaMode=\"blend\")}const i=[];if(null!=n){const e=0;!n.wrap||\"repeat\"!==n.wrap[0]&&\"repeat\"!==n.wrap[1]||(l.wrapTextures=!0);let a=t.Color;\"rgba\"===n.channels&&(l.alphaMode=\"blend\",a|=t.AlphaMask);const o=n.images.length-1,r=n.images[o],s=e=>e&&e.split(\"/\").pop(),u=Array.isArray(n.encoding)?h(n.encoding.map(((e,a)=>({name:s(r.href[a]),encoding:T[e]||0})))):[{name:s(r.href),encoding:T[n.encoding]||0}];i.push({id:e,usage:a,encodings:u}),l.metallicRoughness.baseColorTextureId=e}return{material:l,textures:i}}const b=()=>({alphaMode:\"opaque\",alphaCutoff:i,doubleSided:!0,cullFace:c.None,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function F(e,o,s,n){if(r(e)||null==e.data)return null;const l=e.data,i=!(l instanceof HTMLImageElement)||a(l.width)&&a(l.height),u=n.renderingContext.parameters.maxMaxAnisotropy,c=s&&!n.capabilities.shaderTextureLOD?1:u,m=i&&!e.downsampled&&c>1,g=s||!o.wrapTextures?C:P,p=R(e.encoding),h=e.usage&t.Color?\"opaque\"===o.alphaMode?3:4:3;return new d(l,{mipmap:m,maxAnisotropy:c,encoding:p,wrap:g,components:h,noUnpackFlip:!0})}const C={s:g.CLAMP_TO_EDGE,t:g.CLAMP_TO_EDGE},P={s:g.REPEAT,t:g.REPEAT};function M(a,r,s,l,c,d){const g=d.rendererTextureUsage,p=e=>w(l,s,e&g),h=r.metallicRoughness.baseColorFactor,f=e(r.metallicRoughness.baseColorFactor[3],0,1);a.baseColor=[h[0],h[1],h[2],f],a.hasParametersFromSource=!!r.hasParametersFromSource,a.usePBR=d.usePBR,a.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],a.emissiveFactor=r.emissiveFactor,a.isIntegratedMesh=d.isIntegratedMesh,a.textureAlphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:i,a.alphaDiscardMode=\"opaque\"===r.alphaMode?m.Opaque:\"mask\"===r.alphaMode?m.Mask:m.MaskBlend;const T=[],x=p(t.Color|t.AlphaMask);o(x)&&(a.baseColorTexture=new n(c,x),T.push(a.baseColorTexture.loadPromise));const b=p(t.MetallicRoughness);o(b)&&(a.metallicRoughnessTexture=new n(c,b),T.push(a.metallicRoughnessTexture.loadPromise));const F=p(t.Emissive);o(F)&&(a.emissionTexture=new n(c,F),T.push(a.emissionTexture.loadPromise));const C=p(t.Occlusion);o(C)&&(a.occlusionTexture=new n(c,C),T.push(a.occlusionTexture.loadPromise));const P=p(t.Normal);return o(P)&&(a.normalTexture=new n(c,P),T.push(a.normalTexture.loadPromise)),a.commonMaterialParameters.hasSlicePlane=d.slicePlaneEnabled,a.commonMaterialParameters.doubleSided=r.doubleSided,a.commonMaterialParameters.cullFace=r.cullFace,a.ellipsoidMode=u(d.viewSpatialReference),Promise.all(T)}function S(e){const a=!!e.compressedTextureS3TC,o=!!e.compressedTextureETC,r=has(\"disable-feature:i3s-basis\")?0:s.Basis|s.KTX2,t=s.JPG|s.PNG,n=r|s.DDS_S3TC;return t|(a?n:0)|(o?r:0)}function D(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,s){if(r(e)||s===t.None)return null;for(let r=0;r<e.length;r++){const t=e[r];if(o(t)&&0!=(t.usage&s)){const e=a[r];return o(e)?e.id:null}}return null}function R(e){switch(e){case s.KTX2:return d.KTX2_ENCODING;case s.Basis:return d.BASIS_ENCODING;case s.DDS_S3TC:return d.DDS_ENCODING;case s.PNG:return\"image/png\";case s.JPG:return\"image/jpeg\";case s.KTX_ETC2:return\"image/ktx\";default:return\"\"}}export{M as configureMaterial,F as createTexture,b as defaultMaterial,p as getMaterialAndTextures,x as getMaterialAndTexturesFromShared,S as getSupportedEncodings,D as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,isSome as t}from\"../../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../../core/promiseUtils.js\";class r{constructor(t,r){this._textureRep=t,this._disposed=!1;const i=this._textureRep.acquire(r);s(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return t(this._textureRef)?this._textureRef.glTexture:null}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{isSome as t}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as a}from\"../../../geometry/projection.js\";import{enableDirect3DObjectFeatureLayerDisplay as o}from\"../../../support/featureFlags.js\";import p from\"./FeatureLayerViewBase3D.js\";let l=class extends p{constructor(){super(...arguments),this.type=\"feature-3d\",this.direct3DObjectFeatureLayerDisplayEnabled=o()}initialize(){\"capabilities\"in this.layer&&this.layer.capabilities.operations.supportsQuery||this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:this.layer}))),t(this.layer.infoFor3D)&&(this.direct3DObjectFeatureLayerDisplayEnabled?this._set(\"suspendResumeExtentMode\",\"computed\"):this.addResolvingPromise(Promise.reject(new r(\"featurelayerview3d:unsupported-geometry-type\",`Unsupported geometry type ${this.layer.geometryType}`)))),\"mesh\"!==this.layer.geometryType||a(this.layer.spatialReference,this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new r(\"layerview:spatial-reference-incompatible\",\"The spatial references of the feature layer is incompatible with the spatial reference of the view\")))}get featureSpatialReference(){return this.view.featureTiles?.tilingScheme?.spatialReference}};e([s({constructOnly:!0})],l.prototype,\"direct3DObjectFeatureLayerDisplayEnabled\",void 0),e([s()],l.prototype,\"layer\",void 0),l=e([i(\"esri.views.3d.layers.FeatureLayerView3D\")],l);const c=l;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{removeMaybe as r}from\"../../../../core/maybe.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class s{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle=r(this.handle)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this._sort();const r=this.callbacks,e={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<r.length&&!t.done;++s)r[s].priority=r[s].update(t,e),this.runIndex=s}_sort(){const t=this.callbacks;let r=t.length;for(let e=this.runIndex;e>0;e--){const s=t[e-1];let n=e;for(;n<t.length&&s.priority<=t[n].priority&&(n!==r||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,r=n-1}this.runIndex=0}add(t){this._sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(r){t(this.callbacks,r),this.runIndex=this.callbacks.length,this._sort()}}const n=new Map;function i(t,r){let e=n.get(t);return null==e&&(e=new s(t),n.set(t,e)),e.add(r),{remove:()=>{if(null==e)return;e.remove(r);e.callbacks.length>0||(n.delete(t),e.destroy()),e=null}}}export{i as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{l as r}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{LodMetric as a,NodeBase as d,Node as l,ElevationRange as h,NodeFilterImpact as u,NodeIMModificationImpact as c,NodeTraversalState as _}from\"./I3SNode.js\";import{invalidateMbs as g,invalidateObb as m,addWraparound as f}from\"./I3SUtil.js\";import{clone as v}from\"../../support/orientedBoundingBox.js\";class b{constructor(e,t,i,s,n){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=n,this.useAsHole=0,this.filterImpact=u.NotChecked}}class p{constructor(e,t,i,n,r,o,d,l,h,u,c,_,g,m){this._streamDataController=i,this._viewportQueries=n,this._logger=r,this.holeFilling=o,this._isLoaded=d,this._isReloading=l,this._isSelected=h,this._enable=u,this._needsUpdate=c,this._canRequest=_,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this._nodeCount=0,this._nodesPerPage=0,this._rootIndex=0,this._lodMetric=a.None,this._lodConversion=e=>e,this._urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=I(0),this._visibilityCacheVersion=I(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new N(this._missing),this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this._pageQueue=[],this.needNodeElevationRange=!1,this.layerHasModifications=!1,this._layerHasFilter=!1,this._logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this._lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this._viewportQueries?this._viewportQueries.maxLodLevel:1,this._init(t)}_init(e){if(\"page\"===e.type){switch(this._urlPrefix=e.urlPrefix,this._nodesPerPage=e.pageSize,this._rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this._lodMetric=a.MaxScreenThreshold;break;case\"maxScreenThresholdSQ\":this._lodMetric=a.MaxScreenThreshold,this._lodConversion=V}this._addPage(S(this._rootIndex,this._nodesPerPage),e.rootPage),this._updateParentsAndLevel()}else if(\"node\"===e.type){this._urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this._makeRefNode(new d(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this._addNode(t,0)}}_loadPage(e){this._loading.add(e);const t=this._urlPrefix+e;this._streamDataController.request(t,\"json\").then((t=>{this._pageQueue.push({pageIndex:e,page:t})})).catch((t=>{this._loading.delete(e),n(t)||(this._failedPages.add(e),this._logger.error(\"#loadPage()\",this._logLayer,`Error when loading page ${e}`,t))}))}_addQueuedPages(e){for(;this._pageQueue.length>0&&!e.done;){const{pageIndex:t,page:i}=this._pageQueue.shift();this._addPage(t,i),this._loading.delete(t),e.madeProgress()}this._updateParentsAndLevel()}_addPage(e,t){for(let r=this._nodePages.length;r<e;r++)this._nodePages[r]=null;const i=[],s=[],n=t.nodes.map(((t,n)=>{const a=i.length,d=t.children?t.children.length:0;s.push(-1);for(let e=0;e<d;e++)i.push(t.children[e]);const h=`${t.index}`,u=v(t.obb),c=o([u.center[0],u.center[1],u.center[2],r(u.halfSize)]),_=t.mesh&&t.mesh.attribute,g=t.mesh&&t.mesh.geometry,m=t.mesh&&t.mesh.material,f={hasSharedResource:!1,hasFeatureData:!!g,attributes:_&&null!=_.resource?`${_.resource}`:null,geometry:g&&null!=g.resource?`${g.resource}`:null,texture:m&&null!=m.resource?`${m.resource}`:null,geometryDefinition:g?g.definition:-1,materialDefinition:m?m.definition:-1},p=new l(h,e*this._nodesPerPage+n,c,d,0,f,this._lastUpdate,this._lodMetric,this._lodConversion(t.lodThreshold),g?g.featureCount:null);return p.serviceObb=u,p.visibilityObb=this._computeVisibilityObb(p),p.vertexCount=g?g.vertexCount:0,new b(a,d,x(this._visibilityCacheVersion),null,p)}));this._nodePages[e]={nodes:n,children:i,parents:s},this._nodeCount+=n.length}_updateParentsAndLevel(){const t=new Array,i=(i,s,n)=>{const r=this._getPage(i);if(e(r)){const o=R(i,this._nodesPerPage);r.parents[o]=s;const a=r.nodes[o].node;e(a)&&(a.level=n,t.push(i))}};for(i(this._rootIndex,-1,0);t.length;){const s=t.pop(),n=this.getNode(s);if(e(n))for(let e=0;e<n.childCount;e++){i(this.getChildIndex(n.index,e),s,n.level+1),this._maxLevel=Math.max(this._maxLevel,n.level+1)}}}_getPage(e){return this._nodePages[S(e,this._nodesPerPage)]}_getNodeInternal(e){const i=this._getPage(e);return t(i)?null:i.nodes[R(e,this._nodesPerPage)]}_addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const n=this.getParent(s),r=e(n)?n.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?r+1:r);const{lodMetric:a,maxError:d}=E(t.lodSelection),h=i(this._getNodeInternal(s));return h.node=new l(t.id,s,o(t.mbs),h.childCount,r,t.resources,t.version,a,d,t.numFeatures),t.obb&&(h.node.serviceObb=v(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}_makeRefNode(e,t){const i=this._nodePages[0],s=i.nodes.length;return i.nodes.push(new b(0,0,x(this._visibilityCacheVersion),e,null)),this._nodeCount++,i.parents.push(t),g(e.renderMbs),m(e.serviceObbInRenderSR),s}populateChildren(e,t){const s=i(this._getNodeInternal(e)),n=i(this._getPage(e));s.childOffset=n.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this._makeRefNode(t[i],e);n.children.push(s)}}getNode(t){const i=this._getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this._forAllNodes(((s,n)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=n)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this._getPage(e);if(t(s))return-1;const n=s.nodes[R(e,this._nodesPerPage)];return s.children[n.childOffset+i]}getParentIndex(t){const i=this._getPage(t);return e(i)?i.parents[R(t,this._nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this._getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this._rootIndex)}get size(){return this._nodeCount}removeAllGeometryObbs(){this._forAllNodes((t=>{e(t.node)&&(t.node.geometryObb=null)}))}invalidateVisibilityCache(){this._visibilityCacheVersion=I(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this._getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=x(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this._getNodeInternal(t);e(i)&&(P(i),this.invalidateNodeVisibilityCacheInternal(i))}updateElevationChanged(i){const s=this._getNodeInternal(i);if(t(s))return;if(!this.needNodeElevationRange)return void this.invalidateBoundingVolumeCache(i);const n=e(s.node)?s.node:s.ref;if(t(n))return;const r=n.elevationRange;t(r)||(r.valid=!1)}invalidateGeometryVisibility(t){const i=this._getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,g(i.node.renderMbs),m(i.node.serviceObbInRenderSR))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}_updateElevationRange(i){const s=this._getNodeInternal(i);if(t(s))return null;const n=e(s.node)?s.node:s.ref;if(t(n))return null;const r=n.elevationRange;if(e(r)&&r.valid)return r;const o=new h;let a=!1;for(let e=0;e<s.childCount;e++){const s=this._updateElevationRange(this.getChildIndex(i,e));t(s)?a=!0:(o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max))}if(0===s.childCount||a&&e(s.node)&&s.node.resources.geometry){const t=this._viewportQueries.getElevationRange(n);e(t)&&(o.min=Math.min(o.min,t.min),o.max=Math.max(o.max,t.max))}return e(r)&&r.min===o.min&&r.max===o.max?(r.valid=!0,r):(o.valid=!0,n.elevationRange=o,this.invalidateBoundingVolumeCache(i),o)}isNodeVisible(i){const s=this._getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(this.needNodeElevationRange&&this._updateElevationRange(i),!w(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,n=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&s.filterImpact===u.NotChecked){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):u.Unmodified}const r=e(i)&&s.filterImpact===u.Culled,o=!(e(i)&&i.imModificationImpact===c.Culled)&&(!n||this._viewportQueries.isNodeVisible(n))&&!r;return s.visibilityCache=C(o,this._visibilityCacheVersion),o}return M(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this._getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||i.node.imModificationImpact!==c.NotChecked))||this._viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,n,r,o,a){const d=this._getPage(s);if(t(d)||0===n.childCount)return;const l=n.childOffset+n.childCount,h=new Array;for(let t=n.childOffset;t<l;++t){const i=d.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,r),a.coverage+=o):this._traverseCoverage(t,e,r+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this._getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(w(i.useAsHole,this._version))return M(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const n=s.delta*s.coverage<=.5;return i.useAsHole=C(n,this._version),n}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=I(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this._forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=c.NotChecked,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this._forAllNodes((t=>{if(e(t)){t.filterImpact=u.NotChecked;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,n,r){if(!this._dirty)return;this._pageQueue.length>0&&this._addQueuedPages(n),this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s),y.clear();let o=!0;const a=new O,d=new O,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,_,g)=>{if(t(_)){let e=this._entryPriority(u);e===1/0&&(e=this._entryPriority(g));const t=S(u,this._nodesPerPage);return y.set(t,Math.max(e,y.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const m=_.node;if(this._updateNodeFeatureEstimate(m,d),t(m)){const e=this._entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),y.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=i(this._getPage(u));if(0===this._missing.length&&0===this._nodesPerPage)for(let t=0;t<_.childCount;t++){const i=f.children[_.childOffset+t],s=this._getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(y.set(i,this._entryPriority(i)),this._prefetch.push(i))}if(m.failed||!m.resources.hasFeatureData)return void(o&&_.childCount>0&&this._isSelected(m)&&(o=!1));if(h.add(m.id),this._isLoaded(u)){if(a.known+=m.memory,++a.knownNodes,this._isSelected(m)?_.childCount>0&&(o=!1):(a.unremoved+=m.memory,o=!1),this._needsUpdate(m)){const e=this._entryPriority(u);y.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(m.memory&&(a.known+=m.memory,++a.knownNodes),!this._isSelected(m))return void(this._isReloading(u)&&this._updates.remove.push(u));if(_.childCount>0&&(o=!1),m.memory?(a.missing+=m.memory,a.known+=m.memory,++a.knownNodes):++a.missingNodes,s.includes(m.index))return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this._entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==m.index)));if(!n.done&&this._enable(m))return void n.madeProgress();const v=this._entryPriority(u);y.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&r&&e(m)&&m.imModificationImpact===c.NotChecked&&l.push(u)};this.traverseVisible(u);const _=this._updates.add;_.length>0&&this.layerHasModifications&&(l.length>0&&r(l),_.filterInPlace((e=>{const i=this._getNodeInternal(e),s=t(i)||t(i.node)||i.node.imModificationImpact!==c.Culled;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>y.get(e)-y.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=y.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>y.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>y.get(e)-y.get(t))),this._updates.update.sort(((e,t)=>y.get(e)-y.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,y.clear()}checkFeatureTarget(e,t){const i=this._viewportQueries.updateScreenSpaceErrorBias(t);let s=t,n=t,r=i,o=10;for(;o--;){const i=new O;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;r=s,s=.5*(s+n)}else n=s,s=.5*(s+r)}return this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>y.get(e)-y.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this._nodesPerPage?this._loadNode(e.pop()):this._loadPage(e.pop());return!0}get isLoading(){return this._indexMissing>0}get isPrefetching(){return this._prefetch.length>0}get indexLoading(){return this._loading.size}get indexMissing(){return this._indexMissing}get unloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}get maxPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&w(i.version,this._version))return i;const s=this._viewportQueries.getLodLevel(e),n=this._viewportQueries.hasLOD(e);let r=!0;if(n){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);r=e&&s>e.lodLevel}else r=s>0}else r=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=r,i.version=C(!0,this._version),i):(i=new _(n,r,s,C(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this._getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const r=s.id,o=this._urlPrefix+r,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this._streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(r,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this._addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),n(t)||(this._logger.error(\"#loadNode()\",this._logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this._logger.warn(\"#validateNode()\",this._logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,n=t=>{if(null==t)return null;const i=t=>this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,n=new d(`${t.id}`,t.mbs);return n.serviceObb=s,n.visibilityObb=this._computeVisibilityObb(n),n},r=Array.isArray(t.children)?t.children.map(n).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:r,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this._forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}_entryPriority(i){const s=this._getNodeInternal(i),n=this.getParentIndex(i);if(t(s)||n<0&&null==s.node)return n<0?1/0:this._entryPriority(n);let r=0;if(s.node&&n>=0){const e=this._nodeTraversalState.get(n);null!=e&&(r=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this._viewportQueries.distToPOI(s.ref):e(s.node)?this._viewportQueries.distToPOI(s.node):0;return-a-r*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this._getNodeInternal(this._rootIndex);t(i)?e(this._rootIndex,null,null):this._traverseVisible(this._rootIndex,-1,i,e)}_traverseVisible(t,s,n,r){if(n.node&&0===n.childCount)return void(this.isGeometryVisible(t)&&r(t,n,s));if(!this.isNodeVisible(t))return;if(r(t,n,s),null==n.node)return;const o=this.nodeTraversalState(n.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this._getPage(t));for(let i=0;i<n.childCount;i++){const s=a.children[n.childOffset+i],o=this._getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,r):r(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,n=this._getNodeInternal(s);e(n)&&this._traverseChildren(s,n,i)}_traverseChildren(i,s,n){const r=this._getPage(i);if(t(r))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=r.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&n(s.node)&&this._traverseChildren(i,s,n)}}updateChildrenLoaded(t,i){let s=this.getNode(t);for(;e(s);)s.childrenLoaded+=i,s=this.getParent(s.index)}checkChildrenLoadedInvariant(){if(t(this.rootNode))return!0;const e=[],i=t=>{let s=this._isLoaded(t.index)||this._isReloading(t.index)?1:0;return this.traverseChildren(t,(e=>(s+=i(e),!1))),t.childrenLoaded!==s&&e.push(t.index),s};return i(this.rootNode),e.length&&this._logger.error(\"childrenLoaded invariant broken at following nodes: \"+e.join(\",\")),e.length>0}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}updateElevationInfo(e,t){this.needNodeElevationRange=t&&e&&(\"relative-to-ground\"===e.mode||\"on-the-ground\"===e.mode),this._viewportQueries.updateElevationInfo(e),this.invalidateAllElevationRanges()}invalidateAllElevationRanges(){this._forAllNodes((t=>{P(t),e(t.node)&&(t.node.elevationRange=null),e(t.ref)&&(t.ref.elevationRange=null)}))}_forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this._nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this._addNode(e,t)}}}const y=new Map;class N{constructor(e){this.missing=e,this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e){this.add.clear(),this.update.clear(),this.cancel=e}}function P(t){e(t.node)&&(g(t.node.renderMbs),m(t.node.serviceObbInRenderSR)),e(t.ref)&&(g(t.ref.renderMbs),m(t.ref.serviceObbInRenderSR))}function x(e){return f(e,-2)}function I(e){return f(e,2)}function C(e,t){return t+(e?1:0)}function w(e,t){return(-2&e)===t}function M(e){return 1==(1&e)}function S(e,t){return 0===t?0:e/t|0}function R(e,t){return 0===t?e:e%t}const L=[[\"maxScreenThreshold\",a.MaxScreenThreshold],[\"screenSpaceRelative\",a.ScreenSpaceRelative],[\"removedFeatureDiameter\",a.RemovedFeatureDiameter],[\"distanceRangeFromDefaultCamera\",a.DistanceRangeFromDefaultCamera]];function E(e){if(e)for(let t=0;t<e.length;t++)for(const i of L)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:a.None,maxError:0}}class O{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function V(e){return Math.sqrt(e*(4/Math.PI))}export{p as I3SIndex,E as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{NodeState as s}from\"./I3SNode.js\";import{FadeDirection as d}from\"../support/I3SLayerView.js\";class t{constructor(e){this._layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this._isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this._layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));r.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1,this._layerView.nodeCrossfadingEnabled);const s=r.length;this._removeNodes(r,e);const d=r.length<s;return 0!==r.length&&(this._lodGlobalDirty=!0),r.clear(),d}_lodGlobalHandling(o,t,l,n){if(e(o))return!1;const a=o.index,h=this._index,_=this._layerView,u=h.nodeTraversalState(o),c=this._isChosenMaxLOD(u),x=!o.resources.hasFeatureData;if(c&&x)return o.childrenLoaded>0&&this._removeChildrenRecursive(o),!0;const L=_.isNodeLoaded(a);if(n&&L&&c){const e=!l&&this.hasNoVisibleChildren(o);_.fadeNode(a,d.FadeIn,!e)}const N=L&&(!_.isNodeFullyFadedIn||_.isNodeFullyFadedIn(a));if(L&&(_.updateNodeState(a,c?s.Leaf:s.Hole),c))return N&&this._removeChildrenRecursive(o),N;const m=o.childCount>0;let y=m;if(m)for(let e=0;e<o.childCount;e++){const o=h.getChildIndex(a,e),s=h.getNode(o);if(i(s)){!(!h.isGeometryVisible(o)||this._lodGlobalHandling(s,t,l||N,n))&&this._isNodeInScaleBounds(s)&&(y=!1)}else h.isNodeVisible(o)&&(y=!1)}const b=L&&!c&&(y||r.length<t);b&&r.push(a),!n||b||!L||l||y||_.fadeNode(a,d.FadeIn,!1);const f=!o.resources.hasFeatureData;return y||N&&!b||f}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this._layerView.isNodeLoaded(e.index)||this._layerView.isNodeReloading(e.index))&&r.push(e.index),e.childrenLoaded>0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(this._layerView.isNodeLoaded(e.index)?(i=!1,!1):e.childrenLoaded>0))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this._isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),this._layerView.isNodeLoaded(e.index)?(o=!1,!1):e.childrenLoaded>0})),o&&i}_isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const r=new o({deallocator:null});export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import has from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{eachAlways as n,isAbortError as s}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as a}from\"../../../../core/urlUtils.js\";import{TextureEncoding as u}from\"./enums.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this._streamDataController=t,this._logger=r,this._defaultGeometrySchema=i,this._requiredAttributes=o,this._options=n,this._logLayer=e,this._layerUrl=e.parsedUrl.path,this._geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this._materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}_load(e,t,r){return this._streamDataController.request(e,t,r)}_loadAttribute(e,t,r){const i=`${this._layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this._load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return n(t.map((t=>this._loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o){const n=r[o].value;if(n)i[t[o].name]=n;else{if(s(r[o].error))throw r[o].error;this._logger.error(\"#loadAttributes\",this._logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}}return i}))}async loadNodeData(r,n){const s=null!=this._requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this._requiredAttributes,n)):null,{bufferDefinition:a,bufferIndex:u}=D(this._geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this._loadGeometry(r.resources.geometry,u,n)):null,m=r.resources.hasSharedResource?await this._loadShared(r,n):null,h=this._materialAndTextures&&r.resources.materialDefinition>=0?this._materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,p=h&&h.material,x=h&&h.textures,A=`${r.id}`,w=!l&&this._options.loadFeatureData,T=w?await this._loadFeatureData(A,n):null,$=w?_(T):g(p),j=i($)&&y(T),I=null!=x&&x.length>0?e(this.loadTextures(r,x,n)):null;let U=null,S=null;if(d){U=t(await d);const e=b(this._defaultGeometrySchema,m);S=f(a,e)}const q=I?t(await I):null,B=s?t(await s):{},C=B?{attributeData:B,loadedAttributes:this._requiredAttributes}:null;if(o($))return{geometryData:$,attributeDataInfo:C,geometryBuffer:U,geometryDescriptor:S,requiredTextures:x,textureData:q};if(o(j))return{pointData:j,attributeDataInfo:C,geometryBuffer:U,geometryDescriptor:S,requiredTextures:x,textureData:q};throw new Error}static _addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>a(e,t))):e.hrefConcat=a(e.href,t)}static _fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}_loadShared(e,t){const r=`${this._layerUrl}/nodes/${e.resources.geometry}/shared`;return this._load(r,\"json\",t).then((e=>(h._fixTextureEncodings(e),h._addAbsoluteHrefTexture(e,r),e)))}_loadTexture(e,t,r,i,o,n){let s=!1;return o===u.DDS_S3TC||o===u.KTX2||o===u.Basis?this._load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this._load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this._options.uncompressedTextureDownsamplingEnabled,o=this._options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this._options.textureEncodings);if(null==n)return this._logger.error(\"#loadTextures\",this._logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this._layerUrl}/nodes/${s}/textures/${n.name}`;return this._loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}_loadFeatureData(e,t){const r=`${this._layerUrl}/nodes/${e}/features/0`;return this._load(r,\"json\",t)}_loadGeometry(e,t,r){const i=`${this._layerUrl}/nodes/${e}/geometries/${t}`;return this._load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function _(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function y(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function b(e,t){if(!e||!t||!t.materialDefinitions)return e;const i=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[i].params.vertexRegions&&e.vertexAttributes.region&&delete(e=r(e)).vertexAttributes.region,e}function D(e,t){const r={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return r;const i=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==i)return r;for(let o=0;o<i.length;o++){const e=i[o];if(null==e.compressedAttributes)r.bufferIndex=o,r.bufferDefinition=i[o];else if(\"draco\"===e.compressedAttributes.encoding&&!has(\"disable-feature:i3s-draco\"))return r.bufferIndex=o,r.bufferDefinition=e,r}return r}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{onAbortOrThrow as e,always as t}from\"../../../../core/promiseUtils.js\";class r{constructor(e,t){this._requester=e,this._apiKey=t,this._activeRequests=new Set}get busy(){return this._requester.busy}request(r,s,o){const l=new AbortController,a=e(o,(()=>l.abort())),n={signal:l.signal,query:{token:this._apiKey}},i=this._requester.request(r,s,n),u={response:i,abortController:l,abortHandle:a};return this._activeRequests.add(u),t(i,(()=>{u.abortController=null,u.abortHandle?.remove(),u.abortHandle=null,this._activeRequests.delete(u)})),i}cancelAll(){this._activeRequests.forEach((e=>{e.abortController?.abort(),e.abortController=null,e.abortHandle?.remove()})),this._activeRequests.clear()}}export{r as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{d as i,i as s,l as r,g as n,e as o,p as a,b as h,a as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as p}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as l}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as _,getSphericalPCPF as u}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as g,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{isPlateCarree as v}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as M}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as R}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as D,extractExpressionInfo as S}from\"../graphics/featureExpressionInfoUtils.js\";import{LodMetric as C}from\"./I3SNode.js\";import{isValidMbs as E,isValidObb as P,transformObb as O,computeOffsetObb as L,intersectBoundingRectWithMbs as j,MbsIntersectResult as F}from\"./I3SUtil.js\";import{create as B,isVisible as y}from\"../../support/orientedBoundingBox.js\";const I=1e5;class A{constructor(e,t,i,s,r,n,o,a,h={}){this._indexSR=e,this._renderCoordsHelper=t,this._clippingArea=r,this._elevationProvider=n,this._viewingMode=o,this._options=h,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmpObb=B(),this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this._screenspaceErrorBias=h.screenspaceErrorBias||1,this._progressiveLoadFactor=h.progressiveLoadFactor||1,this.updateCamera(i,s),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this._tmpPoint=f(0,0,0,e),this._isECEFOBBInLocalMode=this._indexSR.isWGS84&&(this.engineSR.isWebMercator||v(this.engineSR)),this._indexSREllipsoidRadius=_(this._indexSR).radius}updateElevationInfo(e){null!=e?(this._elevationContext=R.fromElevationInfo(e),this._elevationContext.updateFeatureExpressionInfoContext(D(S(e,!1)))):this._elevationContext=null}updateCamera(e,t){this._useFrustumCulling=t,t&&g(e.viewMatrix,e.projectionMatrix,this._frustum),this._screenSizeFactor=1/(e.perScreenPixelRatio/2),this._camPos=e.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(e){this._poi=e}updateScreenSpaceErrorBias(e){const t=this._screenspaceErrorBias;return this._screenspaceErrorBias=e,t}updateClippingArea(e){this._clippingArea=e}getElevationRange(i){if(e(this._elevationContext))return null;const s=i.mbs[0],r=i.mbs[1],n=i.mbs[2],o=i.mbs[3],a=\"relative-to-scene\"===this._elevationContext.mode?\"scene\":\"ground\";if(this._elevationProvider.getSphereElevationBounds)return this._elevationProvider.getSphereElevationBounds(s,r,n,o,this._indexSR,a);const h=this._elevationProvider.getElevation(s,r,n,this._indexSR,a);return t(h)?{min:h,max:h}:null}getRenderMbs(e){const t=e.renderMbs;return E(t)||(p(t,e.mbs),this._elevationContext&&t[3]<I&&(this._tmpPoint.x=t[0],this._tmpPoint.y=t[1],this._tmpPoint.z=t[2],t[2]=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)),l(t,this._indexSR,t,this.engineSR)),t}getVisibilityObb(i){if(t(i.visibilityObb))return i.visibilityObb;const s=i.serviceObb,r=.01*this._indexSREllipsoidRadius;return e(s)||!P(s)||this._isECEFOBBInLocalMode&&s.halfSize.some((e=>e>r))?null:(i.serviceObbInRenderSR=this._computeRenderObb(s,i.serviceObbInRenderSR,i.mbs[3],i.elevationRange),i.serviceObbInRenderSR)}_computeRenderObb(i,s,r,n){if(e(s))s=B();else if(P(s))return s;let o=0,a=0;if(this._elevationContext&&t(n)&&Number.isFinite(n.min))switch(this._elevationContext.mode){case\"relative-to-ground\":o=this._elevationContext.geometryZWithOffset(i.center[2],this._renderCoordsHelper)+n.min-i.center[2],a=n.max-n.min;break;case\"on-the-ground\":o=n.min-i.center[2],a=n.max-n.min}else this._elevationContext&&r<I&&(this._tmpPoint.x=i.center[0],this._tmpPoint.y=i.center[1],this._tmpPoint.z=i.center[2],o=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)-i.center[2]);return a>0?(O(i,this._indexSR,this._tmpObb,this.engineSR,o),L(this._tmpObb,0,a,this._viewingMode,s)):O(i,this._indexSR,s,this.engineSR,o),s}isNodeVisible(e){const i=this.getRenderMbs(e);if(!this._isMBSinClippingArea(i))return!1;if(!this._useFrustumCulling)return!0;const s=this.getVisibilityObb(e);return t(s)?y(s,this._frustum):b(this._frustum,x(i))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const i=e.geometryObb;return t(i)?y(i,this._frustum):this.isNodeVisible(e)}_isMBSinClippingArea(t){return!!e(this._clippingArea)||j(this._clippingArea,t)!==F.OUTSIDE}_screenSpaceDiameterMbs(e,t){const s=this.getRenderMbs(e),r=Math.sqrt(i(s,this._camPos)),n=r-s[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:t/n*this._screenSizeFactor}calcCameraDistance(e){return this.calcCameraDistanceToCenter(e)-this.getRenderMbs(e)[3]}calcCameraDistanceToCenter(e){const t=this.getRenderMbs(e),i=s(t,this._camPos);return this._updateMinMaxDistance(i),i}calcAngleDependentLoD(e){const t=this.getRenderMbs(e),i=t[3],n=(Math.abs(t[0]*(t[0]-this._camPos[0])+t[1]*(t[1]-this._camPos[1])+t[2]*(t[2]-this._camPos[2]))/r(t)+i)/s(t,this._camPos);return Math.min(1,n)}hasLOD(e){return e.lodMetric!==C.None}_getDistancePlanarMode(e,t){const i=e[0]-t[0],s=e[1]-t[1],r=e[2]-t[2],n=i*i+s*s,o=t[3];if(n<=o*o)return Math.abs(r);const a=Math.sqrt(n)-o;return Math.sqrt(r*r+a*a)}_getDistanceGlobeMode(e,t){const m=r(t),p=r(e)-m;n(this._tmp0,e,o(e,t)/a(e));const l=i(t,this._tmp0),_=t[3];if(l<=_*_)return Math.abs(p);{const i=n(this._tmp0,t,1/m),a=m,l=_*_/2/a,u=n(this._tmp1,i,a-l),d=e,g=h(this._tmp2,d,u),b=h(this._tmp2,g,n(this._tmp3,i,o(i,g))),v=c(this._tmp2,u,n(this._tmp2,b,_/r(b)));let x=s(d,v);if(p>=2e5){const e=h(this._tmp1,d,v);let t=o(e,i)/r(e);t<.08&&(t=1e-4),x/=t}return x}}_getDistance(e,t){return this.engineSR===u(this.engineSR)?this._getDistanceGlobeMode(e,t):this._getDistancePlanarMode(e,t)}_updateMinMaxDistance(e){e>0?(this.minDistance=Math.min(this.minDistance,e),this.maxDistance=Math.max(this.maxDistance,e)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-e))}getLodLevel(e){if(e.lodMetric===C.None)return 0;if(0===e.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this._progressiveLoadFactor<1){const t=this._progressiveLoadFactor*this._screenspaceErrorBias,i=this._screenspaceErrorBias;return this.evaluateLODmetric(e,t)?this.evaluateLODmetric(e,i)?2:1:0}return this.evaluateLODmetric(e,this._screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(e,t){switch(e.lodMetric){case C.ScreenSpaceRelative:{const i=this.getRenderMbs(e),s=this._getDistance(this._camPos,i),r=2*s/this._screenSizeFactor,n=s+i[3];return this._updateMinMaxDistance(n),e.maxError*t<=r}case C.MaxScreenThreshold:{let i=this._screenSpaceDiameterMbs(e,e.mbs[3]*t);return this._options.angleDependentLoD&&(i*=this.calcAngleDependentLoD(e)),i<e.maxError}case C.RemovedFeatureDiameter:return this._screenSpaceDiameterMbs(e,e.maxError)*t<10;case C.DistanceRangeFromDefaultCamera:return this.calcCameraDistance(e)>e.maxError*t}return!1}distToPOI(e){const t=this.getRenderMbs(e);return s(t,this._poi)-t[3]}distCameraToPOI(){return s(this._camPos,this._poi)}}export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import has from\"../../../core/has.js\";import s from\"../../../core/Logger.js\";import{isNone as r,isSome as a}from\"../../../core/maybe.js\";import d from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{isAbortError as n}from\"../../../core/promiseUtils.js\";import{watch as h,initial as l,sync as u}from\"../../../core/reactiveUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g,intersectsSphere as m}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as y}from\"../dehydratedFeatures.js\";import{PromiseQueue as x}from\"../../support/PromiseQueue.js\";import{viewingModeFromString as f}from\"../../../views/ViewingMode.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as N}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import v from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import{NodeState as w,CacheState as C}from\"../../../views/3d/layers/i3s/I3SNode.js\";import D from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as L}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as S,getIndexCrs as I,findIntersectingNodes as V}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import A from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{FadeDirection as F}from\"../../../views/3d/layers/support/I3SLayerView.js\";import{toBoundingRect as P}from\"../../../views/3d/support/extentUtils.js\";import{ClientType as O,maxDownloadSlots as U}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as M,scaleBoundsPredicate as q}from\"../../../views/support/layerViewUtils.js\";import{noBudget as G}from\"../../../views/support/Scheduler.js\";const j=\"esri.layers.graphics.controllers.I3SOnDemandController\",Q=s.getLogger(j),T=100,E=2,H=1e4,R=1e-4,B=1.2,k=500,z=1.5;let K=class extends(o(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new d({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new d,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new x,this._elevationUpdateNodes=new d({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get useMaximumNumberOfFeatures(){return!this.isMeshPyramid&&(r(this.layer.priority)||\"High\"===this.layer.priority)}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(O.I3S_INDEX);return new L(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(O.I3S_DATA);return new L(e,this.layer.apiKey)}get crsVertex(){return S(this.layer)}get crsIndex(){return I(this.layer)}get layer(){return this.layerView.i3slayer}get rootNodeVisible(){if(a(this._index)){const e=this._index.rootNode;if(a(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){const{layerView:e,layer:t}=this;this._disableMemCache=!e.loadCachedGPUData||!e.addCachedGPUData,this._lodHandling=new v(e),this._defaultGeometrySchema=t.store.defaultGeometrySchema,this.disableIDBCache=has(\"disable-feature:idb-cache\"),\"fields\"in t&&(this._fields=t.fields,this._attributeStorageInfo=t.attributeStorageInfo),this.addResolvingPromise(Promise.all([t.indexInfo,t.when(),e.when()]).then((([i])=>{if(this.destroyed||!e||e.destroyed)return;const{view:s}=e,{resourceController:r}=s;this._setClippingArea(s.clippingArea),this.addHandles([h((()=>s?.pointsOfInterest?.focus?.renderLocation),(e=>this._pointOfInterestChanged(e)),l),h((()=>r.memoryController.memoryFactor),(()=>this._setCameraDirty()),u),h((()=>e.suspended),(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);!e&&a(this._index)&&this._index.invalidateAllElevationRanges(),this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=r.scheduler.registerIdleStateCallbacks(t,i)}),l),b(e.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),h((()=>e.uncompressedTextureDownsamplingEnabled),(()=>this.restartNodeLoading())),h((()=>[this.featureTarget,this.fixedFeatureTarget]),(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),h((()=>s.state?.contentCamera),(()=>this._setCameraDirty())),h((()=>t.elevationInfo),(e=>this._elevationInfoChanged(e))),h((()=>t.effectiveScaleRange),(()=>this._scaleBoundsChanged())),h((()=>e.lodFactor),(()=>this._setCameraDirty())),h((()=>e.availableFields),(()=>this._requiredFieldsChange())),h((()=>e.holeFilling),(e=>a(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new A(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,this.isMeshPyramid?s.basemapTerrain:s.elevationProvider,f(s.viewingMode),this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this._lod,angleDependentLoD:this._lod<.5}),this._index=new N(t,i,this.indexStreamController,this._viewportQueries,Q,e.holeFilling,(t=>e.isNodeLoaded(t)),(t=>e.isNodeReloading(t)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,w.Leaf)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(t=>e.computeVisibilityObb?e.computeVisibilityObb(t):null),e?.computeNodeFiltering?t=>e.computeNodeFiltering(t):void 0),this._index.updateElevationInfo(this.layer.elevationInfo,this.isMeshPyramid),this._index.imModificationsChanged(!!e.hasModifications),this._startNodeLoading()}))),this._tmpPoint=y(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;a(t)&&i?.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);a(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,W.prune(),a(X)&&(X.hide(),X=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=J(e,i),r=J(t,i);return s>=0&&r>=0?{index:s,name:t[r].name,field:t[r],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();$(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();P(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){a(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),a(this._index)&&(this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),a(this._viewportQueries)&&a(this._index)&&(this._viewportQueries.updateClippingArea(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(r(i)||r(i.rootNode)||r(t))return null;this.crsIndex.equals(t)||(p(e,t,Z,this.crsIndex),e=Z);const s=this._elevationUpdateNodes;return s.clear(),V(e,i.rootNode,i,(e=>s.push(e.index))),s.length&&(s.forAll((e=>i.updateElevationChanged(e))),this._setCameraDirty()),s}getParentIndex(e){return a(this._index)&&this._index.getParentIndex(e)}removeAllGeometryObbs(){a(this._index)&&this._index.removeAllGeometryObbs()}getRenderMbs(e){return a(this._viewportQueries)?this._viewportQueries.getRenderMbs(e):null}_elevationInfoChanged(e){r(this._index)||(this._index.updateElevationInfo(e,this.isMeshPyramid),this._setCameraDirty())}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this._areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this._areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t){const i=this._index;if(r(i))return;const s=i.rootNode;!r(s)&&p(e,t,Z,this.crsIndex)&&this._loadedNodeScales.forEach(((e,t)=>{const s=i.getNode(t);a(s)&&m(Z,s.mbs)&&this._loadedNodeScales.set(t,this._computeScale(s))}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get _isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get _areScaleBoundsActive(){const{minScale:e,maxScale:t}=M(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return r(this._index)||this.layerView.suspended?0:this._index.unloadedMemoryEstimate*this._lodDropFactor}get indexDepth(){return a(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||r(this._index)?-1/0:(this._processWithErrorLogging(e,t),this._index.maxPriority)}_processWithErrorLogging(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?Q.error(\"Error during processing: \"+i):50===this._errorCount&&Q.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){this._restartNodeLoading&&this._startNodeLoading(),null==this._nodeLoader||r(this._index)||(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this._isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this._isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t))),this._idleQueue.runTask(e),e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.indexLoading,t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating())}_processIndex(e){if(r(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update(Array.from(this._loadingNodes.keys()),e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(r(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.useMaximumNumberOfFeatures||r(this._index)||r(this._viewportQueries))return;const e=!this._index.isLoading,t=this.featureTarget*this._baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.indexMissing>k){if(this._featureLOD<=R)return;this._featureLOD/=z,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=H||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this._lod,r=this._index.checkFeatureTarget(t,s);r!==s&&(this._featureLOD=r/this._baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*B||e&&i.estimate>t))return;if(this._featureLOD<=R)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(H,Math.max(R,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this._lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(r(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);a(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,w.Hole)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(r(this._index))return!1;let i=(this._isIdle?T:E)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());a(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(r(a)||a.cacheState!==C.Cached&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=E)&&(this._downloadingCount<U&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(a(this._index)?this._index.indexMissing:0)+3*(a(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.running||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling||a(this._index)&&this._index.isPrefetching),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||r(this._index)||r(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this._lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get _lod(){return this._featureLOD*this._baseLOD}get _baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get _lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return a(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){a(this._index)&&this._index.invalidateNodeVisibilityCache(e)}invalidateGeometryVisibility(e){a(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){a(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){a(this._index)&&this._index.imModificationsChanged(!!this.layerView.hasModifications),this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e))&&(!(r(this._index)||!this._index.isGeometryVisible(e.index))&&this._isNodeInScaleBounds(e))}_shouldDropNode(e){if(r(this._viewportQueries))return!1;const t=this._lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||r(e)||r(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:this.useMaximumNumberOfFeatures};this._nodeLoader=new D(this.layer,this.dataStreamController,Q,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,ee.fadeout)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(r(t)||r(this._viewportQueries))return!1;W.clear(),this.layerView.getLoadedNodeIndices(W);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return W.filterInPlace((e=>{const i=t.getNode(e);return r(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),W.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(W,e,ee.pop),!(i&&this._lodDropFactor<1)&&(0===W.length||(W.clear(),!1))}markNodeToRemove(e){W.push(e)}removeMarkedNodes(){this._removeNodes(W,G,ee.pop)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(a(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),r=this._index;i===ee.fadeout&&this.layerView.nodeFadeoutEnabled&&a(r)&&r.isGeometryVisible(s)?this.layerView.fadeNode(s,F.FadeOut,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=new AbortController;this._updatingNodes.set(e.index,t);($(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!n(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void Q.error(\"already loading node \"+e.index);const t=new AbortController;this._loadingNodes.set(e.index,t),this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then((i=>{i&&a(this._index)&&this._loadingNodes.get(e.index)===t&&(this._loadingNodes.delete(e.index),this._index.requestUpdate())})).catch((e=>{if(!n(e))throw e})).finally((()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()}))}_loadAndAddNode(e,t){return e.cacheState===C.Uncached?this._loadUncached(e,t).then((()=>!1)):this._loadCached(e,t).then((t=>!t&&(e.cacheState=C.Uncached,!0))).catch((t=>!n(t)&&(e.cacheState=C.Uncached,!0)))}_enableFromGPUCache(e,t){if(this._disableMemCache||r(this._index))return!1;if(t===w.Hole&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return a(t)&&a(t.attributeInfo)&&$(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){a(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateLoadStatus(e,t){const i=this._index;a(i)&&i.updateChildrenLoaded(e,t?1:-1)}_loadCached(e,t){if(this._enableFromGPUCache(e,w.Leaf))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(r(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=C.Cached})).catch((t=>{if(!n(t))throw Q.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,a(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&a(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);const t=this._computeScale(e);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_computeScale(e){this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=e.mbs[3];return this.layerView.view.basemapTerrain.getSphereScale(this._tmpPoint,t)}_isNodeInScaleBounds(e){if(!this._areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=M(this.layer);return q(t,i,s)}updateStats(e){e.index=a(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this._baseLOD),a(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){a(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),a(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;a(t)&&t.layerFilterChanged(e),this._setCameraDirty()}};e([_({readOnly:!0})],K.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],K.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],K.prototype,\"useMaximumNumberOfFeatures\",null),e([_({readOnly:!0})],K.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],K.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],K.prototype,\"crsVertex\",null),e([_({readOnly:!0})],K.prototype,\"crsIndex\",null),e([_()],K.prototype,\"screenSizeFactor\",void 0),e([_()],K.prototype,\"featureTarget\",void 0),e([_()],K.prototype,\"fixedFeatureTarget\",void 0),e([_()],K.prototype,\"layerView\",void 0),e([_()],K.prototype,\"layer\",null),e([_({})],K.prototype,\"updating\",void 0),e([_({})],K.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],K.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],K.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],K.prototype,\"rootNodeVisible\",null),K=e([c(j)],K);const W=new d({deallocator:null});let X;function $(e,t){return a(e)&&e.length===t.length&&e.every((e=>J(t,e.name)>=0))}function J(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const Y={factorIM:.2,factor3dObject:.05,distancePenalty:10},Z=g();var ee;!function(e){e[e.pop=0]=\"pop\",e[e.fadeout=1]=\"fadeout\"}(ee||(ee={}));const te=K;export{te as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../request.js\";import s from\"../../../../core/Accessor.js\";import{remove as i,splitIntoChunks as r}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as a,result as n}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as o,estimateNumberByteSize as c}from\"../../../../core/byteSizeEstimations.js\";import d from\"../../../../core/Logger.js\";import{isSome as h,unwrap as l,isNone as u,get as m}from\"../../../../core/maybe.js\";import{whenOrAbort as g}from\"../../../../core/promiseUtils.js\";import{watch as p,initial as _}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as b}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{formatNumber as f}from\"../../../../intl/number.js\";import{getMaximumQuerySize as O,queryAllJSON as j}from\"../../../../layers/support/featureQueryAll.js\";import{sceneLayerEditingEnabled as v}from\"../../../../support/featureFlags.js\";import C from\"../FeatureLayerView3D.js\";let I=class extends s{constructor(e){super(e),this._warnMaximumChangedObjectsExceeded=!1,this._pendingFetchAbortController=new AbortController,this._interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=x,this._original3DOFLDefinitionExpression=null,this._associatedLayerView=null,this._changedObjectIds=new Set}initialize(){this._memCache=this.memoryController.newCache(`${this.layer.uid}-attribute-overrides`),this._pendingFetchChangedObjectIds=this._fetchChangedObjectIds(this._pendingFetchAbortController.signal),this._pendingFetchChangedObjectIds.then((()=>this._pendingFetchAbortController=null)),v()&&h(this._associatedLayer)&&h(this._associatedLayer.infoFor3D)&&this._associatedLayer.load().then((e=>{this.destroyed||(this._original3DOFLDefinitionExpression=e.definitionExpression,this.addHandles(p((()=>this._definitionExpression),(t=>e.definitionExpression=t),_)),this._associatedLayerView=new C({layer:this._associatedLayer,view:this.view}))}))}destroy(){v()&&h(this._associatedLayer)&&h(this._associatedLayer.infoFor3D)&&h(this._associatedLayerView)&&(this._associatedLayer.definitionExpression=l(this._original3DOFLDefinitionExpression)),this._set(\"layer\",null),this._memCache.destroy(),this._memCache=null,this._pendingFetchAbortController&&(this._pendingFetchAbortController.abort(),this._pendingFetchAbortController=null),this._pendingFetchChangedObjectIds=null}get geometryChangedObjectIds(){return[...this._changedObjectIds]}get _associatedLayer(){return this.layer.associatedLayer}get _definitionExpression(){const e=this.geometryChangedObjectIds;return 0===e.length?\"1 = 0\":`OBJECTID IN (${e.join(\",\")})`}get updating(){if(!v())return!1;if(!(h(this._associatedLayer)&&h(this._associatedLayer.infoFor3D)))return!1;return!h(this._associatedLayerView)||h(this._associatedLayerView)&&this._associatedLayerView.updating}createInteractiveEditSession(e){this._changedObjectIds.add(e),this.notifyChange(\"_changedObjectIds\"),u(this._interactiveEditingSessions)&&(this._interactiveEditingSessions=[]);const t=this._interactiveEditingSessions,s=new A(e,{rollback:()=>{i(t,s),0===t.length&&(this._interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateAttributeValue(e,s,i)}});return t.unshift(s),s}async apply(e,t,s){if(u(t))return;const{loadedAttributes:i,attributeData:r}=t;if(u(i)||0===i.length||u(r))return;if(await g(this._pendingFetchChangedObjectIds,s),0===this._changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this._getOverridesFromCache(e,a,this._changedObjectIds),{objectIds:o,fieldNames:c}=n,d=await this._queryOverridesFromAssociatedLayer(o,c,s);u(d)||this._processOverridesFromAssociatedLayer(e,d,c,a)}updateGeometry(e){this._changedObjectIds.add(e),this.notifyChange(\"_changedObjectIds\")}updateAttributeValue(e,t,s){this._changedObjectIds.add(e),this._cacheAttributeValue(e,t,s),this.notifyChange(\"_changedObjectIds\")}_cacheAttributeValue(e,t,s){this._memCache.put(this._getAttributeCacheKey(e,t),s,this._memCacheAttributeValueSize(s))}_getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this._fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}_fromCache(e,t){const s=this._fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this._getAttributeCacheKey(e,t);return this._memCache.get(i)}_fromInteractiveEditingSession(e,t){if(!u(this._interactiveEditingSessions))for(const s of this._interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}_getAttributeCacheKey(e,t){return`${e}-${t}`}async _queryOverridesFromAssociatedLayer(e,t,s){if(0===e.length||0===t.length)return null;e=e.sort(((e,t)=>e-t)),this._warnMaximumChangedObjectsExceeded&&(this._warnMaximumChangedObjectsExceeded=!1,this._logMaximumObjectsExceededWarning());const i=this.layer.associatedLayer;if(u(i))return null;const n=i.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[i.objectIdField,...t],n.cacheHint=!0,n.objectIds=e;const o=O(i),c=e.length>o?r(e,o).map((e=>{const t=n.clone();return t.objectIds=e,a(j(i,t,{signal:s}))})):[a(j(i,n,{signal:s}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}_logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${f(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,d.getLogger(\"esri.views.3d.layers.i3s.I3SOverrides\").warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}_processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=this.layer.associatedLayer;if(u(a))return;const n=a.objectIdField,o=s.map((e=>r[e])),c=new Map(i.map((e=>[e.name,e.index]))),d=s.map((e=>c.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const l of t){const e=l.attributes[n];for(let t=0;t<s.length;t++){const i=d[t],r=h.get(e),a=l.attributes[s[t]];o[t][r]=a,this._cacheAttributeValue(e,i,a)}}}_memCacheAttributeValueSize(e){return\"string\"==typeof e?o(e):c()}async _fetchChangedObjectIds(e){const s=this.layer;if(await s.load({signal:e}),this._changedObjectIds.clear(),u(s.associatedLayer)||!s.associatedLayer.capabilities?.operations?.supportsChangeTracking)return;const i=this._getFetchChangedObjectIdsServerGen();if(u(i))return null;const r=s.associatedLayer.layerId,a=h(s.associatedLayer.infoFor3D),o=await n(t(`${s.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`[${r}]`,returnUpdates:!0,returnDeletes:a,returnInserts:a,layerServerGens:JSON.stringify([{id:r,serverGen:i}])},timeout:L,signal:e}));if(o.ok&&o.value.data?.edits&&1===o.value.data.edits.length){const e=o.value.data.edits[0],t=m(e,\"objectIds\",\"adds\"),s=m(e,\"objectIds\",\"updates\"),i=m(e,\"objectIds\",\"deletes\");let r=[];h(t)&&(r=r.concat(t)),h(s)&&(r=r.concat(s)),h(i)&&(r=r.concat(i));const a=Math.min(this._maximumNumberOfEditOVerrides,r.length);a<r.length&&(this._warnMaximumChangedObjectsExceeded=!0);const n=r.sort(((e,t)=>e-t));for(let o=0;o<a;o++)this._changedObjectIds.add(n[o])}this.notifyChange(\"_changedObjectIds\")}_getFetchChangedObjectIdsServerGen(){const e=this.layer;if(h(e.serviceUpdateTimeStamp)&&h(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return h(t)&&h(t.serverGens)&&h(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this._changedObjectIds),t=this._pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}};e([y({constructOnly:!0})],I.prototype,\"view\",void 0),e([y({constructOnly:!0})],I.prototype,\"layer\",void 0),e([y({readOnly:!0})],I.prototype,\"geometryChangedObjectIds\",null),e([y()],I.prototype,\"_associatedLayer\",null),e([y()],I.prototype,\"_associatedLayerView\",void 0),e([y({constructOnly:!0})],I.prototype,\"memoryController\",void 0),e([y()],I.prototype,\"_changedObjectIds\",void 0),e([y()],I.prototype,\"_definitionExpression\",null),e([y()],I.prototype,\"updating\",null),I=e([b(\"esri.views.3d.layers.i3s.I3SOverrides\")],I);class A{constructor(e,t){this.objectId=e,this._options=t,this._updates=new Map,this._state=E.ACTIVE}get(e){return this._updates.get(e)}set(e,t){this._isActive&&this._updates.set(e,t)}rollback(){this._isActive&&(this._state=E.ROLLED_BACK,this._options.rollback())}commit(){this._isActive&&(this._state=E.COMMITTED,this._options.commit(this._updates),this._updates.clear())}get _isActive(){return this._state===E.ACTIVE}}var E;!function(e){e[e.ACTIVE=0]=\"ACTIVE\",e[e.COMMITTED=1]=\"COMMITTED\",e[e.ROLLED_BACK=2]=\"ROLLED_BACK\"}(E||(E={}));const L=1e4,x=5e4;export{I as I3SOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let a=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this.declaredClass).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this.declaredClass).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return e.getLogger(this.declaredClass).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this.declaredClass).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this.declaredClass).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],a.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],a.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],a.prototype,\"definitionExpressionFields\",null),a=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],a),a};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as p,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:t}=this,{popupEnabled:s}=t;if(!s)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:t});return p(t,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:t})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const s=this._validateFetchPopupFeatures(r);if(s)throw s;const c=t(r)?r.clientGraphics:null;if(!c||0===c.length)return[];const u=\"scene\"===this.layer.type&&t(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,n=o(this.layer.fieldsIndex,await i(u,p(this.layer,r)));await this.prepareFetchPopupFeatures(n);const l=new Set,h=[],y=[];for(const t of c)a(n,t,l)?y.push(t):h.push(t);return 0===y.length?h:this.whenGraphicAttributes(y,[...l]).catch((()=>y)).then((e=>h.concat(e)))}};return u=e([s(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};var s;function i(e,r){const i=r.attributes[e.objectIdField],a=e.sessions.get(i);if(a)return a;const u=t(r.attributes),c=new Set;if(null==i)return o;const f=e.i3sOverrides.createInteractiveEditSession(i),d=new Map,l=(t,e)=>{const n=d.get(t);if(null==n){const n=e.indexOf(i);return d.set(t,n),n}return n};let I=s.EDITING;const b={setAttribute(t,o){if(I!==s.EDITING)return;const i=e.fieldsIndex.get(t);if(n(i))return;const a=e.attributeStorageInfo.findIndex((t=>t.name===i.name));if(a<0)return;f.set(a,o);const u=e.attributeStorageInfo[a];let d=!1;c.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[u.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),d=!0)}})),d&&e.clearMemCache()},rollback(){if(I===s.EDITING){for(const t of c)this.setAttribute(t,u[t]);f.rollback(),I=s.ROLLED_BACK,e.sessions.delete(i)}},commit(){I===s.EDITING&&(f.commit(),I=s.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,b),b}function a(t,e){const n=[...e.addedFeatures,...e.updatedFeatures,...e.deletedFeatures];for(const r of n)r.objectId&&t.i3sOverrides.updateGeometry(r.objectId)}function u(t,n){const r=c(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.i3sOverrides.updateAttributeValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function c(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new b;const o=l(e),s=new b,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,u=t.objectIdField,c=n.filter((t=>{const e=r(a,t.attributes,u);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of c){const c=r(a,i.attributes,u);if(!o.has(c))continue;const d=n.indexOf(c);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=f(s,e.index,r),a=i.attributes[n];o.push({featureIndex:d,featureId:c,value:a})}}})),s}function f(t,e,n){const r=d(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function d(t,e){const n=t.get(e);if(n)return n;const r=new I;return t.set(e,r),r}function l(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}!function(t){t[t.EDITING=0]=\"EDITING\",t[t.ROLLED_BACK=1]=\"ROLLED_BACK\",t[t.COMMITTED=2]=\"COMMITTED\"}(s||(s={}));const I=Map,b=Map;export{i as createInteractiveEditSession,u as processAttributeEdits,a as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Logger.js\";import{isNone as r,isSome as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{whenOnce as s}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as p,canProjectWithoutEngine as u,isLoaded as c,load as y}from\"../../geometry/projection.js\";import g from\"./LayerView.js\";const d=\"esri.views.layers.SceneLayerView\",h=t.getLogger(d);let f=class extends g{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer.filter;if(r(e)||e.geometries.length<1)return null;const t=this._geometryEngine;if(r(t)||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const o=e.geometries.getItemAt(0).spatialReference,i=e.geometries.toArray().map((e=>{try{e=t.simplify(e)}catch(r){return h.warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(o))return e;try{return p(e,o)}catch(r){return h.warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter((e=>null!=e)).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),l=new Set,s=new Array,a=new Array;for(let r of i){const e=r.extent.xmin;if(s.length=0,l.forEach((o=>{if(e>=o.extent.xmax)return a.push(o),void l.delete(o);r.extent.ymin<=o.extent.ymax&&r.extent.ymax>=o.extent.ymin&&t.intersects(r,o)&&s.push(o)})),s.length>0){s.push(r);try{r=t.union(s)}catch(m){h.warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}s.pop(),s.forEach((e=>l.delete(e)))}l.add(r)}return l.forEach((e=>a.push(e))),a.length>0?{spatialRelationship:e.spatialRelationship,geometries:a}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(r(e)||e.geometries.length<=1)return!1;const t=e.geometries.getItemAt(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!u(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){s((()=>!this._geometryEngine&&o(this.layer.filter)&&this.layer.filter.geometries.length)).then((async()=>this._geometryEngine=await import(\"../../geometry/geometryEngine.js\"))),this._projectionEngineLoaded=c(),s((()=>!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)).then((async()=>{await y(),this._projectionEngineLoaded=!0}))}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"availableFields\",null),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a()],f.prototype,\"filter\",void 0),e([a({readOnly:!0})],f.prototype,\"layerFilter\",null),e([a({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([a()],f.prototype,\"_geometryEngine\",void 0),e([a()],f.prototype,\"_projectionEngineLoaded\",void 0),e([a()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([a()],f.prototype,\"layerFilterUpdating\",null),f=e([m(d)],f);const E=f;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import s from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{property as n}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as o}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const i=e=>{let a=class extends e{constructor(){super(...arguments),this._numUpdating=0,this._asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(t,e){return p((e=>this._updateAsync(t,e)),e)}async _updateAsync(t,e){if(!this._startAsyncUpdate(t)){try{const s=await e();this._set(t,s)}catch(a){s.getLogger(this.declaredClass).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(t)&&this._updateAsync(t,e)}}_startAsyncUpdate(t){const e=this._asyncUpdateState.get(t)??c.None;return e&c.Updating?(this._asyncUpdateState.set(t,e|c.Invalidated),!0):(++this._numUpdating,this._asyncUpdateState.set(t,e|c.Updating),!1)}_endAsyncUpdate(t){--this._numUpdating;const e=(this._asyncUpdateState.get(t)??c.None)&~c.Updating;return e&c.Invalidated?(this._asyncUpdateState.set(t,e&~c.Invalidated),!0):(this._asyncUpdateState.set(t,e),!1)}};return t([n({readOnly:!0})],a.prototype,\"updating\",null),t([n()],a.prototype,\"_numUpdating\",void 0),a=t([r(\"esri.core.AsyncUpdate\")],a),a};var c;function p(t,e){const s=()=>{i&&!c&&t(n)},n=()=>{if(!i||c)return e();i.clear(),c=!0;const t=a(i,e);return c=!1,t},r=()=>{i&&(i.destroy(),i=null)};let i=new o(s),c=!1;return t(n),{remove:r}}!function(t){t[t.None=0]=\"None\",t[t.Updating=1]=\"Updating\",t[t.Invalidated=2]=\"Invalidated\"}(c||(c={}));let d=class extends(i(e)){};d=t([r(\"esri.core.AsyncUpdate\")],d);export{d as AsyncUpdate,i as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as n,collectLabelingFields as a,collectFilterFields as d}from\"../../../../layers/support/fieldUtils.js\";const p=\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\";let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return n(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>a(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>d(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(p).error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(p)],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{binaryIndexOf as r}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Logger.js\";import{destroyMaybe as i,isNone as o,isSome as a,unwrap as n}from\"../../../core/maybe.js\";import{initial as d,watch as l}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{a as c}from\"../../../chunks/vec3.js\";import{f as p,c as g}from\"../../../chunks/vec3f64.js\";import{projectBuffer as m,projectVectorToVector as _}from\"../../../geometry/projection.js\";import{extentContainsCoords3D as y}from\"../../../geometry/support/contains.js\";import{getGeometryZScaler as f}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as b}from\"../../../layers/LayerConstants.js\";import{makeDehydratedPoint as v,estimateSize as x}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import I from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import S from\"../../../layers/support/FeatureFilter.js\";import w from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import F from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as O}from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as A,processAttributeEdits as j}from\"./i3s/attributeEditing.js\";import{I3SOverrides as N}from\"./i3s/I3SOverrides.js\";import{checkSpatialReferences as T,containsDraco as L,whenGraphicAttributes as M,getCachedAttributeValue as V}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as G}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as R}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as P}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as H}from\"./support/SceneLayerViewRequiredFields.js\";import U from\"../support/debugFlags.js\";import{GraphicsMap as q}from\"../support/GraphicsMap.js\";import{compute as Q}from\"../support/orientedBoundingBox.js\";import{updatingProgress as k}from\"../support/updatingProperties.js\";import{UpdatePolicy as B}from\"../webgl-engine/lib/basicInterfaces.js\";import z from\"../../layers/SceneLayerView.js\";import{TaskPriority as Z}from\"../../support/Scheduler.js\";const W=R();let K=class extends(G(P(D(z)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._nodesAddedToStage=new Map,this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new q,this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}initialize(){const e=this.layer;this.addResolvingPromise(e.indexInfo),this._i3sOverrides=new N({view:this.view,layer:this.layer,memoryController:this.view.resourceController?.memoryController}),T(e,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new H({layerView:this}),this.updatingHandles.add((()=>e.rangeInfos),(e=>this._rangeInfosChanged(e)),d),this.updatingHandles.add((()=>e.renderer),((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted]),(()=>this._filterChange())),this.handles.add(l((()=>U.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&U.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||U.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),d)),this._set(\"processor\",new F({owner:this,preferredUpdatePolicy:B.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:e.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(e=>this._controller.updateElevationChanged(e.extent,e.spatialReference))),this.supportsHeightUnitConversion&&(this._verticalScale=f(\"point\",e.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.initializePromise),this._memCache=this.view.resourceController.memoryController.newCache(e.uid),this._controller=new I({layerView:this,scaleVisibilityEnabled:!1}),L(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{const e=()=>this.processor.featureStore;this._queryEngine=new O({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return e()},hasZ:this.hasZ,hasM:this.hasM},priority:Z.FEATURE_QUERY_ENGINE}),this.updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),d),this.updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._i3sOverrides=i(this._i3sOverrides),this._set(\"processor\",i(this.processor)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this._nodesAddedToStage.clear(),this._fieldsHelper=i(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}async whenGraphicAttributes(e,t){return M(this.layer,e,this._getObjectIdField(),t,(()=>[...this._nodesAddedToStage.values()]))}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return A(this._attributeEditingContext,e)}async _extractBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};return o(this._worker)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this._worker.invoke(r,t).then((e=>{if(a(e)){return{positionData:e.positions,featureIds:e.featureIds}}throw new Error(\"Failed to decompress Draco point data\")}))}_checkExtent(e,t){e&&!y(e,t)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&s.getLogger(this.declaredClass).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&s.getLogger(this.declaredClass).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++)}async addNode(e,t,r){if(!J(t)&&!$(t))throw new Error;if(this._nodesAddedToStage.has(e.index))return void s.getLogger(this.declaredClass).error(\"I3S node \"+e.id+\" already added\");const i=a(this.layer.fullExtent)?ee(this.layer.fullExtent.clone(),.5):null,o=this._controller.crsVertex,n=[],d={graphics:null,featureIds:null,attributeInfo:t.attributeDataInfo,node:e};if(J(t)?await this._addNodeBinaryPointData(e,d,t,i,n,r):$(t)&&this._addNodeLegacyPointData(e,d,t,i,n),await this._i3sOverrides.apply(d.featureIds,t.attributeDataInfo,r),e.numFeatures=d.graphics.length,this._updateNodeMemory(e),X(d),n.length>0&&(this._computeObb(e,n,o),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(d);if(a(this._verticalScale))for(const s of d.graphics)this._verticalScale(s.geometry);const l=this.view._stage.renderView._objectAndLayerIdRenderHelper;if(l)for(let s=0;s<d.featureIds.length;s++){const e=d.featureIds[s];l.setUidToObjectAndLayerId(e,d.graphics[s].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled,d.node.resources.attributes,s)}this._nodesAddedToStage.set(e.index,d),this.loadedGraphics.addMany(d.graphics),this._controller.updateLoadStatus(e.index,!0),this._filterNode(d),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const s=this._controller.crsIndex,i=s.isGeographic?this.view.renderSpatialReference:s;m(t,r,0,t,i,0,t.length/3);const o={data:t,size:3};e.serviceObb=Q(o),s.isGeographic&&_(e.serviceObb.center,i,e.serviceObb.center,s)}isNodeLoaded(e){return this._nodesAddedToStage.has(e)}isNodeReloading(){return!1}updateNodeState(){}async _addNodeBinaryPointData(e,r,s,i,o,d){const l=await this._extractBinaryPointData(s,d);if(null==l)throw new Error;const h=this._getObjectIdField(),u=this._controller.crsVertex,g=this.view.spatialReference,_=this.processor.graphicsCore,{positionData:y,featureIds:f}=l,b=3,x=y.length/b,E=new Array,I=a(e.serviceObb)?e.serviceObb.center:[0,0,0],S=Math.abs(I[2])*2**-20;for(let w=0;w<x;w++){const r=w*b,s=p(y[r+0],y[r+1],y[r+2]);c(s,s,I),Math.abs(s[2])<S&&(s[2]=0),e.serviceObb||o.push(s[0],s[1],s[2]),a(i)&&this._checkExtent(i,s);const d=f[w],l={};null!=d&&(l[h]=d);const x=d??t.generateUID();m(s,u,0,re,g,0,1);const C=v(re[0],re[1],re[2],g),D=this.loadedGraphics.get(x);if(a(D))D.level<e.level&&(se.property=\"geometry\",se.graphic=D,se.oldValue=n(D.geometry),se.newValue=C,D.geometry=C,_.graphicUpdateHandler(se)),E.push(D);else{const r=t.generateUID();E.push({objectId:x,uid:r,geometry:C,attributes:l,visible:!0,level:e.level})}}r.graphics=E,r.featureIds=Array.from(f)}_addNodeLegacyPointData(e,r,s,i,o){const n=this._getObjectIdField(),d=this._controller.crsVertex,l=this.view.spatialReference,h=[0,0,0],u=new Array,c=new Array;for(const p of s.pointData){const r=p.featureDataPosition,s=r.length,g=p.geometries&&p.geometries[0]||te[s],_=p.featureIds[0];if(\"points\"!==g.params.type)continue;a(i)&&this._checkExtent(i,r);const y={};null!=_&&(y[n]=_);const f=_??t.generateUID();let b;\"Embedded\"===g.type&&(b=g.params.vertexAttributes.position);for(let i=0;i<b.length;i+=s){for(let e=0;e<s;e++)h[e]=r[e]+b[i+e];const n=3===s;e.serviceObb||o.push(h[0],h[1],n?h[2]:0),m(h,d,0,re,l,0,1);const u=v(re[0],re[1],n?re[2]:void 0,l),p=this.loadedGraphics.get(f);a(p)?c.push(p):c.push({objectId:f,uid:t.generateUID(),geometry:u,attributes:y,visible:!0})}u.push(_)}r.graphics=c,r.featureIds=u}_updateNodeMemory(e){e.memory=4096+(a(e.numFeatures)?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>x(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this._nodesAddedToStage.forEach(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._nodesAddedToStage.clear(),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this._nodesAddedToStage.get(e);return t?(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeMany(t.graphics),this._nodesAddedToStage.delete(e),this._treeDebugger&&this._treeDebugger.update(),t):null}async loadCachedNodeData(e){return this._memCache.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,i){this._nodesAddedToStage.has(e.index)?s.getLogger(this.declaredClass).error(\"I3S node \"+e.id+\" already added\"):(this.loadedGraphics.addMany(t.graphics),this._nodesAddedToStage.set(e.index,t),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),await this.updateAttributes(e.index,r,i),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this._nodesAddedToStage.forEach((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this._nodesAddedToStage.forEach((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this._nodesAddedToStage.forEach(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this._nodesAddedToStage.get(e);if(t&&a(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodesAddedToStage.get(e);if(t&&a(t.attributeInfo))return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this._nodesAddedToStage.get(e);r&&!o(r.attributeInfo)&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const s=this._nodesAddedToStage.get(e);s&&(await this._i3sOverrides.apply(s.featureIds,t,r),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){if(X(e),this._filterNode(e),this.processor.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.processor.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||b}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,s=new Set;let i,o;e?(await e.collectRequiredFields(s,r),i=Array.from(s).sort()):i=[],s.clear(),t?(await t.collectRequiredFields(s,r),o=Array.from(s).sort()):o=[],i.length===o.length&&i.every(((e,t)=>i[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&s.getLogger(this.declaredClass).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this._nodesAddedToStage.forEach((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,s=this._excludeObjectIdsSorted,i=this._getObjectIdField();for(const a of e.graphics){const e=a.visible,n=!t||this._evaluateClause(t,a),d=o(s)||r(s,a.attributes[i])<0;a.visible=n&&d,e!==a.visible&&(se.graphic=a,se.property=\"visible\",se.oldValue=e,se.newValue=a.visible,this.processor.graphicsCore.graphicUpdateHandler(se))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return a(this.filter)?this.filter.createQuery(e):new w(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():w.from(e))}getUsedMemory(){return this.processor?.graphicsCore?.usedMemory??0}getUnloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){j(this._attributeEditingContext,e)}get _attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this._nodesAddedToStage.forEach((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo,i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,s)=>{this._setAttributeData(t,r);const i=this._nodesAddedToStage.get(t);if(a(s)){const t=this.loadedGraphics.get(s.attributes[e]);a(t)&&this.processor.graphicsCore.recreateGraphics([t])}else a(i)&&this.processor.graphicsCore.recreateGraphics(i.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this._nodesAddedToStage.size,core:this.processor.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this._nodesAddedToStage.size,loadedGraphics:this.loadedGraphics}}};e([h()],K.prototype,\"processor\",void 0),e([h({type:S})],K.prototype,\"filter\",void 0),e([h()],K.prototype,\"loadedGraphics\",void 0),e([h()],K.prototype,\"i3slayer\",null),e([h()],K.prototype,\"_controller\",void 0),e([h()],K.prototype,\"updating\",void 0),e([h()],K.prototype,\"suspended\",void 0),e([h()],K.prototype,\"holeFilling\",void 0),e([h(k)],K.prototype,\"updatingProgress\",void 0),e([h()],K.prototype,\"updatingProgressValue\",null),e([h(W.requiredFields)],K.prototype,\"requiredFields\",null),e([h(W.availableFields)],K.prototype,\"availableFields\",void 0),e([h()],K.prototype,\"_fieldsHelper\",void 0),e([h({type:Number})],K.prototype,\"maximumNumberOfFeatures\",null),e([h({readOnly:!0})],K.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([h()],K.prototype,\"_excludeObjectIdsSorted\",null),e([h({readOnly:!0})],K.prototype,\"lodFactor\",null),e([h({readOnly:!0})],K.prototype,\"hasM\",null),e([h({readOnly:!0})],K.prototype,\"hasZ\",null),K=e([u(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],K);const Y=K;function $(e){return\"pointData\"in e}function J(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function X(e){const t=e.attributeInfo;for(let r=0;r<e.graphics.length;r++){const s=e.graphics[r];if(s.attributes||(s.attributes={}),a(t)&&a(t.loadedAttributes))for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=V(t.attributeData[e],r))}}function ee(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,e.hasZ&&(e.zmin-=t,e.zmax+=t),e.hasM&&(e.mmin-=t,e.mmax+=t),e}const te={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},re=g(),se={graphic:null,property:null,oldValue:null,newValue:null};export{Y as default};\n"],"sourceRoot":""}
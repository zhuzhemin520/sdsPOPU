{"version":3,"sources":["../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfo.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoType.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoCheckbox.js","../node_modules/@arcgis/core/layers/support/BuildingFilterMode.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeSolid.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeWireFrame.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeXRay.js","../node_modules/@arcgis/core/layers/support/BuildingFilterBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilter.js","../node_modules/@arcgis/core/layers/support/BuildingSummaryStatistics.js","../node_modules/@arcgis/core/layers/BuildingSceneLayer.js"],"names":["A","_","p","getLogger","C","S","N","n","LoadableMixin","y","v","constructor","e","super","this","type","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","popupTemplate","layerType","parsedUrl","layer","path","id","query","fieldsIndex","I","readAssociatedLayer","r","t","associatedFeatureServiceItem","o","associatedLayerID","l","j","portalItem","layerId","objectIdField","name","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","w","rootNode","addResolvingPromise","Promise","resolve","P","async","s","f","token","responseType","data","read","origin","url","getField","get","getFieldDomain","getFeatureType","feature","domains","domain","types","typeIdField","geometryType","profile","capabilities","b","supportsZ","supportsM","isVersioned","createQuery","R","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","F","Q","E","D","queryCachedAttributes","length","i","attributes","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","d","error","u","readOnly","prototype","x","O","T","q","String","json","source","m","g","U","Number","write","origins","service","value","enabled","allowNull","L","target","c","a","Point","h","M","title","modelName","isEmpty","visible","opacity","readTitle","alias","readIdOnlyOnce","ignoreOrigin","Boolean","reader","Array","isArray","map","messages","push","definition","context","sublayers","loadAll","forEachSublayer","sublayersProperty","readSublayers","forEach","arguments","filterType","filterValues","clone","ofType","filterTypes","filterBlocks","edges","wireFrame","nonNullable","key","base","typeMap","solid","fromJSON","isRequired","filterExpression","filterMode","description","filterAuthoringInfo","checkbox","constructOnly","fieldName","label","min","max","mostFrequentValues","subLayerIds","every","slice","loadStatus","_get","declaredClass","B","overridePolicy","operationalLayerType","allSublayers","getCollections","getChildrenFunction","_sublayerOverrides","filters","activeFilterId","summaryStatistics","normalizeCtorArgs","destroy","applySublayerOverrides","overrides","readSublayerOverrides","Map","set","writeSublayerOverrides","Object","keys","writeUnappliedOverrides","readSummaryStatistics","statisticsHRef","_set","_validateElevationInfo","loadFromPortal","supportedTypes","catch","_fetchAssociatedFeatureService","_debouncedSaveOperations","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","SAVE","validateLayer","mode","warn","featureExpressionInfo","expression","fetchPortalItem"],"mappings":"gIAAA,kYAIywE,MAAMA,EAAE,0DAA0DC,EAAEC,IAAEC,UAAUH,GAAGI,EAAEC,cAAI,IAAIC,EAAE,cAAcC,IAAEC,cAAcC,YAAEC,OAAKC,YAAYC,GAAGC,MAAMD,GAAGE,KAAKC,KAAK,qBAAqBD,KAAKE,UAAU,KAAKF,KAAKG,oBAAoB,GAAGH,KAAKI,sBAAsB,GAAGJ,KAAKK,oBAAoB,GAAGL,KAAKM,UAAU,KAAKN,KAAKO,uBAAuB,KAAKP,KAAKQ,MAAM,KAAKR,KAAKS,qBAAqB,GAAGT,KAAKU,OAAO,GAAGV,KAAKW,gBAAgB,KAAKX,KAAKY,UAAU,KAAKZ,KAAKa,SAAS,OAAOb,KAAKc,SAAS,KAAKd,KAAKe,qBAAqB,KAAKf,KAAKgB,cAAa,EAAGhB,KAAKiB,cAAc,KAAKjB,KAAKkB,UAAU,WAAW,CAAKC,gBAAW,QAAC,OAAOnB,KAAKoB,MAAM,CAACC,KAAM,GAAsB,OAAtB,EAAErB,KAAKoB,MAAMD,gBAAS,EAApB,EAAsBE,kBAAkBrB,KAAKsB,KAAKC,MAA0B,OAArB,EAACvB,KAAKoB,MAAMD,gBAAS,EAApB,EAAsBI,OAAO,CAACF,KAAK,GAAG,CAAKG,kBAAc,OAAO,IAAIC,IAAEzB,KAAKU,OAAO,CAACgB,oBAAoB5B,EAAE6B,GAAG,MAAMC,EAAE5B,KAAKoB,MAAMS,6BAA6BC,EAAEH,EAAEI,kBAAkB,OAAOC,YAAEJ,IAAI,iBAAiBE,EAAE,IAAIG,UAAE,CAACC,WAAWN,EAAEO,QAAQL,IAAI,IAAI,CAAKM,oBAAgB,GAAG,MAAMpC,KAAKU,OAAO,IAAI,MAAMZ,KAAKE,KAAKU,OAAO,GAAG,QAAQZ,EAAEG,KAAK,OAAOH,EAAEuC,KAAK,OAAO,IAAI,CAAKC,mBAAe,OAAON,YAAEhC,KAAKW,iBAAiBX,KAAKW,gBAAgB2B,kBAAa,CAAM,CAAKC,aAAS,OAAOvC,KAAKoB,MAAMmB,MAAM,CAAKC,iBAAa,OAAOxC,KAAKoB,MAAMoB,UAAU,CAAKC,uBAAmB,OAAOzC,KAAKoB,MAAMqB,gBAAgB,CAAKC,cAAU,OAAO1C,KAAKoB,MAAMsB,OAAO,CAAKC,oBAAgB,OAAO3C,KAAKoB,MAAMuB,aAAa,CAAKC,eAAW,OAAO5C,KAAKoB,MAAMwB,QAAQ,CAAKC,eAAW,OAAO7C,KAAKoB,MAAMyB,QAAQ,CAAKC,0BAAsB,OAAO9C,KAAKoB,MAAM0B,mBAAmB,CAAKC,2BAAuB,OAAO/C,KAAKgD,qBAAqB,CAACC,KAAKnD,GAAG,MAAM6B,EAAEK,YAAElC,GAAGA,EAAEoD,OAAO,KAAKtB,EAAE5B,KAAKmD,cAAcxB,GAAGyB,MAAM,KAAKpD,KAAKM,UAAU+C,YAAErD,KAAKmB,UAAUE,KAAKrB,KAAKsD,SAAStD,KAAKE,UAAUF,KAAKuC,OAAOpD,EAAEwC,EAAE,IAAI,OAAO3B,KAAKuD,oBAAoB3B,GAAG4B,QAAQC,QAAQzD,KAAK,CAACgD,oBAAoBlD,GAAG,OAAO4D,YAAE1D,KAAKF,EAAE,CAAC6D,oBAAoB7D,GAAG,MAAM6B,SAASiC,kBAAE5D,KAAKmB,UAAUE,KAAK,CAACE,MAAM,CAACsC,EAAE,OAAOC,MAAM9D,KAAKuC,QAAQwB,aAAa,OAAOb,OAAOpD,KAAKkE,KAAKhE,KAAKiE,KAAKtC,EAAE,CAACuC,OAAO,UAAUC,IAAInE,KAAKmB,WAAW,CAACiD,SAAStE,GAAG,OAAOE,KAAKwB,YAAY6C,IAAIvE,EAAE,CAACwE,eAAexE,EAAE6B,GAAE,YAAC,MAAMC,EAAiC,OAAhC,EAAC5B,KAAKuE,eAAgB,MAAD5C,OAAC,EAADA,EAAG6C,WAAiB,OAAT,EAA/B,EAAiCC,cAAF,EAA/B,EAA2C3E,GAAG,OAAO8B,GAAG,cAAcA,EAAE3B,KAAK2B,EAA0B,OAAzB,EAAiB,OAAjB,EAAC5B,KAAKoE,SAAStE,SAAE,EAAhB,EAAkB4E,QAAM,EAAE,IAAI,CAACH,eAAezE,GAAG,OAAOA,GAAGkC,YAAEhC,KAAKW,iBAAiBX,KAAKW,gBAAgB4D,eAAezE,GAAG,IAAI,CAAK6E,YAAO,MAAC,OAAO3C,YAAEhC,KAAKW,kBAA2C,OAA3B,EAACX,KAAKW,gBAAgBgE,OAAK,EAAK,EAAE,CAAKC,kBAAc,OAAO5C,YAAEhC,KAAKW,iBAAiBX,KAAKW,gBAAgBiE,YAAY,IAAI,CAAKC,mBAAe,MAAM,cAAc7E,KAAKkB,UAAU,OAAO,OAAO,CAAK4D,cAAU,MAAM,cAAc9E,KAAKkB,UAAU,gBAAgB,QAAQ,CAAK6D,mBAAe,MAAMjF,EAAEkC,YAAEhC,KAAKW,kBAAkBX,KAAKW,gBAAgBoE,aAAa/E,KAAKW,gBAAgBoE,aAAaC,KAAGzD,MAAMI,EAAEqC,MAAMiB,UAAUrD,EAAEsD,UAAUpD,EAAEqD,YAAYvB,IAAI9D,EAAE,MAAM,CAACyB,MAAMI,EAAEqC,KAAK,CAACiB,UAAUrD,EAAEsD,UAAUpD,EAAEqD,YAAYvB,GAAG,CAACwB,cAAc,MAAMtF,EAAE,IAAIuF,IAAE,MAAM,SAASrF,KAAK6E,eAAe/E,EAAEwF,gBAAe,EAAGxF,EAAEyF,SAAQ,GAAIzF,EAAE0F,MAAMxF,KAAKe,sBAAsB,MAAMjB,EAAE2F,UAAU,WAAW3F,CAAC,CAAC4F,YAAY5F,EAAE6B,GAAG,OAAO3B,KAAK2F,8BAA8BvC,MAAMxB,GAAGA,EAAE8D,YAAY5F,GAAGE,KAAKoF,cAAczD,IAAI,CAACiE,kBAAkB9F,EAAE6B,GAAG,OAAO3B,KAAK2F,8BAA8BvC,MAAMxB,GAAGA,EAAEgE,kBAAkB9F,GAAGE,KAAKoF,cAAczD,IAAI,CAACkE,cAAc/F,EAAE6B,GAAG,OAAO3B,KAAK2F,8BAA8BvC,MAAMxB,GAAGA,EAAEiE,cAAc/F,GAAGE,KAAKoF,cAAczD,KAAKyB,MAAMtD,IAAI,GAAI,MAADA,KAAGgG,SAAS,IAAI,MAAMnE,KAAK7B,EAAEgG,SAASnE,EAAEP,MAAMpB,KAAKoB,MAAMO,EAAEoE,YAAY/F,KAAK,OAAOF,CAAC,GAAG,CAACkG,eAAelG,EAAE6B,GAAG,OAAO3B,KAAK2F,8BAA8BvC,MAAMxB,GAAGA,EAAEoE,eAAelG,GAAGE,KAAKoF,cAAczD,IAAI,CAACgC,4BAA4B7D,EAAE6B,GAAG,MAAMC,EAAEqE,YAAEjG,KAAKwB,kBAAkB0E,YAAElG,KAAKmG,YAAEnG,QAAQ,OAAOoG,YAAEpG,KAAKmB,UAAUE,KAAKrB,KAAKS,qBAAqBX,EAAE6B,EAAEC,EAAE,CAAC+B,yBAAyB7D,EAAE8B,GAAG,MAAME,QAAQ9B,KAAKqG,sBAAsBvG,EAAE,CAAC8B,IAAI,IAAIE,GAAG,IAAIA,EAAEwE,OAAO,MAAM,IAAIC,IAAE,wCAAwC,oCAAoC,MAAM3C,EAAE,IAAIjC,IAAE,OAAOiC,EAAE4C,WAAW1E,EAAE,GAAG8B,EAAExC,MAAMpB,KAAK4D,EAAEmC,YAAY/F,KAAK4D,CAAC,CAAC6C,kBAAkB3G,GAAG,OAAOE,KAAKwB,YAAYkF,IAAI5G,GAAG,CAAC6G,sBAAqB,EAAGC,kBAAiB,EAAGC,uBAAsB,EAAGC,oBAAmB,GAAI,CAACH,sBAAqB,EAAGC,kBAAiB,EAAGC,uBAAsB,EAAGC,mBAAmB9E,YAAEhC,KAAKW,iBAAiB,CAACgF,8BAA8B,MAAM7F,EAAEE,KAAKW,gBAAgB,OAAOqB,YAAElC,IAAIA,EAAEiH,OAAOvD,QAAQC,QAAQ3D,GAAGE,KAAKgH,8BAA8B,CAACrD,qCAAqC,SAAS3D,KAAKiD,OAAOgE,YAAEjH,KAAKW,iBAAiB,MAAM,IAAI4F,IAAE,yCAAyC,mGAAmG,CAACnF,MAAMpB,OAAO,UAAUA,KAAKW,gBAAgBsC,MAA4J,CAArJ,MAAMnD,GAAG,MAAM,IAAIyG,IAAE,yCAAyC,kEAAkE,CAACnF,MAAMpB,KAAKkH,MAAMpH,GAAG,CAAC,OAAOE,KAAKW,eAAe,GAAGb,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,YAAY,MAAMvH,YAAE,CAACqH,YAAE,CAAClH,KAAKqH,IAAEF,UAAS,KAAM5H,EAAE6H,UAAU,iBAAY,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAACsH,KAAGH,UAAS,KAAM5H,EAAE6H,UAAU,2BAAsB,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAACuH,KAAGJ,UAAS,KAAM5H,EAAE6H,UAAU,6BAAwB,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAACwH,KAAGL,UAAS,KAAM5H,EAAE6H,UAAU,2BAAsB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,8BAAyB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,aAAQ,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAKyH,OAAON,UAAS,EAAGO,KAAK,CAAC1D,KAAK,CAAC2D,OAAO,sBAAsBpI,EAAE6H,UAAU,gBAAW,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,4BAAuB,GAAQvH,YAAE,CAACqH,YAAE7H,EAAEoB,SAASlB,EAAE6H,UAAU,cAAS,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,cAAc,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAKgC,aAAKzC,EAAE6H,UAAU,uBAAkB,GAAQvH,YAAE,CAAC+H,YAAE,UAAU,kBAAkB,CAAC,uBAAuBrI,EAAE6H,UAAU,sBAAsB,MAAMvH,YAAE,CAACqH,YAAE7H,EAAEsB,YAAYpB,EAAE6H,UAAU,iBAAY,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAKyH,OAAON,UAAS,KAAM5H,EAAE6H,UAAU,gBAAgB,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAKyH,OAAOC,KAAK,CAAC1D,MAAK,MAAOzE,EAAE6H,UAAU,eAAe,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAKyH,UAAUlI,EAAE6H,UAAU,SAAS,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK4D,OAAKrE,EAAE6H,UAAU,aAAa,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK6H,OAAKtI,EAAE6H,UAAU,mBAAmB,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM5H,EAAE6H,UAAU,UAAU,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK8H,OAAKvI,EAAE6H,UAAU,gBAAgB,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK+H,UAAUxI,EAAE6H,UAAU,WAAW,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK+H,UAAUxI,EAAE6H,UAAU,WAAW,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAK+H,UAAUxI,EAAE6H,UAAU,sBAAsB,MAAMvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAAC,OAAO,QAAQ0H,KAAK,CAACM,OAAM,MAAOzI,EAAE6H,UAAU,gBAAW,GAAQvH,YAAE,CAACqH,YAAE,CAACxC,MAAM7C,IAAE6F,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAAClE,KAAK,CAAC2D,OAAO,0BAA0BvF,KAAK,uCAAuC4F,OAAM,GAAIG,MAAM,QAAQ5I,EAAE6H,UAAU,gBAAW,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAKyH,OAAOC,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAAClE,MAAK,EAAGgE,OAAM,IAAK5F,KAAK,uCAAuC4F,MAAM,CAACI,SAAQ,EAAGC,WAAU,OAAQ9I,EAAE6H,UAAU,4BAAuB,GAAQvH,YAAE,CAACqH,YAAEoB,MAAI/I,EAAE6H,UAAU,oBAAe,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAK2B,IAAE+F,KAAK,CAAC1D,KAAK,CAAC2D,OAAO,aAAaK,MAAM,CAACO,OAAO,iBAAiBhJ,EAAE6H,UAAU,qBAAgB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAKyH,OAAOC,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAAClE,KAAK,CAAC2D,OAAO,gCAAgC3D,MAAK,MAAOzE,EAAE6H,UAAU,4BAAuB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGO,KAAK,CAAC1D,MAAK,MAAOzE,EAAE6H,UAAU,uBAAuB,MAAMvH,YAAE,CAACqH,eAAK3H,EAAE6H,UAAU,QAAQ,MAAMvH,YAAE,CAACqH,eAAK3H,EAAE6H,UAAU,cAAc,MAAMvH,YAAE,CAACqH,YAAE,CAACQ,KAAK,CAACM,OAAM,KAAMQ,YAAE,IAAIC,IAAE,CAAC,WAAW,YAAYC,MAAM,YAAYnJ,EAAE6H,UAAU,iBAAY,GAAQvH,YAAE,CAACqH,eAAK3H,EAAE6H,UAAU,eAAe,MAAMvH,YAAE,CAACqH,eAAK3H,EAAE6H,UAAU,UAAU,MAAMvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGO,KAAK,CAAC1D,MAAK,MAAOzE,EAAE6H,UAAU,eAAe,MAAM7H,EAAEM,YAAE,CAAC8I,YAAE1J,IAAIM,GAAG,MAAMqJ,EAAErJ,C,oCCJ1pT,+GAImkB,IAAIwC,EAAE,cAAcL,YAAEG,MAAIjC,YAAYC,GAAGC,MAAMD,GAAGE,KAAK8I,MAAM,GAAG9I,KAAKsB,IAAI,EAAEtB,KAAK+I,UAAU,KAAK/I,KAAKgJ,QAAQ,KAAKhJ,KAAKiJ,SAAQ,EAAGjJ,KAAKkJ,QAAQ,CAAC,CAACC,UAAUrJ,EAAE6B,GAAG,MAAM,iBAAiBA,EAAEyH,MAAMzH,EAAEyH,MAAM,iBAAiBzH,EAAEU,KAAKV,EAAEU,KAAK,EAAE,CAACgH,eAAevJ,GAAG,OAAO,IAAIE,KAAKsB,GAAGtB,KAAKsB,GAAG,iBAAiBxB,EAAEA,GAAG,CAAC,GAAGA,YAAE,CAAC8B,YAAE,CAAC3B,KAAKyH,OAAOC,KAAK,CAACO,QAAQ,CAAC,YAAY,CAACD,OAAM,GAAI,cAAc,CAACA,OAAM,QAASjG,EAAEqF,UAAU,aAAQ,GAAQvH,YAAE,CAAC8D,YAAE,UAAU,QAAQ,CAAC,QAAQ,UAAU5B,EAAEqF,UAAU,YAAY,MAAMvH,YAAE,CAAC8B,eAAKI,EAAEqF,UAAU,aAAQ,GAAQvH,YAAE,CAAC8B,YAAE,CAAC3B,KAAKsG,IAAEa,UAAS,EAAGO,KAAK,CAAC1D,MAAK,EAAGgE,MAAM,CAACqB,cAAa,OAAQtH,EAAEqF,UAAU,UAAK,GAAQvH,YAAE,CAAC8D,YAAE,UAAU,OAAO5B,EAAEqF,UAAU,iBAAiB,MAAMvH,YAAE,CAAC8B,YAAE8G,YAAEhB,UAAU1F,EAAEqF,UAAU,iBAAY,GAAQvH,YAAE,CAAC8B,YAAE8G,YAAEa,WAAWvH,EAAEqF,UAAU,eAAU,GAAQvH,YAAE,CAAC8B,YAAE,CAAC3B,KAAKsJ,QAAQ5B,KAAK,CAACtF,KAAK,aAAa4F,OAAM,MAAOjG,EAAEqF,UAAU,eAAU,GAAQvH,YAAE,CAAC8B,YAAE,CAAC3B,KAAK+H,OAAOL,KAAK,CAACM,OAAM,MAAOjG,EAAEqF,UAAU,eAAU,GAAQrF,EAAElC,YAAE,CAACV,YAAE,mDAAmD4C,GAAG,MAAMvC,EAAEuC,C,oCCJpiD,sCAIsf0G,EAJtf,kFAIwf,MAAM1G,EAAE,CAAC/B,KAAKH,IAAEsH,UAAS,EAAGO,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAAClE,KAAK,CAAC2D,OAAO,YAAY4B,OAAOpK,KAAK6E,MAAK,IAAK,SAAS7E,EAAEuC,EAAEG,EAAEF,GAAG,GAAGD,GAAG8H,MAAMC,QAAQ/H,GAAG,OAAO,IAAI7B,IAAE6B,EAAEgI,KAAKhI,IAAI,MAAM7B,EAA+d,SAAW6B,GAAG,MAAM,UAAUA,EAAET,UAAUuH,EAAEhJ,GAAC,CAA1gBE,CAAEgC,GAAG,GAAG7B,EAAE,CAAC,MAAMgC,EAAE,IAAIhC,EAAE,OAAOgC,EAAEmC,KAAKtC,EAAEC,GAAGE,CAAC,CAAC,OAAOF,GAAGA,EAAEgI,UAAUjI,GAAGC,EAAEgI,SAASC,KAAK,IAAIjG,IAAE,iDAAiD,qCAAqCjC,EAAE1B,MAAM,WAAW,sBAAsB,CAAC6J,WAAWnI,EAAEoI,QAAQnI,KAAK,IAAI,IAAI,CAAC,IAAI6G,EAAEC,EAAE,cAAcvB,IAAEtH,YAAY8B,GAAG5B,MAAM4B,GAAG3B,KAAKC,KAAK,iBAAiBD,KAAKa,SAAS,OAAOb,KAAKgK,UAAU,IAAI,CAACC,UAAU,OAAOnI,YAAE9B,MAAM2B,GAAG+G,EAAEwB,gBAAgBlK,KAAKgK,WAAWlK,IAAI,mBAAmBA,EAAEG,MAAM0B,EAAE7B,EAAE,KAAK,GAA2P,IAAS6B,EAAnNA,YAAE,CAACC,YAAE,CAAC3B,KAAK,CAAC,OAAO,OAAO,iBAAiB0H,KAAK,CAACM,OAAM,MAAOQ,EAAEpB,UAAU,gBAAW,GAAQ1F,YAAE,CAACC,YAAEI,IAAIyG,EAAEpB,UAAU,iBAAY,GAAQoB,EAAEC,EAAE/G,YAAE,CAAC4E,YAAE,wDAAwDkC,IAAY9G,EAAmJ8G,IAAIA,EAAE,CAAC,IAAlE0B,kBAAkBnI,EAAEL,EAAEyI,cAAchL,EAAEuC,EAAEuI,gBAA7H,SAASpK,EAAE6B,EAAEG,GAAGH,EAAE0I,SAAS1I,IAAIG,EAAEH,GAAG,mBAAmBA,EAAE1B,MAAMH,EAAE6B,EAAEqI,UAAUlI,EAAE,GAAG,EAAyE,MAAMmF,EAAEwB,C,mUCAttC,IAAI3I,EAAE,cAAcgC,IAAEjC,cAAcE,SAASuK,WAAWtK,KAAKC,KAAK,IAAI,GAAG0B,YAAE,CAACiC,YAAE,CAAC3D,KAAKyH,OAAON,UAAS,EAAGO,KAAK,CAACM,OAAM,MAAOnI,EAAEuH,UAAU,YAAO,GAAQvH,EAAE6B,YAAE,CAACC,YAAE,oDAAoD9B,GAAG,MAAMV,EAAEU,ECAjN,IAAIV,EAAE,IAAImH,EAAEnH,EAAE,cAAcU,IAAED,cAAcE,SAASuK,WAAWtK,KAAKuK,WAAW,KAAKvK,KAAKwK,aAAa,IAAI,CAACC,QAAQ,OAAO,IAAIrL,EAAE,CAACmL,WAAWvK,KAAKuK,WAAWC,aAAa5I,YAAE5B,KAAKwK,eAAe,GAAG7I,YAAE,CAACG,YAAE,CAAC7B,KAAKyH,OAAOC,KAAK,CAACM,OAAM,MAAO1B,EAAEc,UAAU,kBAAa,GAAQ1F,YAAE,CAACG,YAAE,CAAC7B,KAAK,CAACyH,QAAQC,KAAK,CAACM,OAAM,MAAO1B,EAAEc,UAAU,oBAAe,GAAQd,EAAEnH,EAAEuC,YAAE,CAACiC,YAAE,wDAAwD2C,GAAG,MAAMvE,EAAEuE,ECAnU,IAAIkC,EAAE,MAAMzG,EAAEF,IAAE4I,OAAOnE,GAAG,IAAI9G,EAAEgJ,EAAE,cAAc3I,IAAE2K,QAAQ,OAAO,IAAIhC,EAAE,CAACkC,YAAY/G,YAAE5D,KAAK2K,cAAc,GAAGhJ,YAAE,CAACC,YAAE,CAAC3B,KAAK+B,EAAE2F,KAAK,CAACM,OAAM,MAAOxI,EAAE4H,UAAU,mBAAc,GAAQ5H,EAAEgJ,EAAE9G,YAAE,CAACvC,YAAE,yDAAyDK,GAAG,MAAMoI,EAAEpI,ECAlQ,IAAIL,EAAE,MAAM4C,EAAEL,IAAE+I,OAAOnE,GAAG,IAAI9G,EAAEL,EAAE,cAAcqJ,EAAE5I,cAAcE,SAASuK,WAAWtK,KAAKC,KAAK,UAAU,CAACwK,QAAQ,OAAO,IAAIrL,EAAE,CAACwL,aAAahJ,YAAE5B,KAAK4K,eAAe,GAAG9I,YAAE,CAAChC,YAAE,CAACG,KAAK,CAAC,eAAeR,EAAE4H,UAAU,YAAO,GAAQvF,YAAE,CAAChC,YAAE,CAACG,KAAK+B,EAAE2F,KAAK,CAACM,OAAM,MAAOxI,EAAE4H,UAAU,oBAAe,GAAQ5H,EAAEL,EAAE0C,YAAE,CAAC8B,YAAE,4DAA4DnE,GAAG,MAAM0H,EAAE1H,ECA7c,IAAImC,EAAE,cAAcE,MAAIH,YAAE,CAACiC,YAAE,CAACwD,UAAS,EAAGO,KAAK,CAAC1D,MAAK,MAAOrC,EAAEyF,UAAU,YAAO,GAAQzF,EAAED,YAAE,CAAC7B,YAAE,2CAA2C8B,GAAG,MAAMxC,EAAEwC,ECArK,IAAIA,EAAE,IAAIxC,EAAEwC,EAAE,cAAc9B,EAAED,cAAcE,SAASuK,WAAWtK,KAAKC,KAAK,OAAO,CAACwK,QAAQ,OAAO,IAAI7I,CAAC,GAAGD,YAAE,CAACG,YAAE,CAAC7B,KAAK,CAAC,SAASmH,UAAS,EAAGO,KAAK,CAACM,OAAM,MAAO7I,EAAEiI,UAAU,YAAO,GAAQjI,EAAEwC,EAAED,YAAE,CAACiC,YAAE,gDAAgDxE,GAAG,MAAMmH,EAAEnH,E,ICAtFqJ,E,iBAAE,IAAIZ,EAAEY,EAAE,cAAcrJ,EAAES,cAAcE,SAASuK,WAAWtK,KAAKC,KAAK,aAAaD,KAAK6K,MAAM,IAAI,CAACJ,QAAQ,OAAO,IAAIhC,EAAE,CAACoC,MAAM/K,YAAEE,KAAK6K,QAAQ,GAAGlJ,YAAE,CAACiC,YAAE,CAACkH,UAAU,gBAAgBjD,EAAER,UAAU,YAAO,GAAQ1F,YAAE,CAACG,YAAEyE,MAAIsB,EAAER,UAAU,aAAQ,GAAQQ,EAAEY,EAAE9G,YAAE,CAACC,YAAE,oDAAoDiG,GAAG,MAAMa,EAAEb,ECA/d,IAAIjG,EAAE,IAAIxC,EAAEwC,EAAE,cAAcgC,EAAE/D,cAAcE,SAASuK,WAAWtK,KAAKC,KAAK,OAAO,CAACwK,QAAQ,OAAO,IAAI7I,CAAC,GAAGD,YAAE,CAACG,YAAE,CAAC7B,KAAK,CAAC,SAASmH,UAAS,EAAGO,KAAK,CAACM,OAAM,MAAO7I,EAAEiI,UAAU,YAAO,GAAQjI,EAAEwC,EAAED,YAAE,CAAC7B,YAAE,+CAA+CV,GAAG,MAAMqJ,GAAErJ,ECAlD,IAAI6H,GAAE,MAAMyB,GAAE,CAACqC,aAAY,EAAGpG,MAAM,CAACqG,IAAI,OAAOC,KAAKrH,EAAEsH,QAAQ,CAACC,MAAMnJ,EAAE,aAAa5C,EAAE,QAAQK,KAAIkI,KAAK,CAAC1D,KAAKnE,IAAI,OAAOA,GAAGA,EAAEG,MAAM,IAAI,QAAQ,OAAO+B,EAAEoJ,SAAStL,GAAG,IAAI,YAAY,OAAOV,EAAEgM,SAAStL,GAAG,IAAI,QAAQ,OAAOL,GAAE2L,SAAStL,GAAG,QAAQ,OAAM,EAAGmI,MAAM,CAACI,SAAQ,EAAGgD,YAAW,KAAM,IAAIlE,GAAEF,GAAE,cAActF,IAAE9B,cAAcE,SAASuK,WAAWtK,KAAKsL,iBAAiB,KAAKtL,KAAKuL,WAAW,IAAIvJ,EAAEhC,KAAK8I,MAAM,EAAE,CAAC2B,QAAQ,OAAO,IAAIxD,GAAE,CAACqE,iBAAiBtL,KAAKsL,iBAAiBC,WAAW3J,YAAE5B,KAAKuL,YAAYzC,MAAM9I,KAAK8I,OAAO,GAAGhJ,YAAE,CAACgC,YAAE,CAAC7B,KAAKyH,OAAOC,KAAK,CAACM,MAAM,CAACI,SAAQ,EAAGgD,YAAW,OAAQlE,GAAEE,UAAU,wBAAmB,GAAQvH,YAAE,CAACgC,YAAE4G,KAAIvB,GAAEE,UAAU,kBAAa,GAAQvH,YAAE,CAACgC,YAAE,CAAC7B,KAAKyH,OAAOC,KAAK,CAACM,MAAM,CAACI,SAAQ,EAAGgD,YAAW,OAAQlE,GAAEE,UAAU,aAAQ,GAAQF,GAAEF,GAAEnH,YAAE,CAACyG,YAAE,4CAA4CY,IAAG,MAAMsB,GAAEtB,GCAnvB,IAAIA,GAAE,MAAMF,GAAEtF,IAAE+I,OAAOjC,IAAG,IAAIZ,GAAEV,GAAE,cAAcvF,IAAE/B,cAAcE,SAASuK,WAAWtK,KAAKwL,YAAY,KAAKxL,KAAK4K,aAAa,KAAK5K,KAAKsB,GAAGiF,cAAIvG,KAAKqC,KAAK,IAAI,CAACoI,QAAQ,OAAO,IAAItD,GAAE,CAACqE,YAAYxL,KAAKwL,YAAYZ,aAAa9K,YAAEE,KAAK4K,cAActJ,GAAGtB,KAAKsB,GAAGe,KAAKrC,KAAKqC,KAAKoJ,oBAAoB3L,YAAEE,KAAKyL,sBAAsB,GAAG3J,YAAE,CAAC8B,YAAE,CAAC3D,KAAKyH,OAAOC,KAAK,CAACM,OAAM,MAAOJ,GAAER,UAAU,mBAAc,GAAQvF,YAAE,CAAC8B,YAAE,CAAC3D,KAAKgH,GAAEU,KAAK,CAACM,MAAM,CAACI,SAAQ,EAAGgD,YAAW,OAAQxD,GAAER,UAAU,oBAAe,GAAQvF,YAAE,CAAC8B,YAAE,CAACe,MAAM,CAACqG,IAAI,OAAOC,KAAK7L,EAAE8L,QAAQ,CAACQ,SAAS1J,IAAI2F,KAAK,CAAC1D,KAAKnC,GAAG,cAAcA,GAAGA,EAAE7B,MAAM+B,EAAEoJ,SAAStJ,GAAG,KAAKmG,OAAM,MAAOJ,GAAER,UAAU,2BAAsB,GAAQvF,YAAE,CAAC8B,YAAE,CAAC3D,KAAKyH,OAAOiE,eAAc,EAAGhE,KAAK,CAACM,MAAM,CAACI,SAAQ,EAAGgD,YAAW,OAAQxD,GAAER,UAAU,UAAK,GAAQvF,YAAE,CAAC8B,YAAE,CAAC3D,KAAKyH,OAAOC,KAAK,CAACM,MAAM,CAACI,SAAQ,EAAGgD,YAAW,OAAQxD,GAAER,UAAU,YAAO,GAAQQ,GAAEV,GAAErF,YAAE,CAACrC,YAAE,uCAAuCoI,IAAG,MAAMhE,GAAEgE,G,kCCAr6B,IAAIpI,GAAE,cAAcmC,IAAE/B,cAAcE,SAASuK,WAAWtK,KAAK4L,UAAU,KAAK5L,KAAK+I,UAAU,KAAK/I,KAAK6L,MAAM,KAAK7L,KAAK8L,IAAI,KAAK9L,KAAK+L,IAAI,KAAK/L,KAAKgM,mBAAmB,KAAKhM,KAAKiM,YAAY,IAAI,GAAGnM,YAAE,CAAC4I,YAAE,CAACzI,KAAKyH,UAAUjI,GAAE4H,UAAU,iBAAY,GAAQvH,YAAE,CAAC4I,YAAE,CAACzI,KAAKyH,UAAUjI,GAAE4H,UAAU,iBAAY,GAAQvH,YAAE,CAAC4I,YAAE,CAACzI,KAAKyH,UAAUjI,GAAE4H,UAAU,aAAQ,GAAQvH,YAAE,CAAC4I,YAAE,CAACzI,KAAK+H,UAAUvI,GAAE4H,UAAU,WAAM,GAAQvH,YAAE,CAAC4I,YAAE,CAACzI,KAAK+H,UAAUvI,GAAE4H,UAAU,WAAM,GAAQvH,YAAE,CAAC4I,YAAE,CAACf,KAAK,CAAC1D,KAAKnE,GAAG2J,MAAMC,QAAQ5J,KAAKA,EAAEoM,OAAOpM,GAAG,iBAAiBA,KAAKA,EAAEoM,OAAOpM,GAAG,iBAAiBA,KAAKA,EAAEqM,QAAQ,SAAS1M,GAAE4H,UAAU,0BAAqB,GAAQvH,YAAE,CAAC4I,YAAE,CAACzI,KAAK,CAAC+H,WAAWvI,GAAE4H,UAAU,mBAAc,GAAQ5H,GAAEK,YAAE,CAACV,YAAE,gDAAgDK,IAAG,IAAI0H,GAAE,cAAcvD,KAAElE,cAAcsC,aAAEJ,OAAK/B,cAAcE,SAASuK,WAAWtK,KAAKmE,IAAI,IAAI,CAAKzD,aAAS,OAAOV,KAAK+G,QAAQ,YAAY/G,KAAKoM,WAAWpM,KAAKqM,KAAK,WAAWvK,IAAEzC,UAAUW,KAAKsM,eAAepF,MAAM,8CAA8C,KAAK,CAACjE,KAAKnD,GAAG,MAAM6B,EAAE4E,YAAEzG,GAAGA,EAAEoD,OAAO,KAAK,OAAOlD,KAAKuD,oBAAoBvD,KAAKmD,cAAcxB,IAAI6B,QAAQC,QAAQzD,KAAK,CAAC2D,oBAAoB7D,GAAG,MAAM8B,SAASD,mBAAE3B,KAAKmE,IAAI,CAAC5C,MAAM,CAACsC,EAAE,QAAQE,aAAa,OAAOb,OAAOpD,KAAKkE,KAAKhE,KAAKiE,KAAKrC,EAAE,CAACsC,OAAO,WAAW,GAAGpE,YAAE,CAAC4I,YAAE,CAACiD,eAAc,EAAG1L,KAAKyH,UAAUP,GAAEE,UAAU,WAAM,GAAQvH,YAAE,CAAC4I,YAAE,CAACtB,UAAS,EAAGnH,KAAK,CAACR,IAAGkI,KAAK,CAAC1D,KAAK,CAAC2D,OAAO,eAAeT,GAAEE,UAAU,SAAS,MAAMF,GAAErH,YAAE,CAACV,YAAE,kDAAkD+H,IAAG,MAAMU,GAAEV,G,yBCAhY,MAAMlB,GAAEtE,IAAE+I,OAAOvL,IAAGoN,GAAEhG,YAAE1C,IAAEsG,mBAAmBoC,GAAE5E,KAAKO,QAAQ,aAAa,CAACjI,KAAK,CAAC+E,KAAGiD,MAAM,CAACI,SAAQ,EAAGmE,eAAe,MAAMnE,SAAQ,MAAOkE,GAAE5E,KAAKO,QAAQ,eAAe,CAACjI,KAAK,CAAC+E,KAAGiD,MAAM,CAACI,SAAQ,EAAGmE,eAAe,MAAMnE,SAAQ,MAAO,IAAI3E,GAAE,cAAc6D,YAAEO,YAAEvI,YAAE0C,YAAEoB,YAAE5D,YAAEG,YAAEgJ,YAAU/I,YAAYC,GAAGC,MAAMD,GAAGE,KAAKyM,qBAAqB,qBAAqBzM,KAAK0M,aAAa,IAAI9K,IAAE,CAAC+K,eAAe,IAAI,CAAC3M,KAAKgK,WAAW4C,oBAAoB9M,GAAG,mBAAmBA,EAAEG,KAAKH,EAAEkK,UAAU,OAAOhK,KAAKgK,UAAU,KAAKhK,KAAK6M,mBAAmB,KAAK7M,KAAK8M,QAAQ,IAAI7G,GAAEjG,KAAK+M,eAAe,KAAK/M,KAAKgN,kBAAkB,KAAKhN,KAAKY,UAAU,KAAKZ,KAAKC,KAAK,gBAAgB,CAACgN,kBAAkBnN,GAAG,MAAM,iBAAiBA,EAAE,CAACqE,IAAIrE,GAAI,MAADA,IAAG,CAAC,CAAC,CAACoN,UAAUlN,KAAK0M,aAAaQ,SAAS,CAAC9C,cAActK,EAAE6B,EAAEC,GAAG,MAAMgC,EAAEC,IAAEuG,cAActK,EAAE6B,EAAEC,GAAG,OAAOiC,IAAEqG,gBAAgBtG,GAAG9D,GAAGA,EAAEsB,MAAMpB,OAAOA,KAAK6M,qBAAqB7M,KAAKmN,uBAAuBvJ,EAAE5D,KAAK6M,oBAAoB7M,KAAK6M,mBAAmB,MAAMjJ,CAAC,CAACuJ,uBAAuBrN,GAAGsN,UAAUzL,EAAEoI,QAAQnI,IAAIiC,IAAEqG,gBAAgBpK,GAAGA,GAAGA,EAAEmE,KAAKtC,EAAE0C,IAAIvE,EAAEwB,IAAIM,IAAI,CAACyL,sBAAsBvN,EAAE6B,GAAG,MAAMC,EAAE,IAAI0L,IAAI,IAAI,MAAM/G,KAAKzG,EAAC,OAAC,MAAMyG,GAAG,iBAAiBA,GAAG,iBAAiBA,EAAEjF,GAAGM,EAAE2L,IAAIhH,EAAEjF,GAAGiF,GAAa,OAAX,EAAC5E,EAAEiI,WAAF,EAAYC,KAAK,IAAIjG,IAAE,iDAAiD,yEAAyE,CAACwE,MAAM7B,IAAK,OAAM,CAAC6G,UAAUxL,EAAEmI,QAAQpI,EAAE,CAAC6L,uBAAuB1N,EAAE6B,EAAEC,GAAG,MAAMgC,EAAE,GAAGC,IAAEqG,gBAAgBlK,KAAKgK,WAAWlK,IAAI,MAAM6B,EAAE7B,EAAEmI,MAAM,CAAC,EAAErG,GAAG6L,OAAOC,KAAK/L,GAAG2E,OAAO,GAAG1C,EAAEiG,KAAKlI,EAAE,IAAIiC,EAAE0C,OAAO,IAAI3E,EAAEqI,UAAUpG,EAAE,CAAC+J,wBAAwB7N,EAAE6B,GAAGA,EAAEqI,UAAU,GAAGlK,EAAEsN,UAAU/C,SAASvK,IAAI6B,EAAEqI,UAAUH,KAAKtD,YAAEzG,GAAG,GAAG,CAACmI,MAAMnI,EAAE6B,GAAG,OAAO7B,EAAEC,MAAMkI,MAAMnI,EAAE6B,IAAIA,GAAG,cAAcA,EAAEuC,QAAQ,gBAAgBvC,EAAEuC,SAASlE,KAAKgK,UAAUhK,KAAKwN,uBAAuBxN,KAAKgK,UAAUlK,EAAE6B,GAAG3B,KAAK6M,oBAAoB7M,KAAK2N,wBAAwB3N,KAAK6M,mBAAmB/M,IAAIA,CAAC,CAACmE,KAAKnE,EAAE6B,GAAG,GAAG5B,MAAMkE,KAAKnE,EAAE6B,GAAGA,IAAI,cAAcA,EAAEuC,QAAQ,gBAAgBvC,EAAEuC,SAAS,MAAMpE,GAAG2J,MAAMC,QAAQ5J,EAAEkK,WAAW,CAAC,MAAMpI,EAAE5B,KAAKqN,sBAAsBvN,EAAEkK,UAAUrI,GAAG3B,KAAKgK,UAAUhK,KAAKmN,uBAAuBnN,KAAKgK,UAAUpI,GAAG5B,KAAK6M,mBAAmBjL,CAAC,CAAC,CAACgM,sBAAsB9N,EAAE6B,GAAG,GAAG,iBAAiBA,EAAEkM,eAAe,OAAC,MAAM/N,EAAEH,YAAgB,OAAf,EAACK,KAAKmB,gBAAS,EAAd,EAAgBE,KAAKM,EAAEkM,gBAAgB,OAAO,IAAItF,GAAE,CAACpE,IAAIrE,GAAG,CAAC,OAAO,IAAI,CAAK6C,kBAAc7C,GAAGE,KAAK8N,KAAK,gBAAgBhO,GAAGE,KAAK+N,wBAAwB,CAAC9K,KAAKnD,GAAG,MAAM6B,EAAEK,YAAElC,GAAGA,EAAEoD,OAAO,KAAKtB,EAAE5B,KAAKgO,eAAe,CAACC,eAAe,CAAC,kBAAkBnO,GAAGoO,MAAM9O,KAAGgE,MAAM,IAAIpD,KAAKmD,cAAcxB,KAAKyB,MAAM,IAAIpD,KAAKmO,+BAA+BxM,KAAK,OAAO3B,KAAKuD,oBAAoB3B,GAAG4B,QAAQC,QAAQzD,KAAK,CAACiK,UAAU,OAAOnI,YAAE9B,MAAMF,IAAI+D,IAAEqG,gBAAgBlK,KAAKgK,WAAWrI,IAAI,mBAAmBA,EAAE1B,MAAMH,EAAE6B,EAAE,IAAI3B,KAAKgN,mBAAmBlN,EAAEE,KAAKgN,kBAAkB,GAAG,CAACrJ,aAAa7D,EAAE6B,GAAG,OAAO3B,KAAKoO,yBAAyB3M,IAAE4M,QAAQ,IAAI1M,EAAE2M,gBAAgB,IAAItO,KAAKuO,mBAAmBC,oBAAoB,kBAAkB1O,EAAE,CAAC6D,aAAa,MAAM7D,EAAE,CAACwO,gBAAgB,IAAItO,KAAKuO,mBAAmBC,oBAAoB,kBAAkB,OAAOxO,KAAKoO,yBAAyB3M,IAAEgN,KAAK3O,EAAE,CAAC4O,cAAc5O,GAAG,IAAIA,EAAEoB,WAAW,aAAapB,EAAEoB,UAAU,MAAM,IAAI0C,IAAE,8CAA8C,sDAAsD,CAAC1C,UAAUpB,EAAEoB,WAAW,CAACqN,mBAAmB,MAAM,CAAC,WAAW,CAACR,yBAAyB,MAAMjO,EAAEE,KAAK2C,cAAc7C,IAAI,oBAAoBA,EAAE6O,MAAMjG,IAAErJ,UAAUW,KAAKsM,eAAesC,KAAK,kBAAkB,qEAAqE9O,EAAE+O,uBAAuB,MAAM/O,EAAE+O,sBAAsBC,YAAYpG,IAAErJ,UAAUW,KAAKsM,eAAesC,KAAK,kBAAkB,8DAA8D,CAACjL,qCAAqC7D,GAAG,MAAM6B,EAAE,IAAIwE,KAAEnG,KAAKmB,UAAUnB,KAAKkC,WAAWlC,KAAKuC,OAAOzC,GAAG,IAAIE,KAAK6B,mCAAmCF,EAAEoN,iBAAwH,CAAtG,MAAMnN,GAAG8G,IAAErJ,UAAUW,KAAKsM,eAAesC,KAAK,sDAAsDhN,EAAE,CAAC,GAAG9B,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAAC,yBAAyByD,GAAE2D,UAAU,4BAAuB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,KAAM1D,GAAE2D,UAAU,oBAAe,GAAQvH,YAAE,CAACqH,YAAEoF,KAAI7I,GAAE2D,UAAU,iBAAY,GAAQvH,YAAE,CAACmH,YAAE,UAAU,cAAcvD,GAAE2D,UAAU,gBAAgB,MAAMvH,YAAE,CAACqH,YAAE,CAAClH,KAAKgG,GAAE8E,aAAY,EAAGpD,KAAK,CAACM,OAAM,MAAOvE,GAAE2D,UAAU,eAAU,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAKyH,OAAOC,KAAK,CAACM,OAAM,MAAOvE,GAAE2D,UAAU,sBAAiB,GAAQvH,YAAE,CAACqH,YAAE,CAACC,UAAS,EAAGnH,KAAKsI,MAAK7E,GAAE2D,UAAU,yBAAoB,GAAQvH,YAAE,CAACmH,YAAE,oBAAoB,CAAC,oBAAoBvD,GAAE2D,UAAU,wBAAwB,MAAMvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAACyH,QAAQC,KAAK,CAAC1D,MAAK,MAAOP,GAAE2D,UAAU,iBAAY,GAAQvH,YAAE,CAACqH,YAAEG,OAAI5D,GAAE2D,UAAU,kBAAa,GAAQvH,YAAE,CAACqH,YAAE,CAAClH,KAAK,CAAC,OAAO,OAAO,oBAAoByD,GAAE2D,UAAU,gBAAW,GAAQvH,YAAE,CAACqH,YAAEK,aAAEK,OAAKnE,GAAE2D,UAAU,wBAAmB,GAAQvH,YAAE,CAACqH,YAAEjI,OAAIwE,GAAE2D,UAAU,gBAAgB,MAAMvH,YAAE,CAACqH,YAAE,CAACQ,KAAK,CAAC1D,MAAK,GAAImD,UAAS,KAAM1D,GAAE2D,UAAU,YAAO,GAAQvH,YAAE,CAACqH,eAAKzD,GAAE2D,UAAU,oCAA+B,GAAQ3D,GAAE5D,YAAE,CAAC2I,YAAE,mCAAmC/E,IAAG,MAAMpE,GAAEoE,E","file":"static/js/90.284096fe.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../Graphic.js\";import t from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as o}from\"../../renderers/support/types.js\";import s from\"../../request.js\";import i from\"../../core/Error.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import n from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{isSome as l,isNone as d}from\"../../core/maybe.js\";import{EsriPromiseMixin as y}from\"../../core/Promise.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as c}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as m}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import f from\"../../geometry/Extent.js\";import g from\"../../geometry/SpatialReference.js\";import j from\"../FeatureLayer.js\";import v from\"./BuildingSublayer.js\";import{zeroCapabilities as b}from\"../support/capabilities.js\";import{popupEnabled as L}from\"../support/commonProperties.js\";import{defineFieldProperties as S}from\"../support/fieldProperties.js\";import I from\"../support/FieldsIndex.js\";import{unpackFieldNames as F}from\"../support/fieldUtils.js\";import{fetchIndexInfo as w}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as x,I3SMaterialDefinition as O,I3STextureSetDefinition as T,I3SGeometryDefinition as q}from\"../support/I3SLayerDefinitions.js\";import R from\"../../rest/support/Query.js\";import{createPopupTemplate as P}from\"../../support/popupUtils.js\";import U from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as D}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as Q,getFetchPopupTemplate as E}from\"../../views/layers/support/popupUtils.js\";const A=\"esri.layers.buildingSublayers.BuildingComponentSublayer\",_=p.getLogger(A),C=S();let N=class extends(n.LoadableMixin(y(v))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new I(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return l(t)&&\"number\"==typeof o?new j({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return l(this.associatedLayer)?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=l(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=w(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,_,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return P(this,e)}async _fetchService(e){const r=(await s(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){const t=this.getFeatureType(r?.feature)?.domains?.[e];return t&&\"inherited\"!==t.type?t:this.getField(e)?.domain??null}getFeatureType(e){return e&&l(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return l(this.associatedLayer)?this.associatedLayer.types??[]:[]}get typeIdField(){return l(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=l(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:b,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new R;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(e?.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}async queryCachedAttributes(e,r){const t=F(this.fieldsIndex,await Q(this,E(this)));return D(this.parsedUrl.path,this.attributeStorageInfo,e,r,t)}async queryCachedFeature(e,t){const o=await this.queryCachedAttributes(e,[t]);if(!o||0===o.length)throw new i(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");const s=new r;return s.attributes=o[0],s.layer=this,s.sourceLayer=this,s}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:l(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return l(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),d(this.associatedLayer))throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([u({readOnly:!0})],N.prototype,\"parsedUrl\",null),e([u({type:x,readOnly:!0})],N.prototype,\"nodePages\",void 0),e([u({type:[O],readOnly:!0})],N.prototype,\"materialDefinitions\",void 0),e([u({type:[T],readOnly:!0})],N.prototype,\"textureSetDefinitions\",void 0),e([u({type:[q],readOnly:!0})],N.prototype,\"geometryDefinitions\",void 0),e([u({readOnly:!0})],N.prototype,\"serviceUpdateTimeStamp\",void 0),e([u({readOnly:!0})],N.prototype,\"store\",void 0),e([u({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],N.prototype,\"rootNode\",void 0),e([u({readOnly:!0})],N.prototype,\"attributeStorageInfo\",void 0),e([u(C.fields)],N.prototype,\"fields\",void 0),e([u({readOnly:!0})],N.prototype,\"fieldsIndex\",null),e([u({readOnly:!0,type:j})],N.prototype,\"associatedLayer\",void 0),e([m(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],N.prototype,\"readAssociatedLayer\",null),e([u(C.outFields)],N.prototype,\"outFields\",void 0),e([u({type:String,readOnly:!0})],N.prototype,\"objectIdField\",null),e([u({readOnly:!0,type:String,json:{read:!1}})],N.prototype,\"displayField\",null),e([u({readOnly:!0,type:String})],N.prototype,\"apiKey\",null),e([u({readOnly:!0,type:f})],N.prototype,\"fullExtent\",null),e([u({readOnly:!0,type:g})],N.prototype,\"spatialReference\",null),e([u({readOnly:!0})],N.prototype,\"version\",null),e([u({readOnly:!0,type:U})],N.prototype,\"elevationInfo\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"minScale\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"maxScale\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"effectiveScaleRange\",null),e([u({type:[\"hide\",\"show\"],json:{write:!0}})],N.prototype,\"listMode\",void 0),e([u({types:o,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],N.prototype,\"renderer\",void 0),e([u({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],N.prototype,\"definitionExpression\",void 0),e([u(L)],N.prototype,\"popupEnabled\",void 0),e([u({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],N.prototype,\"popupTemplate\",void 0),e([u({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],N.prototype,\"normalReferenceFrame\",void 0),e([u({readOnly:!0,json:{read:!1}})],N.prototype,\"defaultPopupTemplate\",null),e([u()],N.prototype,\"types\",null),e([u()],N.prototype,\"typeIdField\",null),e([u({json:{write:!1}}),c(new a({\"3DObject\":\"3d-object\",Point:\"point\"}))],N.prototype,\"layerType\",void 0),e([u()],N.prototype,\"geometryType\",null),e([u()],N.prototype,\"profile\",null),e([u({readOnly:!0,json:{read:!1}})],N.prototype,\"capabilities\",null),N=e([h(A)],N);const M=N;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as a}from\"../support/commonProperties.js\";let l=class extends(r(o)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,r){return\"string\"==typeof r.alias?r.alias:\"string\"==typeof r.name?r.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),e([t()],l.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),e([s(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),e([t(a(String))],l.prototype,\"modelName\",void 0),e([t(a(Boolean))],l.prototype,\"isEmpty\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);const n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(){super(...arguments),this.type=null}};r([s({type:String,readOnly:!0,json:{write:!0}})],e.prototype,\"type\",void 0),e=r([t(\"esri.layers.support.BuildingFilterAuthoringInfo\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var p;let i=p=class extends e{constructor(){super(...arguments),this.filterType=null,this.filterValues=null}clone(){return new p({filterType:this.filterType,filterValues:t(this.filterValues)})}};r([o({type:String,json:{write:!0}})],i.prototype,\"filterType\",void 0),r([o({type:[String],json:{write:!0}})],i.prototype,\"filterValues\",void 0),i=p=r([s(\"esri.layers.support.BuildingFilterAuthoringInfoType\")],i);const l=i;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Collection.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./BuildingFilterAuthoringInfoType.js\";var c;const l=o.ofType(i);let n=c=class extends e{clone(){return new c({filterTypes:s(this.filterTypes)})}};r([t({type:l,json:{write:!0}})],n.prototype,\"filterTypes\",void 0),n=c=r([p(\"esri.layers.support.BuildingFilterAuthoringInfoBlock\")],n);const m=n;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{clone as t}from\"../../core/lang.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"./BuildingFilterAuthoringInfo.js\";import i from\"./BuildingFilterAuthoringInfoBlock.js\";var p;const l=r.ofType(i);let n=p=class extends c{constructor(){super(...arguments),this.type=\"checkbox\"}clone(){return new p({filterBlocks:t(this.filterBlocks)})}};o([e({type:[\"checkbox\"]})],n.prototype,\"type\",void 0),o([e({type:l,json:{write:!0}})],n.prototype,\"filterBlocks\",void 0),n=p=o([s(\"esri.layers.support.BuildingFilterAuthoringInfoCheckbox\")],n);const u=n;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{};r([s({readOnly:!0,json:{read:!1}})],t.prototype,\"type\",void 0),t=r([e(\"esri.layers.support.BuildingFilterMode\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./BuildingFilterMode.js\";var t;let p=t=class extends e{constructor(){super(...arguments),this.type=\"solid\"}clone(){return new t}};r([o({type:[\"solid\"],readOnly:!0,json:{write:!0}})],p.prototype,\"type\",void 0),p=t=r([s(\"esri.layers.support.BuildingFilterModeSolid\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{clone as e}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterMode.js\";import{symbol3dEdgesProperty as i}from\"../../symbols/edges/utils.js\";var c;let m=c=class extends p{constructor(){super(...arguments),this.type=\"wire-frame\",this.edges=null}clone(){return new c({edges:e(this.edges)})}};r([s({wireFrame:\"wire-frame\"})],m.prototype,\"type\",void 0),r([o(i)],m.prototype,\"edges\",void 0),m=c=r([t(\"esri.layers.support.BuildingFilterModeWireFrame\")],m);const a=m;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.type=\"x-ray\"}clone(){return new t}};r([o({type:[\"x-ray\"],readOnly:!0,json:{write:!0}})],p.prototype,\"type\",void 0),p=t=r([e(\"esri.layers.support.BuildingFilterModeXRay\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";import l from\"./BuildingFilterModeSolid.js\";import p from\"./BuildingFilterModeWireFrame.js\";import n from\"./BuildingFilterModeXRay.js\";var d;const a={nonNullable:!0,types:{key:\"type\",base:s,typeMap:{solid:l,\"wire-frame\":p,\"x-ray\":n}},json:{read:e=>{switch(e&&e.type){case\"solid\":return l.fromJSON(e);case\"wireFrame\":return p.fromJSON(e);case\"x-ray\":return n.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let u=d=class extends r{constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new l,this.title=\"\"}clone(){return new d({filterExpression:this.filterExpression,filterMode:t(this.filterMode),title:this.title})}};e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,\"filterExpression\",void 0),e([o(a)],u.prototype,\"filterMode\",void 0),e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,\"title\",void 0),u=d=e([i(\"esri.layers.support.BuildingFilterBlock\")],u);const c=u;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{generateUUID as i}from\"../../core/uuid.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterAuthoringInfo.js\";import l from\"./BuildingFilterAuthoringInfoCheckbox.js\";import c from\"./BuildingFilterBlock.js\";var u;const d=r.ofType(c);let m=u=class extends t{constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=i(),this.name=null}clone(){return new u({description:this.description,filterBlocks:e(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:e(this.filterAuthoringInfo)})}};o([s({type:String,json:{write:!0}})],m.prototype,\"description\",void 0),o([s({type:d,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"filterBlocks\",void 0),o([s({types:{key:\"type\",base:p,typeMap:{checkbox:l}},json:{read:o=>\"checkbox\"===(o&&o.type)?l.fromJSON(o):null,write:!0}})],m.prototype,\"filterAuthoringInfo\",void 0),o([s({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"id\",void 0),o([s({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"name\",void 0),m=u=o([n(\"esri.layers.support.BuildingFilter\")],m);const f=m;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../request.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import s from\"../../core/Loadable.js\";import o from\"../../core/Logger.js\";import{isSome as i}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends t{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};e([a({type:String})],n.prototype,\"fieldName\",void 0),e([a({type:String})],n.prototype,\"modelName\",void 0),e([a({type:String})],n.prototype,\"label\",void 0),e([a({type:Number})],n.prototype,\"min\",void 0),e([a({type:Number})],n.prototype,\"max\",void 0),e([a({json:{read:e=>Array.isArray(e)&&(e.every((e=>\"string\"==typeof e))||e.every((e=>\"number\"==typeof e)))?e.slice():null}})],n.prototype,\"mostFrequentValues\",void 0),e([a({type:[Number]})],n.prototype,\"subLayerIds\",void 0),n=e([p(\"esri.layers.support.BuildingFieldStatistics\")],n);let u=class extends(s.LoadableMixin(l(t))){constructor(){super(...arguments),this.url=null}get fields(){return this.loaded||\"loading\"===this.loadStatus?this._get(\"fields\"):(o.getLogger(this.declaredClass).error(\"building summary statistics are not loaded\"),null)}load(e){const r=i(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(r)),Promise.resolve(this)}async _fetchService(e){const t=(await r(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\"})}};e([a({constructOnly:!0,type:String})],u.prototype,\"url\",void 0),e([a({readOnly:!0,type:[n],json:{read:{source:\"summary\"}}})],u.prototype,\"fields\",null),u=e([p(\"esri.layers.support.BuildingSummaryStatistics\")],u);const m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import t from\"../core/CollectionFlattener.js\";import s from\"../core/Error.js\";import{clone as i}from\"../core/lang.js\";import{loadAll as o}from\"../core/loadAll.js\";import a from\"../core/Logger.js\";import{isSome as l}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as p}from\"../core/promiseUtils.js\";import{join as y}from\"../core/urlUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as d}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"../geometry/SpatialReference.js\";import h from\"./Layer.js\";import b from\"./buildingSublayers/BuildingComponentSublayer.js\";import f from\"./buildingSublayers/BuildingGroupSublayer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as g}from\"./mixins/ArcGISService.js\";import{OperationalLayer as S}from\"./mixins/OperationalLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as w}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as O,SaveOperationType as I}from\"./mixins/SceneService.js\";import _ from\"./support/BuildingFilter.js\";import L from\"./support/BuildingSummaryStatistics.js\";import{sceneLayerFullExtent as x,readOnlyService as T,elevationInfo as A}from\"./support/commonProperties.js\";import{FetchAssociatedFeatureLayer as E}from\"./support/FetchAssociatedFeatureLayer.js\";const F=r.ofType(_),B=i(f.sublayersProperty);B.json.origins[\"web-scene\"]={type:[b],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},B.json.origins[\"portal-item\"]={type:[b],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}};let P=class extends(O(g(S(j(w(n(v(h)))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new t({getCollections:()=>[this.sublayers],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this._sublayerOverrides=null,this.filters=new F,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e??{}}destroy(){this.allSublayers.destroy()}readSublayers(e,r,t){const s=f.readSublayers(e,r,t);return f.forEachSublayer(s,(e=>e.layer=this)),this._sublayerOverrides&&(this.applySublayerOverrides(s,this._sublayerOverrides),this._sublayerOverrides=null),s}applySublayerOverrides(e,{overrides:r,context:t}){f.forEachSublayer(e,(e=>e.read(r.get(e.id),t)))}readSublayerOverrides(e,r){const t=new Map;for(const i of e)null!=i&&\"object\"==typeof i&&\"number\"==typeof i.id?t.set(i.id,i):r.messages?.push(new s(\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:i}));return{overrides:t,context:r}}writeSublayerOverrides(e,r,t){const s=[];f.forEachSublayer(this.sublayers,(e=>{const r=e.write({},t);Object.keys(r).length>1&&s.push(r)})),s.length>0&&(r.sublayers=s)}writeUnappliedOverrides(e,r){r.sublayers=[],e.overrides.forEach((e=>{r.sublayers.push(i(e))}))}write(e,r){return e=super.write(e,r),!r||\"web-scene\"!==r.origin&&\"portal-item\"!==r.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,r):this._sublayerOverrides&&this.writeUnappliedOverrides(this._sublayerOverrides,e)),e}read(e,r){if(super.read(e,r),r&&(\"web-scene\"===r.origin||\"portal-item\"===r.origin)&&null!=e&&Array.isArray(e.sublayers)){const t=this.readSublayerOverrides(e.sublayers,r);this.sublayers?this.applySublayerOverrides(this.sublayers,t):this._sublayerOverrides=t}}readSummaryStatistics(e,r){if(\"string\"==typeof r.statisticsHRef){const e=y(this.parsedUrl?.path,r.statisticsHRef);return new L({url:e})}return null}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}load(e){const r=l(e)?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(p).then((()=>this._fetchService(r))).then((()=>this._fetchAssociatedFeatureService(r)));return this.addResolvingPromise(t),Promise.resolve(this)}loadAll(){return o(this,(e=>{f.forEachSublayer(this.sublayers,(r=>{\"building-group\"!==r.type&&e(r)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,r){return this._debouncedSaveOperations(I.SAVE_AS,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"};return this._debouncedSaveOperations(I.SAVE,e)}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new s(\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"absolute-height\"!==e.mode&&a.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Building scene layers only support absolute-height elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&a.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Building scene layers do not support featureExpressionInfo\"))}async _fetchAssociatedFeatureService(e){const r=new E(this.parsedUrl,this.portalItem,this.apiKey,e);try{this.associatedFeatureServiceItem=await r.fetchPortalItem()}catch(t){a.getLogger(this.declaredClass).warn(\"Associated feature service item could not be loaded\",t)}}};e([u({type:[\"BuildingSceneLayer\"]})],P.prototype,\"operationalLayerType\",void 0),e([u({readOnly:!0})],P.prototype,\"allSublayers\",void 0),e([u(B)],P.prototype,\"sublayers\",void 0),e([d(\"service\",\"sublayers\")],P.prototype,\"readSublayers\",null),e([u({type:F,nonNullable:!0,json:{write:!0}})],P.prototype,\"filters\",void 0),e([u({type:String,json:{write:!0}})],P.prototype,\"activeFilterId\",void 0),e([u({readOnly:!0,type:L})],P.prototype,\"summaryStatistics\",void 0),e([d(\"summaryStatistics\",[\"statisticsHRef\"])],P.prototype,\"readSummaryStatistics\",null),e([u({type:[String],json:{read:!1}})],P.prototype,\"outFields\",void 0),e([u(x)],P.prototype,\"fullExtent\",void 0),e([u({type:[\"show\",\"hide\",\"hide-children\"]})],P.prototype,\"listMode\",void 0),e([u(T(m))],P.prototype,\"spatialReference\",void 0),e([u(A)],P.prototype,\"elevationInfo\",null),e([u({json:{read:!1},readOnly:!0})],P.prototype,\"type\",void 0),e([u()],P.prototype,\"associatedFeatureServiceItem\",void 0),P=e([c(\"esri.layers.BuildingSceneLayer\")],P);const C=P;export{C as default};\n"],"sourceRoot":""}
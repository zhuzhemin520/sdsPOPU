(this["webpackJsonppopulation-arcgis"]=this["webpackJsonppopulation-arcgis"]||[]).push([[22],{1105:function(e,t,n){"use strict";var i,r,a,o,s,l,c,p,u,h,d,b,m,f,O,y,g,v,j,x,_,w,S,T,M,C,P,E,R,I,V,G,k,z,L,D,A,F,H,Z,W,B,N,U,q,X,Y,J,Q,K,$,ee,te,ne,ie,re,ae,oe,se,le,ce;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return R})),n.d(t,"o",(function(){return r})),n.d(t,"p",(function(){return D})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return Z})),n.d(t,"s",(function(){return q})),n.d(t,"t",(function(){return X})),n.d(t,"u",(function(){return Y})),n.d(t,"v",(function(){return J})),n.d(t,"w",(function(){return re})),n.d(t,"x",(function(){return ae})),n.d(t,"y",(function(){return se})),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(i||(i={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(a||(a={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(s||(s={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(l||(l={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(p||(p={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(u||(u={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(h||(h={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(d||(d={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(b||(b={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(m||(m={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(f||(f={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(O||(O={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(y||(y={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(g||(g={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(v||(v={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(j||(j={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(x||(x={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(_||(_={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(w||(w={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(S||(S={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(T||(T={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(M||(M={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(C||(C={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(P||(P={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(E||(E={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(R||(R={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(I||(I={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(V||(V={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(G||(G={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(k||(k={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(z||(z={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(L||(L={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(D||(D={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(A||(A={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(F||(F={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(H||(H={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(Z||(Z={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(W||(W={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(B||(B={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(N||(N={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(U||(U={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(q||(q={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(X||(X={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Y||(Y={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(J||(J={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(K||(K={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}($||($={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ee||(ee={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(te||(te={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(ne||(ne={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ie||(ie={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(re||(re={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ae||(ae={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(oe||(oe={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(se||(se={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(le||(le={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ce||(ce={}))},1110:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return T}));n(167),n(226);var i=n(25),r=n(14),a=n(2),o=n(31),s=n(9),l=n(40),c=n(559),p=n(127),u=n(53),h=n(1213),d=n(62);function b(e,t){return e.events.on("drag",function(e,t){let n=null,i=null;return r=>{if("cancel"===r.action)return void(Object(a.l)(i)&&(i.execute({action:"cancel"}),n=null,i=null));const o={action:r.action,screenStart:r.start,screenEnd:r.screenPoint};"start"===r.action&&Object(a.k)(n)&&(n=new S,i=new S,t(e,n,i,r.pointerType,o)),Object(a.l)(n)&&n.execute(o),"end"===r.action&&Object(a.l)(n)&&(n=null,i=null)}}(e,t))}function m(e,t){const n=[e.x,e.y,e.z],i=t,r=[Math.cos(i),Math.sin(i)],a=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(0===a)return null;r[0]/=a,r[1]/=a;const o=e=>{const t=(e.x-n[0])*r[0]+(e.y-n[1])*r[1];e.x=n[0]+t*r[0],e.y=n[1]+t*r[1]};return e=>(o(e.mapStart),o(e.mapEnd),{...e,axis:r})}function f(e,t){let n=null;return i=>{if("start"===i.action&&(n=function(e,t,n){const i=e.geometry,r=Object(c.d)(t);if(Object(a.k)(i))return null;if("mesh"===i.type)return function(e,t,n,i){if(Object(a.l)(t.transform))return function(e,t,n,i){const r=O(n.getOriginPoint(t.spatialReference),i),o=t.spatialReference;return Object(a.k)(r)?null:{move:(t,i,c)=>{const p=Object(h.d)(r.clone(),t,i,c);if(p.spatialReference.equals(o))n.origin=Object(s.h)(p.x,p.y,p.z);else{const e=Object(l.m)(p,o);Object(a.l)(e)&&(n.origin=Object(s.h)(e.x,e.y,e.z))}e.notifyMeshTransformChanged(),e.notifyGeometryChanged()}}}(e,t,t.transform,n);if(!t.spatialReference.equals(n))return null;let r=0,o=0,c=0;return{move:(n,a,s)=>{const l=n-r,p=a-o,h=s-c;if(l||p||h){const b=new d.a(t.origin.x+l,t.origin.y+p,t.origin.z+h,t.origin.spatialReference);t.centerAt(b,{geographic:i===u.a.Global}),e.notifyGeometryChanged(),r=n,o=a,c=s}}}}(e,i,r,n);const o=O(i,r),p=i.spatialReference;return Object(a.k)(o)?null:{move:(t,n,i)=>{const r=Object(h.d)(o.clone(),t,n,i);r.spatialReference.equals(p)?e.geometry=r:e.geometry=Object(l.m)(r,p)}}}(e,i.mapStart.spatialReference,t)),Object(a.k)(n))return null;const r=i.mapEnd.x-i.mapStart.x,o=i.mapEnd.y-i.mapStart.y,p=i.mapEnd.z-i.mapStart.z;return n.move(r,o,p),{...i,translationX:r,translationY:o,translationZ:p}}}function O(e,t){return Object(a.k)(e)?null:e.spatialReference.equals(t)?e.clone():Object(l.m)(e,t)}function y(e,t){const n=e.map((e=>Object(a.t)(f(e,t)))).filter((e=>Object(a.l)(e)));return e=>{const t=e.mapEnd.x-e.mapStart.x,i=e.mapEnd.y-e.mapStart.y,r=e.mapEnd.z-e.mapStart.z;return n.forEach((t=>t(e))),{...e,translationX:t,translationY:i,translationZ:r}}}function g(e,t){const n=new Map;for(const r of t)n.set(r,Object(i.a)(e[r]));return t=>(n.forEach(((t,n)=>{e[n]=t})),t)}function v(e){return Object(a.l)(e.geometry)&&"mesh"===e.geometry.type?function(e,t){const n=Object(a.l)(t.transform)?t.transform.clone():null,i=t.vertexAttributes.clonePositional();return r=>(t.transform=n,t.vertexAttributes=i,e.notifyGeometryChanged(),r)}(e,e.geometry):g(e,["geometry"])}function j(e){const t=e.map((e=>Object(a.t)(v(e)))).filter((e=>Object(a.l)(e)));return e=>(t.forEach((t=>t(e))),e)}function x(){let e=0,t=0,n=0;return i=>{"start"===i.action&&(e=i.mapStart.x,t=i.mapStart.y,n=i.mapStart.z);const r=i.mapEnd.x-e,a=i.mapEnd.y-t,o=i.mapEnd.z-n;return e=i.mapEnd.x,t=i.mapEnd.y,n=i.mapEnd.z,{...i,mapDeltaX:r,mapDeltaY:a,mapDeltaZ:o,mapDeltaSpatialReference:i.mapStart.spatialReference}}}function _(){let e=0,t=0;return n=>{"start"===n.action&&(e=n.screenStart.x,t=n.screenStart.y);const i=n.screenEnd.x-e,r=n.screenEnd.y-t;return e=n.screenEnd.x,t=n.screenEnd.y,{...n,screenDeltaX:i,screenDeltaY:r}}}function w(e,t){let n=null,i=0,a=0;return s=>{if("start"===s.action&&(n=e.toScreen(t),n.x<0||n.x>e.width||n.y<0||n.y>e.height?n=null:(i=s.screenStart.x-n.x,a=s.screenStart.y-n.y)),null==n)return null;const l=Object(r.f)(s.screenEnd.x-i,0,e.width),c=Object(r.f)(s.screenEnd.y-a,0,e.height),p=Object(o.f)(l,c);return s.screenStart=n,s.screenEnd=p,s}}class S{constructor(){this.execute=()=>{}}next(e,t=new S){return Object(a.l)(e)&&(this.execute=n=>{const i=e(n);Object(a.l)(i)&&t.execute(i)}),t}}function T(e,t,n=[]){if("2d"===e.type)return e=>e;let i=null;return r=>{"start"===r.action&&(i=e.toMap(r.screenStart,{exclude:n}),Object(a.l)(i)&&(i.z=Object(p.l)(i,e,t)));const o=e.toMap(r.screenEnd,{exclude:n});Object(a.l)(o)&&(o.z=Object(p.l)(o,e,t));const s=Object(a.l)(i)&&Object(a.l)(o)?{sceneStart:i,sceneEnd:o}:null;return{...r,scenePoints:s}}}},1126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(78),r=n(510);class a extends r.a{constructor(e,t,n){super(t,n),this.point=e}equals(e){return e instanceof a&&Object(i.f)(this.point,e.point)}}},1135:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}},1159:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,r,a=n(0),o=n(28),s=n(22),l=n(2),c=n(23),p=n(1),u=(n(17),n(12),n(10)),h=n(674),d=n(59);(r=i||(i={}))[r.WhenToolEditable=0]="WhenToolEditable",r[r.WhenToolNotEditable=1]="WhenToolNotEditable",r[r.Always=2]="Always";class b{constructor(){this._isToolEditable=!0,this._manipulators=new d.a,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(e){this._isToolEditable=e}get length(){return this._manipulators.length}add(e,t=i.WhenToolEditable){this.addMany([e],t)}addMany(e,t=i.WhenToolEditable){for(const n of e){const e={manipulator:n,visibilityPredicate:t,attached:!1};this._manipulators.add(e),this._attached&&this._updateManipulatorAttachment(e)}}remove(e){for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).manipulator===e){const e=this._manipulators.splice(t,1)[0];this._detachManipulator(e);break}}removeAll(){this._manipulators.forEach((e=>{this._detachManipulator(e)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((e=>{this._updateManipulatorAttachment(e)})),this._attached=!0}detach(){this._manipulators.forEach((e=>{this._detachManipulator(e)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:e})=>{e.destroy&&e.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(e,t){return this._manipulators.on(e,(e=>{t(e)}))}forEach(e){for(const t of this._manipulators.items)e(t)}some(e){return this._manipulators.items.some(e)}toArray(){const e=[];return this.forEach((t=>e.push(t.manipulator))),e}intersect(e,t){let n=null,i=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:r,attached:a})=>{if(!a||!r.interactive)return;const o=r.intersectionDistance(e,t);Object(l.l)(o)&&o<i&&(i=o,n=r)})),n}_updateManipulatorAttachment(e){this._isManipulatorItemVisible(e)?this._attachManipulator(e):this._detachManipulator(e)}_attachManipulator(e){e.attached||(e.manipulator.attach&&e.manipulator.attach(this._resourceContexts),e.attached=!0)}_detachManipulator(e){if(!e.attached)return;const t=e.manipulator;t.grabbing=!1,t.dragging=!1,t.hovering=!1,t.selected=!1,t.detach&&t.detach(this._resourceContexts),e.attached=!1}_isManipulatorItemVisible(e){return e.visibilityPredicate===i.Always||(this._isToolEditable?e.visibilityPredicate===i.WhenToolEditable:e.visibilityPredicate===i.WhenToolNotEditable)}}let m=class extends o.a{constructor(e){super(e),this.manipulators=new b,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[h.a.MANAGER,!0],[h.a.USER,!0]]),this._creationFinishedResolver=Object(c.e)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(e){this._get("visible")!==e&&(this._set("visible",e),this._syncVisible())}get editable(){return this.getEditableFlag(h.a.USER)}set editable(e){this.setEditableFlag(h.a.USER,e)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){Object(l.k)(this.view)?s.a.getLogger(this.declaredClass).error("Can't activate tool if view is not defined."):(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(e){this.onInputEvent(e)}handleInputEventAfter(e){this.onInputEventAfter(e)}setEditableFlag(e,t){this._editableFlags.set(e,t),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),e===h.a.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(e){return this._editableFlags.get(e)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(e){}onInputEventAfter(e){}get internallyEditable(){return this.getEditableFlag(h.a.USER)&&this.getEditableFlag(h.a.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};Object(a.a)([Object(p.b)({constructOnly:!0})],m.prototype,"view",void 0),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"active",null),Object(a.a)([Object(p.b)({value:!0})],m.prototype,"visible",null),Object(a.a)([Object(p.b)({value:!0})],m.prototype,"editable",null),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"manipulators",void 0),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"updating",null),Object(a.a)([Object(p.b)()],m.prototype,"cursor",null),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"automaticManipulatorSelection",void 0),Object(a.a)([Object(p.b)()],m.prototype,"hasFocusedManipulators",null),Object(a.a)([Object(p.b)()],m.prototype,"hasGrabbedManipulators",void 0),Object(a.a)([Object(p.b)()],m.prototype,"hasHoveredManipulators",void 0),Object(a.a)([Object(p.b)()],m.prototype,"firstGrabbedManipulator",void 0),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"created",void 0),Object(a.a)([Object(p.b)({readOnly:!0})],m.prototype,"removeIncompleteOnCancel",void 0),m=Object(a.a)([Object(u.a)("esri.views.interactive.InteractiveToolBase")],m)},1184:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(2),r=n(23),a=n(915),o=n(559),s=n(1110),l=n(1135),c=n(124);class p{constructor(){this.next=new s.a}createSnapDragEventPipelineStep({predicate:e=(()=>!0),cancel:t,snappingManager:n,snappingContext:a,updatingHandles:o,useZ:l=!0}){if(Object(i.k)(n))return e=>e;let c=null,p=null;const u=()=>{c=Object(i.a)(c),n.doneSnapping(),Object(i.l)(p)&&p.frameTask.remove(),p=null};t.next((e=>(u(),e))),this.next=new s.a;const h=this._createSnapFunction(n,l);let d=null,b=null,m=null;return t=>{if(!e(t))return t;if("start"===t.action){const e=this._createFrameTask(n.view);if(p=this._createSnappingInfo(a,t,e),p.context.selfSnappingZ=null,!l&&Object(i.l)(t.info)){const e=this._extractSelfSnappingZ(a.coordinateHelper,t.info.handle.component);Object(i.l)(e)&&(p.context.selfSnappingZ={value:e,elevationInfo:a.elevationInfo})}}if(Object(i.l)(p)){const{context:e,originalScenePos:a,originalPos:s}=p,{mapEnd:u,mapStart:f,action:O,scenePoints:y}=t,g=this._updatePosition(s,this._computeMapDelta(u,f)),v=this._computeMapDelta(f,s),j={...t,action:"update"},x=p.context,_=this._updateScenePosition(a,y),w=n.update({point:g,scenePoint:_,context:e});if(m=w,this._applySnappedUpdate(u,w,v,l),d=g,b=_,"end"!==O){const{frameTask:e}=p;Object(i.k)(c)&&(c=new AbortController),o.addPromise(Object(r.i)(h({frameTask:e,event:j,context:x,point:g,scenePoint:_,delta:v,lastPos:d,lastScenePos:b,lastUpdate:m},c.signal)))}}return"end"===t.action&&u(),t}}_createSnapFunction(e,t){return Object(r.f)((async({frameTask:n,point:r,scenePoint:o,context:s,event:l,delta:c,lastPos:p,lastScenePos:u,lastUpdate:h},d)=>{const b=await n.schedule((()=>e.snap({point:r,scenePoint:o,context:s,signal:d})),d);if(b.valid){let o=await n.schedule((()=>b.apply()),d);r!==p&&Object(i.l)(p)&&(o=e.update({point:p,scenePoint:u,context:s})),Object(a.b)(o,h)||(this._applySnappedUpdate(l.mapEnd,o,c,t),this.next.execute(l))}}))}_createFrameTask(e){return"3d"===e.type?e.resourceController.scheduler.registerTask(c.b.SNAPPING):c.a}_createSnappingInfo(e,t,n){return{context:new l.a({editGeometryOperations:e.editGeometryOperations,elevationInfo:e.elevationInfo,pointer:e.pointer,vertexHandle:Object(i.l)(t.info)?t.info.handle:null,excludeFeature:e.excludeFeature,visualizer:e.visualizer}),originalPos:Object(i.l)(t.snapOrigin)?e.coordinateHelper.vectorToDehydratedPoint(t.snapOrigin):t.mapStart,originalScenePos:Object(i.l)(t.scenePoints)?t.scenePoints.sceneStart:null,frameTask:n}}_updatePosition(e,[t,n,i]){const r=Object(o.a)(e);return r.x+=t,r.y+=n,r.hasZ&&(r.z+=i),r}_updateScenePosition(e,t){return Object(i.k)(e)||Object(i.k)(t)?null:this._updatePosition(e,this._computeMapDelta(t.sceneEnd,t.sceneStart))}_computeMapDelta(e,t){const n=e.hasZ&&t.hasZ?e.z-t.z:0;return[e.x-t.x,e.y-t.y,n]}_applySnappedUpdate(e,t,[n,i,r],a){e.x=t.x+n,e.y=t.y+i,a&&e.hasZ&&t.hasZ&&(e.z=t.z+r)}_extractSelfSnappingZ(e,t){if(!e.hasZ())return null;const n=t.vertices;let r=null;for(const a of n){const t=e.getZ(a.pos);if(Object(i.l)(r)&&Math.abs(t-r)>1e-6)return null;Object(i.k)(r)&&(r=t)}return r}}},1209:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return g}));var i=n(2),r=n(1102),a=n(68),o=n(452),s=n(5),l=n(9),c=n(40),p=n(45),u=n(680),h=n(1210);function d(e,t={positionsWorldCoords:[]}){return m(e,t)}function b(e,t={positionsWorldCoords:[]}){return m(e,t,!1)}function m(e,t,n=e.hasZ){const o=Object(h.a)(e.spatialReference),d=Object(a.a)(o);if(Object(i.k)(d))return null;const b=(e,t)=>!(t.length<2)&&(Object(s.B)(e,t[0],t[1],n&&t[2]||0),!0);let m=0;for(const i of e.rings){const n=i.length;if(n<3)continue;const{positionsWorldCoords:r}=t;for(;r.length<n;)r.push(Object(l.f)());const a=f,h=Object(s.B)(O,0,0,0),d=1/n;for(let t=0;t<n;t++){if(!b(a,i[t]))return null;if(!Object(c.C)(a,e.spatialReference,r[t],o))return null;Object(s.I)(h,h,r[t],d)}const y=Object(p.g)(r[0],r[1],h,Object(p.w)());if(0===Object(s.y)(Object(p.q)(y)))continue;for(let e=0;e<n;e++)Object(p.s)(y,h,r[e],r[e]);const v=g(r);for(let e=0;e<v.length;e+=3)m+=Object(u.a)(r[v[e]],r[v[e+1]],r[v[e+2]])}return Object(r.b)(m,d)}const f=Object(l.f)(),O=Object(l.f)();function y(){return{positionsWorldCoords:[]}}function g(e){return Object(o.a)(function(e){const t=new Float64Array(2*e.length);for(let n=0;n<e.length;++n){const i=e[n],r=2*n;t[r+0]=i[0],t[r+1]=i[1]}return t}(e),[],2)}},1213:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c}));var i=n(14),r=n(37),a=n(726),o=n(296);function s(e,t,n,i){if(null==i||e.hasZ||(i=void 0),"point"===e.type)return e.x+=t,e.y+=n,e.hasZ&&null!=i&&(e.z+=i),e;if("multipoint"===e.type){const r=e.points;for(let e=0;e<r.length;e++)r[e]=h(r[e],t,n,i);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=n,e.ymax+=n,null!=i&&(e.zmin+=i,e.zmax+=i),e;const r=Object(o.d)(e),a="polyline"===e.type?e.paths:e.rings;for(let o=0;o<r.length;o++){const e=r[o];for(let r=0;r<e.length;r++)e[r]=h(e[r],t,n,i)}return"paths"in e?e.paths=a:e.rings=a,e}function l(e,t,n,i,r){const a=e.clone(),l=i.resolution;if("point"===a.type){if(r)s(a,t*l,-n*l);else{const e=i.state.transform,r=i.state.inverseTransform,o=e[0]*a.x+e[2]*a.y+e[4],s=e[1]*a.x+e[3]*a.y+e[5];a.x=r[0]*(o+t)+r[2]*(s+n)+r[4],a.y=r[1]*(o+t)+r[3]*(s+n)+r[5]}return a}if("multipoint"===a.type){if(r)s(a,t*l,-n*l);else{const e=a.points,r=i.state.transform,o=i.state.inverseTransform;for(let i=0;i<e.length;i++){const a=e[i],s=r[0]*a[0]+r[2]*a[1]+r[4],l=r[1]*a[0]+r[3]*a[1]+r[5],c=o[0]*(s+t)+o[2]*(l+n)+o[4],p=o[1]*(s+t)+o[3]*(l+n)+o[5];e[i]=d(a,c,p,void 0)}}return a}if("extent"===a.type){if(r)s(a,t*l,-n*l);else{const e=i.state.transform,r=i.state.inverseTransform,o=e[0]*a.xmin+e[2]*a.ymin+e[4],s=e[1]*a.xmin+e[3]*a.ymin+e[5],l=e[0]*a.xmax+e[2]*a.ymax+e[4],c=e[1]*a.xmax+e[3]*a.ymax+e[5];a.xmin=r[0]*(o+t)+r[2]*(s+n)+r[4],a.ymin=r[1]*(o+t)+r[3]*(s+n)+r[5],a.xmax=r[0]*(l+t)+r[2]*(c+n)+r[4],a.ymax=r[1]*(l+t)+r[3]*(c+n)+r[5]}return a}if(r)s(a,t*l,-n*l);else{const e=Object(o.d)(a),r="polyline"===a.type?a.paths:a.rings,s=i.state.transform,l=i.state.inverseTransform;for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<r.length;e++){const i=r[e],a=s[0]*i[0]+s[2]*i[1]+s[4],o=s[1]*i[0]+s[3]*i[1]+s[5],c=l[0]*(a+t)+l[2]*(o+n)+l[4],p=l[1]*(a+t)+l[3]*(o+n)+l[5];r[e]=d(i,c,p,void 0)}}"paths"in a?a.paths=r:a.rings=r}return a}function c(e,t,n,i){if("point"===e.type){const{x:r,y:a}=e,o=i?i[0]:r,s=i?i[1]:a,l=e.clone(),c=(r-o)*t+o,p=(a-s)*n+s;return l.x=c,l.y=p,l}if("multipoint"===e.type){const s=Object(o.d)(e),l=Object(r.m)(),[c,p,u,h]=Object(a.d)(l,[s]),b=i?i[0]:(c+u)/2,m=i?i[1]:(h+p)/2,f=e.clone(),O=f.points;for(let e=0;e<O.length;e++){const i=O[e],[r,a]=i,o=(r-b)*t+b,s=(a-m)*n+m;O[e]=d(i,o,s,void 0)}return f}if("extent"===e.type){const{xmin:r,xmax:a,ymin:o,ymax:s}=e,l=i?i[0]:(r+a)/2,c=i?i[1]:(s+o)/2,p=e.clone();if(p.xmin=(r-l)*t+l,p.ymax=(s-c)*n+c,p.xmax=(a-l)*t+l,p.ymin=(o-c)*n+c,p.xmin>p.xmax){const e=p.xmin,t=p.xmax;p.xmin=t,p.xmax=e}if(p.ymin>p.ymax){const e=p.ymin,t=p.ymax;p.ymin=t,p.ymax=e}return p}const s=Object(o.d)(e),l=Object(r.m)(),[c,p,u,h]=Object(a.d)(l,s),b=i?i[0]:(c+u)/2,m=i?i[1]:(h+p)/2,f=e.clone(),O="polyline"===f.type?f.paths:f.rings;for(let r=0;r<s.length;r++){const e=s[r];for(let i=0;i<e.length;i++){const a=e[i],[o,s]=a,l=(o-b)*t+b,c=(s-m)*n+m;O[r][i]=d(a,l,c,void 0)}}return"paths"in f?f.paths=O:f.rings=O,f}function p(e,t,n,i,r,a){const o=Math.sqrt((n-e)*(n-e)+(i-t)*(i-t));return Math.sqrt((r-e)*(r-e)+(a-t)*(a-t))/o}function u(e,t,n){const r=Math.atan2(t.y-n.y,t.x-n.x)-Math.atan2(e.y-n.y,e.x-n.x),a=Math.atan2(Math.sin(r),Math.cos(r));return Object(i.q)(a)}function h(e,t,n,i){return d(e,e[0]+t,e[1]+n,null!=e[2]&&null!=i?e[2]+i:void 0)}function d(e,t,n,i){const r=[t,n];return e.length>2&&r.push(null!=i?i:e[2]),e.length>3&&r.push(e[3]),r}},1214:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(226),r=n(927),a=n(360),o=n(926),s=n(1126),l=n(743);class c{draw(e,t){const n=this._getUniqueHints(e),c=[];for(const i of n)i instanceof r.a&&c.push(this.visualizeIntersectionPoint(i,t)),i instanceof a.a&&c.push(this.visualizeLine(i,t)),i instanceof o.a&&c.push(this.visualizeParallelSign(i,t)),i instanceof l.a&&c.push(this.visualizeRightAngleQuad(i,t)),i instanceof s.a&&c.push(this.visualizePoint(i,t));return Object(i.b)(c)}_getUniqueHints(e){const t=[];for(const n of e){let e=!0;for(const i of t)if(n.equals(i)){e=!1;break}e&&t.push(n)}return t}}},1233:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}));var i=n(46);const r={main:new i.a([255,127,0]),selected:new i.a([255,255,255]),outline:new i.a([0,0,0,.5]),selectedOutline:new i.a([255,255,255]),hoverOutline:new i.a([255,255,255]),secondary:new i.a([255,255,255]),secondaryOutline:new i.a([100,100,100]),transparent:new i.a([0,0,0,0])};function a(e,t){if(t)for(const n in t)e[n]=t[n]}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=r.main,this.hoverColor=r.main,this.outlineColor=r.outline,this.hoverOutlineColor=r.hoverOutline,a(this,e)}}class s{constructor(e){this.color=r.secondary,this.hoverColor=r.main,a(this,e)}}class l{constructor(e){this.color=r.transparent,this.hoverColor=r.transparent,this.outlineColor=r.main,this.hoverOutlineColor=r.main,this.stagedColor=r.transparent,this.stagedOutlineColor=r.secondary,a(this,e)}}class c{constructor(e){this.vertex=new o,this.midpoint=new o({color:r.secondary,outlineColor:r.secondaryOutline,size:6}),this.selected=new o({color:r.selected,hoverColor:r.selected,hoverOutlineColor:r.hoverOutline}),a(this,e)}}class p{constructor(e){this.center=new o({color:r.secondaryOutline}),this.fill=new l,this.line=new s,this.vertex=new o({color:r.selected,outlineColor:r.main,hoverColor:r.selected,hoverOutlineColor:r.secondaryOutline}),a(this,e)}}const u=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new p,a(this,e)}}},1238:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var i=n(2),r=n(1209),a=(n(167),n(1102)),o=n(907),s=n(40),l=n(916),c=n(1302),p=n(57);function u(e){return Object(a.b)(Math.abs(Object(l.c)([e],"square-meters")[0]),"square-meters")}function h(e){try{return Object(a.b)(Math.abs(Object(o.geodesicArea)(e,"square-meters")),"square-meters")}catch(t){return null}}function d(e){const t=[];return Object(s.y)(e,t)?Object(a.b)(Math.abs(Object(l.c)([{type:"polygon",rings:t,spatialReference:p.a.WGS84}],"square-meters")[0]),"square-meters"):null}function b(e,t,n=Object(r.a)()){if("on-the-ground"===t){const t=function(e){const{spatialReference:t}=e;return Object(c.a)(t,u,h,d,e)}(e);return Object(i.l)(t)?t:Object(r.b)(e,n)}return Object(r.c)(e,n)}function m(e,t=Object(r.a)()){return b(e,"on-the-ground",t)}},1269:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),r=n(28),a=n(2),o=n(23),s=n(1),l=(n(17),n(12),n(10)),c=n(124);let p=class extends r.a{constructor(e){super(e),this.constrainResult=e=>e,this._snapPoints=null,this._abortController=null,this._stagedPoint=null,this._snap=Object(o.f)((async(e,t,n,i)=>{const r=await this._frameTask.schedule((()=>t.snap({...e,context:n,signal:i})),i);r.valid&&await this._frameTask.schedule((()=>{this.stagedPoint=r.apply(),e!==this._snapPoints&&Object(a.l)(this._snapPoints)&&(this.stagedPoint=t.update({...this._snapPoints,context:n}))}),i)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(e){this._stagedPoint=this.constrainResult(e)}initialize(){var e,t;const n="3d"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=Object(a.l)(n)?n.registerTask(c.b.SNAPPING):c.a}destroy(){this._abortController=Object(a.a)(this._abortController),this._frameTask=Object(a.s)(this._frameTask)}async snap(e,t,n){const{point:i,scenePoint:r}=e;return this.stagedPoint=t.update({point:i,scenePoint:r,context:n}),this._snapPoints=e,Object(a.k)(this._abortController)&&(this._abortController=new AbortController),this._snap(e,t,n,this._abortController.signal)}abort(){this._abortController=Object(a.a)(this._abortController)}};Object(i.a)([Object(s.b)({constructOnly:!0})],p.prototype,"view",void 0),Object(i.a)([Object(s.b)()],p.prototype,"stagedPoint",null),Object(i.a)([Object(s.b)()],p.prototype,"constrainResult",void 0),Object(i.a)([Object(s.b)()],p.prototype,"_stagedPoint",void 0),p=Object(i.a)([Object(l.a)("esri.views.interactive.snapping.SnappingOperation")],p)},1377:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(167);var i=n(171),r=(n(106),n(226)),a=n(31),o=n(26),s=n(33),l=n(9),c=n(1105),p=n(1233),u=n(362),h=n(1214),d=n(221),b=n(203),m=n(428),f=n(62),O=n(250);class y extends h.a{constructor(e){super(),this._graphicsLayer=e}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new f.a({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.coordinateHelper.spatialReference}),j)}visualizePoint(e,t){return this._visualizeSnappingIndicator(new f.a({x:e.point[0],y:e.point[1],spatialReference:t.coordinateHelper.spatialReference}),x)}visualizeLine(e,t){return this._visualizeSnappingIndicator(new O.a({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),_)}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new O.a({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),w)}visualizeRightAngleQuad(e,t){return this._visualizeSnappingIndicator(new O.a({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.coordinateHelper.spatialReference}),C(e))}_visualizeSnappingIndicator(e,t){const n=new i.a({geometry:e,symbol:t});return this._graphicsLayer.add(n),Object(r.c)((()=>{this._graphicsLayer.remove(n)}))}}const g=p.a.main.toArray(),v=[...p.a.main.toRgb(),100],j=new d.a({outline:new b.a({width:1.5,color:g}),size:15,color:[0,0,0,0]}),x=new d.a({outline:{width:.5,color:[0,0,0,1]},size:10,color:g}),_=new m.a({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:c.p.Butt,joinStyle:c.r.Round,miterLimit:10,width:Object(a.i)(u.a.lineHintWidthTarget),color:g}]}}}),w=new m.a({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),S=e=>new m.a({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:Object(a.i)(u.a.rightAngleHintSize),rotation:e,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:Object(a.i)(u.a.rightAngleHintOutlineSize),color:g},{type:"CIMSolidFill",enable:!0,color:v}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),T=S(45),M=S(225),C=(()=>{const e=Object(s.c)(),t=Object(s.c)(),n=Object(l.f)();return i=>(Object(o.a)(e,i.centerVertex,i.previousVertex),Object(o.a)(t,i.nextVertex,i.previousVertex),Object(o.g)(n,e,t),n[2]<0?T:M)})()},1378:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return c}));var i=n(2),r=n(31),a=n(305),o=n(559),s=n(127);class l{constructor(e,t,n,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=n,this._excludeGraphics=i}screenToMap(e){if(Object(i.l)(this.defaultZ))return this._view.sceneIntersectionHelper.intersectElevationFromScreen(Object(r.g)(e.x,e.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const t=this._view.sceneIntersectionHelper.intersectElevationFromScreen(Object(r.g)(e.x,e.y),this._elevationInfo,0,this._excludeGraphics);return Object(i.l)(t)&&(t.z=void 0),t}mapToScreen(e){const t=Object(a.j)(e.x,e.y,Object(s.d)(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return Object(i.l)(t)&&e.z!==t&&((e=Object(o.a)(e)).z=t),e}}class c{constructor(e,t,n=[]){this.view=e,this.elevationInfo=t,this.exclude=n}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude});return Object(i.l)(t)&&(t.z=Object(s.l)(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return Object(i.l)(this.elevationInfo)&&(t=Object(a.j)(e.x,e.y,Object(s.d)(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class p{constructor(e,t=!1,n=0){this.view=e,this.hasZ=t,this.defaultZ=n,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=n,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=Object(o.a)(e)).z=t),e}}},1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return pe}));var i=n(0),r=n(171),a=(n(32),n(108)),o=n(243),s=n(226),l=n(2),c=n(1102),p=n(13),u=n(68),h=n(1),d=n(17),b=(n(12),n(10)),m=n(681),f=n(127),O=(n(167),n(25)),y=n(5),g=n(9),v=n(971),j=n(907),x=n(296),_=n(47),w=n(209),S=n(495),T=n(201),M=n(264),C=n(327),P=n(62);function E(e,t,n=null){return Object(l.l)(n)?[e,t,n]:[e,t]}function R(e,t,n=null){return Object(l.l)(n)?{x:e,y:t,z:n}:{x:e,y:t}}class I{constructor(e){this.spatialReference=e}mapToLocalMultiple(e){return Object(l.h)(e.map((e=>this.mapToLocal(e))))}get doUnnormalization(){return!1}}class V extends I{constructor(e,t,n=null){super(t),this._defaultZ=n,this.transform=Object(S.b)(),this.transformInv=Object(S.b)(),this.transform=Object(S.a)(e),Object(w.c)(this.transformInv,this.transform)}makeMapPoint(e,t){return E(e,t,this._defaultZ)}mapToLocal(e){return R(this.transform[0]*e[0]+this.transform[2]*e[1]+this.transform[4],this.transform[1]*e[0]+this.transform[3]*e[1]+this.transform[5])}localToMap(e){return E(this.transformInv[0]*e.x+this.transformInv[2]*e.y+this.transformInv[4],this.transformInv[1]*e.x+this.transformInv[3]*e.y+this.transformInv[5],this._defaultZ)}}class G extends I{constructor(e,t){super(e.spatialReference),this.view=e,this.defaultZ=null,this.pWS=Object(g.f)(),this.tangentFrameUpWS=Object(g.f)(),this.tangentFrameRightWS=Object(g.f)(),this.tangentFrameForwardWS=Object(g.f)(),this.localFrameRightWS=Object(g.f)(),this.localFrameUpWS=Object(g.f)(),this.worldToLocalTransform=Object(M.b)(),this.localToWorldTransform=Object(M.b)(),this.scale=1,this.scale=e.resolution,this.referenceMapPoint=t,this.defaultZ=t.hasZ?t.z:null;const n=e.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,C.a.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,C.a.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,C.a.Z,this.tangentFrameForwardWS);const i=Object(g.f)();Object(y.p)(i,this.tangentFrameForwardWS,Object(y.n)(n,this.tangentFrameForwardWS)),Object(y.k)(this.localFrameRightWS,n,i),Object(y.w)(this.localFrameRightWS,this.localFrameRightWS),Object(y.o)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),Object(T.h)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),Object(T.d)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(e,t){return E(e,t,this.defaultZ)}mapToLocal(e){const t=Object(g.f)();this.view.renderCoordsHelper.toRenderCoords(new P.a({x:e[0],y:e[1],spatialReference:this.spatialReference}),t),Object(y.z)(t,t,this.worldToLocalTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(t,this.view.spatialReference);return Object(l.l)(n)?R(n.x/this.scale,n.y/this.scale):null}localToMap(e){const t=Object(g.f)();this.view.renderCoordsHelper.toRenderCoords(new P.a({x:e.x*this.scale,y:e.y*this.scale,spatialReference:this.spatialReference}),t),Object(y.z)(t,t,this.localToWorldTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(t,this.view.spatialReference);return Object(l.l)(n)?E(n.x,n.y,this.defaultZ):null}}function k(e,t){if("2d"===e.type)return new V(e.state.transform,e.spatialReference,t.length>2?t[2]:null);if("3d"===e.type){const n=t.length>2?new P.a({x:t[0],y:t[1],z:t[2],spatialReference:e.spatialReference}):new P.a({x:t[0],y:t[1],spatialReference:e.spatialReference});return new G(e,n)}return null}var z=n(354),L=n(250),D=n(180);function A(e,t){const n=new P.a({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(n.z=e[2]),n}function F(e,t,n){const i=new L.a({paths:e,spatialReference:t});return n&&Object(x.l)(i),i}function H(e,t,n,i=!0){const r=Object(O.a)(e);r.forEach((e=>{const t=e[0],n=e[e.length-1];Object(d.e)(t,n)&&1!==e.length||e.push(e[0])}));let a=new D.a({rings:r,spatialReference:t});return a.rings.forEach((e=>{Object(x.j)(e,!1,!1)||e.reverse()})),n&&Object(x.l)(a),i&&a.isSelfIntersecting&&Object(_.l)(t)&&(a=Object(j.simplify)(a)),a}function Z(e,t,n){const i=t.mapToLocalMultiple(e),r=[],a={x:i[0].x,y:i[0].y},o=i[1].x,s=i[1].y,c=Math.round(o-a.x),p=Math.round(s-a.y),u=Math.max(Math.abs(c),Math.abs(p));if(n){const e={x:a.x+u,y:a.y+u},t={x:a.x-u,y:a.y-u};r.push(R(e.x,t.y),R(t.x,t.y),R(t.x,e.y),R(e.x,e.y))}else{const e={x:c>0?a.x+u:a.x-u,y:p>0?a.y+u:a.y-u};r.push(R(a.x,a.y),R(e.x,a.y),R(e.x,e.y),R(a.x,e.y))}return W(H([Object(l.h)(r.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0),r,t)}function W(e,t,n){const i=B(t[3],t[2],n),r=B(t[1],t[2],n),a=B(t[0],t[1],n),o=B(t[0],t[3],n);return{geometry:e,midpoints:Object(l.l)(i)&&Object(l.l)(r)&&Object(l.l)(a)&&Object(l.l)(o)?{top:i,right:r,bottom:a,left:o}:null}}function B(e,t,n){U[0]=e.x,U[1]=e.y,U[2]=0,q[0]=t.x,q[1]=t.y,q[2]=0,Object(y.q)(U,U,q,.5),N.x=U[0],N.y=q[1],N.z=q[2];const i=n.localToMap(N);return Object(l.l)(i)?A(i,n.spatialReference):null}const N=R(0,0,0),U=Object(g.f)(),q=Object(g.f)();function X(e,t,n,i){const r=t.mapToLocalMultiple(e);let a=null,o=null;if(n)a=r[0],o=r[1];else{const e=r[0],t=r[1],n=Math.round(t.x-e.x),i=Math.round(t.y-e.y),s=Math.max(Math.abs(n),Math.abs(i));a=R(n>0?e.x+s/2:e.x-s/2,i>0?e.y+s/2:e.y-s/2),o=R(Math.abs(n)>Math.abs(i)?a.x-s/2:a.x,Math.abs(n)>Math.abs(i)?a.y:a.y-s/2)}const s=t.localToMap(a),c=t.localToMap(o);if(Object(l.k)(s)||Object(l.k)(c))return null;t.doUnnormalization&&Object(x.m)([[s,c]],t.spatialReference);const p=A(s,t.spatialReference),h=A(c,t.spatialReference),d=Object(u.f)(t.spatialReference);let b=0;if(Object(_.l)(t.spatialReference))b=d*Object(j.distance)(p,h,null);else{const e=a.x-o.x,t=a.y-o.y;b=d*Math.sqrt(e*e+t*t)*(i||1)}const m=new v.a({center:p,radius:b,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:H(m.rings,m.spatialReference,!1),center:p,edge:h}}var Y=n(1159),J=n(875),Q=n(870),K=n(1168);let $=class extends K.a{constructor(e){super(e),this.type="draw-point"}};Object(i.a)([Object(h.b)()],$.prototype,"type",void 0),Object(i.a)([Object(h.b)()],$.prototype,"elevation",void 0),$=Object(i.a)([Object(b.a)("esri.views.interactive.tooltip.DrawPointTooltipInfo")],$);let ee=class extends K.a{constructor(e){super(e),this.type="draw-polyline"}};Object(i.a)([Object(h.b)()],ee.prototype,"type",void 0),Object(i.a)([Object(h.b)()],ee.prototype,"elevation",void 0),Object(i.a)([Object(h.b)()],ee.prototype,"totalLength",void 0),Object(i.a)([Object(h.b)()],ee.prototype,"viewType",void 0),ee=Object(i.a)([Object(b.a)("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],ee);let te=class extends K.a{constructor(e){super(e),this.type="draw-polygon"}};Object(i.a)([Object(h.b)()],te.prototype,"type",void 0),Object(i.a)([Object(h.b)()],te.prototype,"elevation",void 0),Object(i.a)([Object(h.b)()],te.prototype,"area",void 0),Object(i.a)([Object(h.b)()],te.prototype,"viewType",void 0),te=Object(i.a)([Object(b.a)("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],te);let ne=class extends K.a{constructor(e){super(e),this.type="draw-rectangle",this.xSize=c.h,this.ySize=c.h,this.area=c.i}};Object(i.a)([Object(h.b)()],ne.prototype,"type",void 0),Object(i.a)([Object(h.b)()],ne.prototype,"xSize",void 0),Object(i.a)([Object(h.b)()],ne.prototype,"ySize",void 0),Object(i.a)([Object(h.b)()],ne.prototype,"area",void 0),ne=Object(i.a)([Object(b.a)("esri.views.interactive.tooltip.DrawRectangleTooltipInfo")],ne);let ie=class extends K.a{constructor(e){super(e),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=c.i}};Object(i.a)([Object(h.b)()],ie.prototype,"type",void 0),Object(i.a)([Object(h.b)()],ie.prototype,"radius",void 0),Object(i.a)([Object(h.b)()],ie.prototype,"xSize",void 0),Object(i.a)([Object(h.b)()],ie.prototype,"ySize",void 0),Object(i.a)([Object(h.b)()],ie.prototype,"area",void 0),ie=Object(i.a)([Object(b.a)("esri.views.interactive.tooltip.DrawCircleTooltipInfo")],ie);var re=n(1169),ae=n(1238),oe=n(1158);let se=class extends(Object(o.b)(a.a.EventedMixin(Y.a))){constructor(e){super(e),this._graphic=null,this._createOperationGeometry=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.labelOptions=new J.a,this.mode=null,this.snappingManager=null,this.snapToScene=!1,this.tooltip=null,this.tooltipOptions=new Q.a}initialize(){this.internalGraphicsLayer=new m.a({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on("vertex-add",(e=>this.onVertexAdd(e))),this.drawOperation.on("vertex-remove",(e=>this.onVertexRemove(e))),this.drawOperation.on("vertex-update",(e=>this.onVertexUpdate(e))),this.drawOperation.on("cursor-update",(e=>this.onCursorUpdate(e))),this.drawOperation.on("complete",(e=>this.onComplete(e))),Object(p.f)((()=>this.tooltipOptions.enabled),(e=>{this.tooltip=e?new re.a({view:this.view,info:this._tooltipInfo}):Object(l.e)(this.tooltip)}),p.e),Object(p.f)((()=>this._tooltipInfo),(e=>{Object(l.l)(this.tooltip)&&(this.tooltip.info=e)}),p.e)]),this.finishToolCreation()}destroy(){this.drawOperation=Object(l.e)(this.drawOperation),this.tooltip=Object(l.e)(this.tooltip),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=Object(l.e)(this.internalGraphicsLayer),this._set("view",null)}get _defaultElevation(){return Object(c.c)(this.defaultZ,"meters")}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set("centered",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set("enabled",e)}set forceUniformSize(e){this._set("forceUniformSize",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set("graphicSymbol",e),Object(l.l)(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new r.a({...this.graphicProperties,geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange("graphic"),this.handles.add(Object(s.c)((()=>{Object(l.l)(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=Object(l.e)(this._graphic))})),le)}_destroyAllVisualisations(){this.handles.remove(ce.outline),this.handles.remove(ce.regularVertices),this.handles.remove(ce.activeVertex),this.handles.remove(le)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,n=this.drawOperation.committedVertices,i=n.slice();Object(l.l)(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const r=Object(l.l)(t)?this.drawOperation.coordinateHelper.pointToArray(t):n.splice(-1)[0],a={regularVertices:null,activeVertex:null,full:null,outline:null,circle:null,rectangle:null},o=i.length,s=this.view.spatialReference,c="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case"point":a.regularVertices=n,a.activeVertex=r,a.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case"multipoint":a.regularVertices=n,a.activeVertex=r,o>0&&(a.full=function(e,t){return new z.a({points:e,spatialReference:t})}(i,s));break;case"polyline":a.regularVertices=n,a.activeVertex=r,o>0&&(a.full=F([i],s,c));break;case"polygon":a.regularVertices=n,a.activeVertex=r,o>0&&(a.full=H([i],s,c,!0));break;case"circle":if(o>0){const t=k(this.view,i[0]);if(1===o&&e.operationComplete){const e=i[0],n=t.makeMapPoint(e[0]+ue*this.view.resolution,e[1]);a.circle=X([e,n],t,!0),a.full=Object(l.l)(a.circle)?a.circle.geometry:null}else 2===o&&(this.forceUniformSize?(a.circle=X(i,t,this.centered),a.full=Object(l.l)(a.circle)?a.circle.geometry:null):(a.rectangle=function(e,t,n){const i=t.mapToLocalMultiple(e),r=i[0],a=i[1],o=Math.round(a.x-r.x),s=Math.round(a.y-r.y),c=R(n?r.x:r.x+o/2,n?r.y:r.y+s/2),p=n?o:o/2,u=n?s:s/2,h=[],d=2*Math.PI/60;function b(e){const t=Math.cos(e),n=Math.sin(e);return R(p*t+c.x,u*n+c.y)}for(let l=0;l<60;l++)h.push(b(l*d));h.push(h[0]);const{spatialReference:m,doUnnormalization:f}=t,O=H([Object(l.h)(h.map((e=>t.localToMap(e))))],m,f,!1),y=t.localToMap(b(Math.PI/2)),g=t.localToMap(b(0)),v=t.localToMap(b(-Math.PI/2)),j=t.localToMap(b(Math.PI));return{geometry:O,midpoints:Object(l.l)(y)&&Object(l.l)(g)&&Object(l.l)(v)&&Object(l.l)(j)?{top:A(y,m),right:A(g,m),bottom:A(v,m),left:A(j,m)}:null}}(i,t,this.centered),a.full=a.rectangle.geometry))}break;case"rectangle":if(o>0){const t=k(this.view,i[0]);if(1===o&&e.operationComplete){const e=i[0],n=t.makeMapPoint(e[0]+ue*this.view.resolution,e[1]);a.rectangle=Z([e,n],t,!0),a.full=a.rectangle.geometry}else 2===o&&(a.rectangle=this.forceUniformSize?Z(i,t,this.centered):function(e,t,n){let i=t.mapToLocalMultiple(e);if(1===i.length){const e=48,t=i[0];i=[R(t.x-e,t.y+e),R(t.x+e,t.y-e),R(t.x+e,t.y-e),R(t.x-e,t.y+e)]}const r=[],a={x:i[0].x,y:i[0].y},o={x:i[1].x,y:i[1].y};if(n){const e=Math.round(o.x-a.x),t=Math.round(o.y-a.y);r.push(R(a.x-e,a.y-t),R(o.x,a.y-t),R(o.x,o.y),R(a.x-e,o.y))}else r.push(R(a.x,a.y),R(o.x,a.y),R(o.x,o.y),R(a.x,o.y));return W(H([Object(l.h)(r.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0),r,t)}(i,t,this.centered),a.full=a.rectangle.geometry)}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":case"polygon":o>1&&(a.outline=F([i],s,c));break;case"circle":case"rectangle":Object(l.l)(a.full)&&"polygon"===a.full.type&&(a.outline=H(a.full.rings,s,c))}return a}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});Object(l.l)(e)&&(Object(l.k)(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full,t=Object(l.t)(this._graphic).clone())}this._createOperationGeometry=null,this.emit("complete",{graphic:t,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit("cursor-update",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit("vertex-add",e)}onVertexRemove(e){this._updateGraphic(),this.emit("vertex-remove",e)}onVertexUpdate(e){this._updateGraphic(),this.emit("vertex-update",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();this._createOperationGeometry=e,Object(l.k)(e)?this._destroyAllVisualisations():(Object(l.l)(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),ce.outline):this.handles.remove(ce.outline),Object(l.l)(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),ce.regularVertices):this.handles.remove(ce.regularVertices),Object(l.l)(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),ce.activeVertex):this.handles.remove(ce.activeVertex),Object(l.l)(e.full)?Object(l.k)(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(le))}get _tooltipInfo(){const{drawOperation:e}=this;if(!e)return null;switch(this.geometryType){case"point":return this._drawPointTooltipInfo;case"polyline":return this._drawPolylineTooltipInfo;case"polygon":return this._drawPolygonTooltipInfo;case"rectangle":return this._drawRectangleTooltipInfo;case"circle":return this._drawCircleTooltipInfo;default:return null}}get _drawPointTooltipInfo(){const e=Object(l.b)(this.graphic,(e=>e.geometry));return Object(l.k)(e)||"point"!==e.type||"2d"===this.view.type&&0===this.defaultZ?null:new $({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail})}get _drawPolylineTooltipInfo(){const e=this._createOperationGeometry,t=Object(l.l)(e)?e.full:null;if(Object(l.k)(t)||"polyline"!==t.type)return null;const n=Object(oe.f)(t,this._elevationMode);return new ee({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail,totalLength:Object(l.u)(n,c.h),viewType:this.view.type})}get _drawPolygonTooltipInfo(){const e=this._createOperationGeometry,t=Object(l.l)(e)?e.full:null;if(Object(l.k)(t)||"polygon"!==t.type)return null;const n=Object(ae.b)(t,this._elevationMode);return new te({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail,area:Object(l.u)(n,c.i),viewType:this.view.type})}get _drawRectangleTooltipInfo(){return Object(l.k)(this.drawOperation)?null:new ne({tooltipOptions:this.tooltipOptions,xSize:Object(l.u)(this._xSize,c.h),ySize:Object(l.u)(this._ySize,c.h),area:Object(l.u)(this._fullGeometryArea,c.i)})}get _drawCircleTooltipInfo(){if(Object(l.k)(this.drawOperation))return null;const e=this.forceUniformSize;return new ie({tooltipOptions:this.tooltipOptions,radius:e?Object(l.u)(this._circleRadius,c.h):null,xSize:e?null:Object(l.u)(this._xSize,c.h),ySize:e?null:Object(l.u)(this._ySize,c.h),area:Object(l.u)(this._fullGeometryArea,c.i)})}get _circleRadius(){const e=this._createOperationGeometry;return Object(l.l)(e)&&Object(l.l)(e.circle)&&Object(l.l)(e.circle.center)&&Object(l.l)(e.circle.edge)?Object(oe.d)(e.circle.center,e.circle.edge,this._elevationMode):null}get _xSize(){const e=this._createOperationGeometry;if(Object(l.k)(e)||Object(l.k)(e.rectangle))return null;const{midpoints:t}=e.rectangle;return Object(l.l)(t)?Object(oe.d)(t.left,t.right,this._elevationMode):null}get _ySize(){const e=this._createOperationGeometry;if(Object(l.k)(e)||Object(l.k)(e.rectangle))return null;const{midpoints:t}=e.rectangle;return Object(l.l)(t)?Object(oe.d)(t.top,t.bottom,this._elevationMode):null}get _fullGeometryArea(){const e=this._createOperationGeometry,t=Object(l.l)(e)?e.full:null;return Object(l.k)(t)||"polygon"!==t.type?null:Object(ae.b)(t,this._elevationMode)}get _elevationTooltipDetail(){return{mode:this.drawOperation.elevationInfo.mode,...this._vertexTooltipElevation}}get _vertexTooltipElevation(){var e;const{tooltipOptions:t,view:n,drawOperation:i}=this;if(Object(l.k)(i))return this._defaultElevation;const r=null!=(e=i.stagedVertex)?e:i.lastVertex;if(Object(l.k)(r)||"2d"===n.type)return this._defaultElevation;const a={mode:t.elevation.mode,offset:0},o=Object(f.d)(n,r,i.elevationInfo,a)*Object(u.g)(r.spatialReference);return Object(c.c)(o,"meters")}get _elevationMode(){return this.drawOperation.isDraped?"on-the-ground":"absolute-height"}};Object(i.a)([Object(h.b)()],se.prototype,"_createOperationGeometry",void 0),Object(i.a)([Object(h.b)()],se.prototype,"_defaultElevation",null),Object(i.a)([Object(h.b)({value:!0})],se.prototype,"centered",null),Object(i.a)([Object(h.b)({nonNullable:!0})],se.prototype,"defaultZ",void 0),Object(i.a)([Object(h.b)()],se.prototype,"drawOperation",void 0),Object(i.a)([Object(h.b)({value:!0})],se.prototype,"enabled",null),Object(i.a)([Object(h.b)({value:!0})],se.prototype,"forceUniformSize",null),Object(i.a)([Object(h.b)({constructOnly:!0})],se.prototype,"geometryType",void 0),Object(i.a)([Object(h.b)()],se.prototype,"graphic",null),Object(i.a)([Object(h.b)({constructOnly:!0})],se.prototype,"graphicProperties",void 0),Object(i.a)([Object(h.b)()],se.prototype,"graphicSymbol",null),Object(i.a)([Object(h.b)({constructOnly:!0})],se.prototype,"hasZ",void 0),Object(i.a)([Object(h.b)({constructOnly:!0,type:J.a})],se.prototype,"labelOptions",void 0),Object(i.a)([Object(h.b)({constructOnly:!0})],se.prototype,"mode",void 0),Object(i.a)([Object(h.b)()],se.prototype,"snappingManager",void 0),Object(i.a)([Object(h.b)()],se.prototype,"snapToScene",void 0),Object(i.a)([Object(h.b)()],se.prototype,"tooltip",void 0),Object(i.a)([Object(h.b)({constructOnly:!0,type:Q.a})],se.prototype,"tooltipOptions",void 0),Object(i.a)([Object(h.b)({readOnly:!0})],se.prototype,"type",void 0),Object(i.a)([Object(h.b)({readOnly:!0})],se.prototype,"updating",null),Object(i.a)([Object(h.b)({constructOnly:!0,nonNullable:!0})],se.prototype,"view",void 0),Object(i.a)([Object(h.b)()],se.prototype,"_tooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_drawPointTooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_drawPolylineTooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_drawPolygonTooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_drawRectangleTooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_drawCircleTooltipInfo",null),Object(i.a)([Object(h.b)()],se.prototype,"_circleRadius",null),Object(i.a)([Object(h.b)()],se.prototype,"_xSize",null),Object(i.a)([Object(h.b)()],se.prototype,"_ySize",null),Object(i.a)([Object(h.b)()],se.prototype,"_fullGeometryArea",null),Object(i.a)([Object(h.b)()],se.prototype,"_elevationTooltipDetail",null),Object(i.a)([Object(h.b)()],se.prototype,"_vertexTooltipElevation",null),Object(i.a)([Object(h.b)()],se.prototype,"_elevationMode",null),se=Object(i.a)([Object(b.a)("esri.views.draw.DrawGraphicTool")],se);const le="create-operation-graphic",ce={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function pe(e){switch(e){case"point":case"polyline":case"polygon":case"multipoint":return e;case"circle":case"rectangle":return"segment";default:return null}}const ue=48},1412:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n(0),r=n(108),a=n(243),o=n(25),s=n(2),l=n(23),c=n(13),p=n(31),u=n(1),h=(n(12),n(10)),d=n(915),b=n(127),m=n(53);const f="click";class O{constructor({grabbableForEvent:e}){this.events=new r.a,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(e,t){return 0}attach(){}detach(){}}var y=n(1264),g=n(1110),v=n(1172),j=n(1170),x=n(875),_=n(870),w=n(1135),S=n(1184),T=n(1269);let M=class extends(r.a.EventedMixin(a.a)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new S.a,this.isDraped=!0,this.labelOptions=new x.a,this.tooltipOptions=new _.a,this.snapToSceneEnabled=null,this.lastVertex=null,Object(s.k)(e.elevationInfo)&&(this.elevationInfo=Object(b.f)(e.hasZ))}initialize(){const{geometryType:e,view:t}=this,{spatialReference:n}=t,i="viewingMode"in t.state?t.state.viewingMode:m.a.Local,r="segment"===e||"multipoint"===e?"polyline":e;this.coordinateHelper=Object(y.a)(this.hasZ,this.hasM,n),this._editGeometryOperations=new j.a(new v.c(r,this.coordinateHelper)),this._snappingOperation=new T.a({view:t,constrainResult:e=>Object(s.k)(e)?e:this._getEffectiveDrawSurface().constrainZ(e)}),this.handles.add(Object(c.f)((()=>this.stagedVertex),(e=>{Object(s.k)(e)||this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:"apply",type:"vertex-update"})}),{sync:!0,equals:(e,t)=>Object(s.g)(e,t,d.b)})),this._activeComponent=new v.a(n,i),this._editGeometryOperations.data.components.push(this._activeComponent);const a=this.segmentLabels;Object(s.l)(a)&&(a.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([Object(c.f)((()=>this.labelOptions.enabled),(e=>{a.visible=e}),c.e),this.on("cursor-update",(()=>{const e=this.stagedVertex;a.stagedVertex=Object(s.l)(e)?this.coordinateHelper.pointToVector(e):null}))])),this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),n=t.map((e=>e.coordinates));switch(e.type){case"vertex-add":this.emit(e.type,{...e,added:n,vertices:t});break;case"vertex-update":this.emit(e.type,{...e,updated:n,vertices:t});break;case"vertex-remove":this.emit(e.type,{...e,removed:n,vertices:t})}const i=this._activeComponent.getLastVertex(),r=Object(s.l)(i)?this.coordinateHelper.vectorToDehydratedPoint(i.pos):null;(Object(s.k)(r)||Object(s.k)(this.lastVertex)||!Object(d.b)(this.lastVertex,r))&&(this.lastVertex=r)}))),this._manipulator=new O({grabbableForEvent:e=>"click"!==this.drawingMode||"touch"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable="point"!==e,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",(e=>this._onImmediateClick(e))),this._manipulator.events.on("immediate-double-click",(e=>this._onImmediateDoubleClick(e)))])}destroy(){Object(s.e)(this.segmentLabels),Object(s.e)(this._snappingOperation),this._editGeometryOperations=Object(s.e)(this._editGeometryOperations)}get _snappingEnabled(){return Object(s.l)(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return"3d"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set("drawingMode",null!=e?e:f)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return Object(s.l)(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get stagedVertex(){return this._snappingOperation.stagedPoint}set stagedVertex(e){this._snappingOperation.stagedPoint=Object(o.a)(e)}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return Object(s.l)(this.stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),Object(s.l)(this.stagedVertex)){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),Object(s.l)(this.snappingManager)&&this.snappingManager.doneSnapping(),"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const n="multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&this.numVertices<2||"polygon"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!n,(this.isCompleted||t)&&this.emit("complete",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:"complete"})}onInputEvent(e){switch(e.type){case"pointer-down":this._pointerDownStates.add(e.pointerId);break;case"pointer-up":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case"pointer-move":return this._onPointerMove(e);case"hold":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){Object(s.l)(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if("polygon"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(Object(s.t)(this.drawingMode)){case"click":return this._createManipulatorDragPipelineClick(e);case"freehand":return this._createManipulatorDragPipelineFreehand(e);case"hybrid":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return Object(g.e)(e,((e,t,n,i)=>{const r="touch"===i&&this._snappingEnabled;!this.isCompleted&&r&&(n=n.next((e=>(r&&Object(s.l)(this.snappingManager)&&this.snappingManager.doneSnapping(),e))),t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(this.stagedVertex=e.mapStart,("segment"===this.geometryType||r&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(Object(g.l)(this.view,this.elevationInfo)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>r,cancel:n,snappingManager:this.snappingManager,snappingContext:new w.a({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:i,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles,useZ:!this._requiresScenePoint}),this._snappingPipeline.next).next((e=>(r&&(this.stagedVertex=e.mapEnd,"end"===e.action&&this.commitStagedVertex()),e))).next((e=>("end"===e.action&&("segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),e))))}))}_createManipulatorDragPipelineFreehand(e){return Object(g.e)(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(Object(s.k)(this.stagedVertex)&&(this.stagedVertex=e.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case"start":case"update":this.stagedVertex=e.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return Object(g.e)(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(Object(s.k)(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case"start":case"update":this.stagedVertex=e.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return("segment"===this.geometryType||"polygon"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(Object(s.k)(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return Object(s.l)(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(t=!0),Object(s.l)(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),Object(s.l)(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface().mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),"click"===this.drawingMode&&"touch"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if("mouse"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,n=this._closeOnClickVertexIndex(e.screenPoint);if(Object(s.l)(n))return e.stopPropagation(),void this.complete();const i=this._screenToMap(e.screenPoint);if(Object(s.l)(i))switch(this.drawingMode){case"freehand":"point"===this.geometryType&&(Object(s.l)(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),this.complete());break;case"click":case"hybrid":this._snappingOperation.abort(),Object(s.l)(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),("point"===this.geometryType||"segment"===this.geometryType&&2===t.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=Object(p.f)(e.x,e.y),n=this._snappingOperation;if(this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return void n.abort();e.stopPropagation();const i=this._closeOnClickVertexIndex(t);if(Object(s.l)(i))return this._closeOnVertex(i),void n.abort();const r=this._screenToMap(t),a=this._requiresScenePoint?this.drawSurface.screenToMap(t):null;if(this._manipulator.cursor=Object(s.l)(r)?"crosshair":null,Object(s.k)(r))return void n.abort();const o=this.snappingManager;if(Object(s.k)(o))return this.stagedVertex=r,void n.abort();const c=this._drawAtFixedElevation?Object(s.b)(this.elevationDrawSurface,(({defaultZ:e})=>e)):null,u=new w.a({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer,selfSnappingZ:Object(s.l)(c)?{value:c,elevationInfo:this.elevationInfo}:null});this.updatingHandles.addPromise(Object(l.i)(n.snap({point:r,scenePoint:a},o,u)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit("cursor-update",{updated:null,vertices:[t],operation:"apply",type:"vertex-update"})}_screenToMap(e){return this._getEffectiveDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if("start"===t.action&&(e=this._screenToMap(t.screenStart)),Object(s.k)(e))return null;const n=this._screenToMap(t.screenEnd);return Object(s.l)(n)?{...t,mapStart:e,mapEnd:n}:null}}_vertexWithinPointerDistance(e,t){const n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!Object(s.l)(n)&&function(e,t,n){const i=e.x-t.x,r=e.y-t.y;return i*i+r*r<=n}(n,t,25)}};Object(i.a)([Object(u.b)()],M.prototype,"_snappingEnabled",null),Object(i.a)([Object(u.b)()],M.prototype,"defaultZ",void 0),Object(i.a)([Object(u.b)()],M.prototype,"isDraped",void 0),Object(i.a)([Object(u.b)({value:f})],M.prototype,"drawingMode",null),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"elevationDrawSurface",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"elevationInfo",void 0),Object(i.a)([Object(u.b)({constructOnly:!0,type:x.a})],M.prototype,"labelOptions",void 0),Object(i.a)([Object(u.b)({constructOnly:!0,type:_.a})],M.prototype,"tooltipOptions",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"geometryType",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"hasM",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"hasZ",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"manipulators",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"drawSurface",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"segmentLabels",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"snappingManager",void 0),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"snappingVisualizer",void 0),Object(i.a)([Object(u.b)()],M.prototype,"snapToSceneEnabled",void 0),Object(i.a)([Object(u.b)()],M.prototype,"_snappingOperation",void 0),Object(i.a)([Object(u.b)()],M.prototype,"stagedVertex",null),Object(i.a)([Object(u.b)()],M.prototype,"lastVertex",void 0),Object(i.a)([Object(u.b)()],M.prototype,"updating",null),Object(i.a)([Object(u.b)({constructOnly:!0})],M.prototype,"view",void 0),M=Object(i.a)([Object(h.a)("esri.views.draw.DrawOperation")],M)},1650:function(e,t,n){"use strict";n.r(t),n.d(t,"DrawGraphicTool2D",(function(){return v}));var i=n(0),r=(n(167),n(171)),a=n(226),o=n(2),s=n(1),l=(n(17),n(12),n(10)),c=n(1377),p=(n(106),n(428)),u=n(221);const h=new p.a({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),d=new u.a({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),b=new u.a({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});var m=n(1410),f=n(1412),O=n(1378),y=n(62),g=n(354);let v=class extends m.a{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:Object(o.u)(e.activeLineSymbol,h),regularVertices:Object(o.u)(e.regularVerticesSymbol,d),activeVertex:Object(o.u)(e.activeVertexSymbol,b),fill:Object(o.t)(e.activeFillSymbol)}}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return Object(o.l)(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:n}=this;return new f.a({view:n,manipulators:this.manipulators,geometryType:Object(m.b)(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new O.b(n,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c.a(this.internalGraphicsLayer),tooltipOptions:this.tooltipOptions})}onActiveVertexChanged(e){if("point"===this.geometryType)return null;const[t,n]=e,i=new y.a({x:t,y:n,spatialReference:this.view.spatialReference});return Object(o.l)(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=i,null):(this._visualElementGraphics.activeVertex=new r.a({geometry:i,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(j),Object(a.c)((()=>{Object(o.l)(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=Object(o.e)(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const t=e.clone();if("polyline"===t.type){const e=t.paths[t.paths.length-1];e.splice(0,e.length-2)}return Object(o.l)(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=t,null):(this._visualElementGraphics.outline=new r.a({geometry:t,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(j),Object(a.c)((()=>{Object(o.l)(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=Object(o.e)(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const t=new g.a({points:e,spatialReference:this.view.spatialReference});return Object(o.l)(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=t,null):(this._visualElementGraphics.regularVertices=new r.a({geometry:t,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(j),Object(a.c)((()=>{Object(o.l)(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=Object(o.e)(this._visualElementGraphics.regularVertices))})))}};function j(e,t){var n,i,r,a;return(null!=(n=null==(i=e.attributes)?void 0:i.displayOrder)?n:-1/0)-(null!=(r=null==(a=t.attributes)?void 0:a.displayOrder)?r:-1/0)}Object(i.a)([Object(s.b)()],v.prototype,"activeFillSymbol",void 0),Object(i.a)([Object(s.b)({readOnly:!0})],v.prototype,"type",void 0),Object(i.a)([Object(s.b)({constructOnly:!0,nonNullable:!0})],v.prototype,"view",void 0),v=Object(i.a)([Object(l.a)("esri.views.2d.interactive.draw.DrawGraphicTool2D")],v)}}]);
//# sourceMappingURL=22.05946683.chunk.js.map
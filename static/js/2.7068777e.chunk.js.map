{"version":3,"sources":["../node_modules/@arcgis/core/core/quantityUtils.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../node_modules/@arcgis/core/views/interactive/editGeometry/unnormalizationHelper.js","../node_modules/@arcgis/core/views/support/measurementUtils.js","../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/interfaces.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js"],"names":["r","t","u","type","n","value","unit","a","o","c","e","rotationType","v","p","y","j","U","g","i","L","M","w","l","m","q","h","x","F","f","V","d","S","k","b","D","I","z","s","A","R","constructor","this","_editGeometry","_component","_pos","_addedVertex","_originalEdge","_left","_right","apply","getLastVertex","vertices","push","pos","index","rightEdge","rightVertex","edges","splice","indexOf","leftEdge","updateVertexIndex","notifyChanges","operation","addedVertices","undo","leftVertex","removedVertices","accumulate","_vertices","_minNumberOfVertices","forEach","_removeVertex","removedVertex","_undoRemoveVertex","component","length","createdEdge","swapVertices","_edge","_t","createdVertex","coordinateHelper","lerp","createVector","unshift","_vertex","_originalPosition","_apply","updatedVertices","components","unnormalizeVertexPositions","_createdEdge","getFirstVertex","isClosed","_operations","_closed","close","super","data","_undoStack","_redoStack","_listener","on","emit","destroy","remove","splitEdge","updateVertices","ACCUMULATE_STEPS","moveVertices","scaleVertices","CUMULATIVE","rotateVertices","removeVertices","_minNumVerticesPerType","appendVertex","setVertexPosition","offsetEdge","closeComponent","includes","canRemoveVertex","createUndoGroup","_","pop","redo","canUndo","canRedo","lastOperation","NEW_STEP","static","fromGeometry","_spatialReference","_viewingMode","supported","upperBoundX","lowerBoundX","Math","min","max","Global","valid","iterateVertices","_geometry","_dirty","geometry","_toPoint","_toPolyline","_toPolygon","spatialReference","vectorToPoint","vectorToArray","find","paths","hasZ","hasM","rings","arrayToVector","pointToVector","Z","_tag","pointToArray","arrayToPoint","vectorToDehydratedPoint","addDelta","distance","getZ","getM","clone","copy","fromXYZ","toXYZ","equals","_valueType","T","_undone","canAccumulate","accumulateParams","REPLACE","E","_helper","dx","dy","dz","_move","P","IMMEDIATE","_planeType","_plane","_offsetPlane","_minDistance","_maxDistance","_selectedArrow","_initialize","plane","requiresSplitEdgeLeft","isOriginalDirection","requiresSplitEdgeRight","edgeDirection","_edgeDirection","_initializeNeighbors","_initializePlane","_initializeDistanceConstraints","_toXYZ","_computeNeighbor","_pointToXYZ","start","end","direction","_passesBisectingAngleThreshold","_bisectVectorsPerpendicular","abs","X","PI","_bisectDirection","_computeNormalDirection","XY","_updateDistanceConstraint","_updateIntersectDistanceConstraint","_pointInBasis2D","N","LINE","Y","_offset","Number","isFinite","selectArrowFromStartPoint","selectedArrow","signedDistanceToPoint","_maybeEqualsVec3","DEFERRED","_cloneNeighbor","XYZ","origin","angle","_accumulationType","_rotate","axis1","factor1","factor2","axis2","_scale"],"mappings":"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","file":"static/js/2.7068777e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"./maybe.js\";import{unitType as n,isBaseUnit as u,convertUnit as e,baseUnitForUnit as i}from\"./unitUtils.js\";function r(t,u){return{type:n(u),value:t,unit:u}}function a(t,u){return{type:n(u),value:t,unit:u}}function o(t,u){return{type:n(u),value:t,unit:u}}function l(t,u){return{type:n(u),value:t,unit:u}}function c(t,u,e=\"arithmetic\"){return{type:n(u),value:t,unit:u,rotationType:e}}function f(t){return u(t.unit)}function v(t,n){return r(e(t.value,t.unit,n),n)}function s(t){return v(t,i(t.unit))}function p(n,u){return t(n)?u:t(u)||n.value>e(u.value,u.unit,n.unit)?n:u}function m(n,u){return t(n)?u:t(u)||n.value<e(u.value,u.unit,n.unit)?n:u}function y(n,u){return t(n)?null:{...n,value:n.value*u}}const j=a(0,\"meters\"),U=o(0,\"square-meters\"),b=c(0,\"radians\");export{c as createAngle,o as createArea,a as createLength,r as createQuantity,l as createVolume,f as isBaseUnit,p as max,m as min,y as scale,s as toBaseUnit,v as toUnit,j as zeroMeters,b as zeroRadians,U as zeroSquareMeters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t}from\"./maybe.js\";import{toUnit as r}from\"./quantityUtils.js\";import{formatDecimal as e,formatRelativeDecimal as a,formatMetricLength as n,formatMetricRelativeLength as u,formatMetricVerticalLength as i,formatMetricRelativeVerticalLength as c,formatMetricArea as o,formatImperialLength as l,formatImperialRelativeLength as f,formatImperialVerticalLength as m,formatImperialRelativeVerticalLength as b,formatImperialArea as s,formatDMS as v,formatAngleDegrees as p,formatRelativeAngleDegrees as h}from\"./unitFormatUtils.js\";function g(t,a,n,u=2,i=\"abbr\"){return e(t,r(a,n).value,n,u,i)}function L(t,e,n,u=2,i=\"abbr\"){return a(t,r(e,n).value,n,u,i)}function M(t,r,e=2,a=\"abbr\"){return n(t,r.value,r.unit,e,a)}function d(t,r,e=2,a=\"abbr\"){return u(t,r.value,r.unit,e,a)}function w(t,r,e=2,a=\"abbr\"){return i(t,r.value,r.unit,e,a)}function I(t,r,e=2,a=\"abbr\"){return c(t,r.value,r.unit,e,a)}function R(t,r,e=2,a=\"abbr\"){return o(t,r.value,r.unit,e,a)}function y(t,r,e=2,a=\"abbr\"){return l(t,r.value,r.unit,e,a)}function V(t,r,e=2,a=\"abbr\"){return f(t,r.value,r.unit,e,a)}function j(t,r,e=2,a=\"abbr\"){return m(t,r.value,r.unit,e,a)}function D(t,r,e=2,a=\"abbr\"){return b(t,r.value,r.unit,e,a)}function A(t,r,e=2,a=\"abbr\"){return s(t,r.value,r.unit,e,a)}function T(t){return v(t.value,t.unit)}function U(t,r,e){return p(t.value,t.unit,t.rotationType,r,e)}function q(t,r,e){return h(t.value,t.unit,t.rotationType,r,e)}function x(r,e,a,n,u=\"abbr\"){switch(n=t(n,2),a){case\"imperial\":return y(r,e,n,u);case\"metric\":return M(r,e,n,u);default:return g(r,e,a,n,u)}}function F(t,r,e,a=2,n=\"abbr\"){switch(e){case\"imperial\":return V(t,r,a,n);case\"metric\":return d(t,r,a,n);default:return L(t,r,e,a,n)}}function S(t,r,e,a=2,n=\"abbr\"){switch(e){case\"imperial\":return j(t,r,a,n);case\"metric\":return w(t,r,a,n);default:return g(t,r,e,a,n)}}function k(t,r,e,a=2,n=\"abbr\"){switch(e){case\"imperial\":return D(t,r,a,n);case\"metric\":return I(t,r,a,n);default:return L(t,r,e,a,n)}}function z(t,r,e,a=2,n=\"abbr\"){switch(e){case\"imperial\":return A(t,r,a,n);case\"metric\":return R(t,r,a,n);default:return g(t,r,e,a,n)}}export{U as formatAngle,z as formatArea,T as formatDMS,g as formatDecimal,A as formatImperialArea,y as formatImperialLength,V as formatImperialRelativeLength,D as formatImperialRelativeVerticalLength,j as formatImperialVerticalLength,x as formatLength,R as formatMetricArea,M as formatMetricLength,d as formatMetricRelativeLength,I as formatMetricRelativeVerticalLength,w as formatMetricVerticalLength,q as formatRelativeAngle,L as formatRelativeDecimal,F as formatRelativeLength,k as formatRelativeVerticalLength,S as formatVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class d{constructor(e,t,i){this._editGeometry=e,this._component=t,this._pos=i,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let d=\"redo\";e(this._addedVertex)&&(d=\"apply\",this._addedVertex=new i(this._component));const h=this._component.getLastVertex();if(e(h))this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let i=null;h.rightEdge&&(this._originalEdge=h.rightEdge,i=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,e(this._left)&&(this._left=new s(this._component,h,this._addedVertex)),this._component.edges.push(this._left),h.rightEdge=this._left,t(this._originalEdge)&&t(i)&&(e(this._right)&&(this._right=new s(this._component,this._addedVertex,i)),this._component.edges.push(this._right),i.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,h.index+1)}this._editGeometry.notifyChanges({operation:d,addedVertices:[this._addedVertex]})}undo(){e(this._addedVertex)||(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),t(this._left)&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),t(this._right)&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),t(this._originalEdge)&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),t(this._left)?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}export{d as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";if(null==this.removedVertices){const r=this.removedVertices=[];this._vertices.forEach((t=>{const i=this._removeVertex(t);e(i)&&r.push(i)})),t=\"apply\"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:t,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:\"undo\",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.leftEdge,d=e.rightEdge;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===e.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new t(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Vertex as t,Edge as i}from\"../EditGeometry.js\";class r{constructor(e,t,i){this._editGeometry=e,this._edge=t,this._t=i,this.createdVertex=null,this._left=null,this._right=null}apply(){let r=\"redo\";const s=this._edge,d=s.component,h=s.leftVertex,g=s.rightVertex;d.edges.splice(d.edges.indexOf(s),1),e(this.createdVertex)&&(r=\"apply\",this.createdVertex=new t(s.component)),d.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(s.leftVertex.pos,s.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),e(this._left)&&(this._left=new i(d,h,this.createdVertex)),this._left.leftVertex.leftEdge?d.edges.push(this._left):d.edges.unshift(this._left),h.rightEdge=this._left,e(this._right)&&(this._right=new i(d,this.createdVertex,g)),d.edges.push(this._right),g.leftEdge=this._right,d.updateVertexIndex(this.createdVertex,h.index+1),this._editGeometry.notifyChanges({operation:r,addedVertices:[this.createdVertex]})}undo(){if(e(this.createdVertex)||e(this._left)||e(this._right))return null;const t=this._edge,i=t.component,r=this.createdVertex.leftEdge,s=this.createdVertex.rightEdge,d=r?.leftVertex,h=s?.rightVertex;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this._left),1),i.edges.splice(i.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?i.edges.push(this._edge):i.edges.unshift(this._edge),d&&(d.rightEdge=t),h&&(h.leftEdge=t),d&&i.updateVertexIndex(d,d.index),this._editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.createdVertex]})}accumulate(){return!1}}export{r as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";class i{constructor(t,e,i){this._editGeometry=t,this._vertex=e,this._pos=i}apply(){const e=t(this._originalPosition);e&&(this._originalPosition=this._vertex.pos),this._apply(e?\"apply\":\"redo\")}undo(){this._vertex.pos=e(this._originalPosition),this._editGeometry.notifyChanges({operation:\"undo\",updatedVertices:[this._vertex]})}accumulate(t){return t instanceof i&&t._vertex===this._vertex&&(this._pos=t._pos,this._apply(\"apply\"),!0)}_apply(t){this._vertex.pos=this._pos,this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:[this._vertex]})}}export{i as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{Edge as r}from\"../EditGeometry.js\";class i{constructor(e,t){this._editGeometry=e,this._component=t,this._createdEdge=null}apply(){let e=\"redo\";if(t(this._createdEdge)){e=\"apply\";const i=this._component.getFirstVertex(),o=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||t(i)||t(o))return;this._createdEdge=new r(this._component,o,i)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:e})}undo(){t(this._createdEdge)||(e(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:\"undo\"}))}accumulate(){return!1}}export{i as CloseComponent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._operations=[],this._closed=!1}close(){this._closed=!0}apply(){for(const t of this._operations)t.apply()}undo(){for(let t=this._operations.length-1;t>=0;t--)this._operations[t].undo()}accumulate(t){if(this._closed)return!1;const o=this._operations.length?this._operations[this._operations.length-1]:null;return o&&o.accumulate(t)||(this._operations.push(t),t.apply()),!0}}export{t as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{isNone as t}from\"../../../core/maybe.js\";import{EditGeometry as r}from\"./EditGeometry.js\";import{AccumulationBehaviour as o}from\"./interfaces.js\";import{AppendVertex as s}from\"./operations/AppendVertex.js\";import{UpdateVertices as i,AccumulationType as n}from\"./operations/UpdateVertices.js\";import{RemoveVertices as a}from\"./operations/RemoveVertices.js\";import{SplitEdge as p}from\"./operations/SplitEdge.js\";import{SetVertexPosition as d}from\"./operations/SetVertexPosition.js\";import{CloseComponent as c}from\"./operations/CloseComponent.js\";import{MoveVertex as h}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as u}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as m}from\"./operations/RotateVertex.js\";import{ScaleVertex as l}from\"./operations/ScaleVertex.js\";import{UndoGroup as _}from\"./operations/UndoGroup.js\";class V extends e{constructor(e){super(),this.data=e,this._undoStack=[],this._redoStack=[],this._listener=this.data.on(\"change\",(e=>{e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this._listener.remove()}splitEdge(e,t){return this._apply(new p(this.data,e,t))}updateVertices(e,t,r=o.ACCUMULATE_STEPS){return this._apply(new i(this.data,e,t),r)}moveVertices(e,t,r,s,i=o.ACCUMULATE_STEPS){return this.updateVertices(e,new h(this.data.coordinateHelper,t,r,s),i)}scaleVertices(e,t,r,s,i,a=o.ACCUMULATE_STEPS,p=n.CUMULATIVE){return this.updateVertices(e,new l(t,r,s,i,p),a)}rotateVertices(e,t,r,s=o.ACCUMULATE_STEPS,i=n.CUMULATIVE){return this.updateVertices(e,new m(t,r,i),s)}removeVertices(e){return this._apply(new a(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this._apply(new s(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this._apply(new d(this.data,e,t))}offsetEdge(e,t,r,s=o.ACCUMULATE_STEPS){return this.updateVertices([t.leftVertex,t.rightVertex],new u(this.data.coordinateHelper,e,t,r),s)}closeComponent(e){return this.data.components.includes(e)?this._apply(new c(this.data,e)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new _;return this._apply(e),{remove:()=>e.close()}}undo(){if(this._undoStack.length>0){const e=this._undoStack.pop();return e.undo(),this._redoStack.push(e),e}return null}redo(){if(this._redoStack.length>0){const e=this._redoStack.pop();return e.apply(),this._undoStack.push(e),e}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}_apply(e,r=o.ACCUMULATE_STEPS){return r!==o.NEW_STEP&&!t(this.lastOperation)&&this.lastOperation.accumulate(e)||(e.apply(),this._undoStack.push(e),this._redoStack=[]),e}static fromGeometry(e,t){return new V(r.fromGeometry(e,t))}}export{V as EditGeometryOperations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Evented.js\";import{isSome as s}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import r from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";import{unnormalize as n,getUnnormalizationInfo as h}from\"./unnormalizationHelper.js\";class c{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type=\"vertex\",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class l{constructor(e,t,s){this.component=e,this.leftVertex=t,this.rightVertex=s,this.type=\"edge\",t.rightEdge=this,s.leftEdge=this}}class p{constructor(e,t){this._spatialReference=e,this._viewingMode=t,this.vertices=[],this.edges=[]}unnormalizeVertexPositions(){this.vertices.length<=1||n(this.vertices,h(this._spatialReference,this._viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const s=this.vertices[0];let i=null,r=e,o=t;do{i=r,i.index=o++,r=i.rightEdge?i.rightEdge.rightVertex:null}while(null!=r&&r!==s);i.leftEdge&&i!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(i),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const s=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=s}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let i=t;do{e(i,i.index),i=s(i.rightEdge)?i.rightEdge.rightVertex:null}while(i!==t&&null!=i)}}class g extends t{constructor(e,t){super(),this.type=e,this.coordinateHelper=t,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case\"point\":this._geometry=this._toPoint();break;case\"polyline\":this._geometry=this._toPolyline();break;case\"polygon\":this._geometry=this._toPolygon()}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(e){this._dirty=!0,this.emit(\"change\",e)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;for(const s of this.components){if(s.vertices.length<1)continue;const i=[];let r=s.vertices.find((e=>null==e.leftEdge));const o=r;do{i.push(t(r.pos)),r=r.rightEdge?r.rightEdge.rightVertex:null}while(r&&r!==o);e.push(i)}return new r({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;for(const i of this.components){if(i.vertices.length<1)continue;const r=[],o=i.vertices[0];let n=o;const h=n;do{r.push(t(n.pos)),n=s(n.rightEdge)?n.rightEdge.rightVertex:null}while(n&&n!==h);i.isClosed()&&r.push(t(o.pos)),e.push(r)}return new i({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,s){const i=t.spatialReference,r=o(t.hasZ,t.hasM,i),n=new g(t.type,r);switch(t.type){case\"polygon\":{const o=t.rings;for(let t=0;t<o.length;++t){const h=o[t],g=new p(i,s),a=h.length>2&&e(h[0],h[h.length-1]),d=a?h.length-1:h.length;for(let e=0;e<d;++e){const t=r.arrayToVector(h[e]),s=new c(g);g.vertices.push(s),s.pos=t,s.index=e}const u=g.vertices.length-1;for(let e=0;e<u;++e){const t=g.vertices[e],s=g.vertices[e+1],i=new l(g,t,s);g.edges.push(i)}if(a){const e=new l(g,g.vertices[g.vertices.length-1],g.vertices[0]);g.edges.push(e)}n.components.push(g)}break}case\"polyline\":for(const e of t.paths){const t=new p(i,s),o=e.length;for(let s=0;s<o;++s){const i=r.arrayToVector(e[s]),o=new c(t);t.vertices.push(o),o.pos=i,o.index=s}const h=t.vertices.length-1;for(let e=0;e<h;++e){const s=t.vertices[e],i=t.vertices[e+1],r=new l(t,s,i);t.edges.push(r)}n.components.push(t)}break;case\"point\":{const e=new p(i,s),o=new c(e);o.index=0,o.pos=r.pointToVector(t),e.vertices.push(o),n.components.push(e);break}}return n}}export{p as Component,l as Edge,g as EditGeometry,c as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{getInfo as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as r}from\"../../ViewingMode.js\";function e(o,r){if(!r.supported)return;let e=1/0,p=-1/0;const n=r.upperBoundX-r.lowerBoundX;o.forEach((o=>{let u=o.pos[0];for(;u<r.lowerBoundX;)u+=n;for(;u>r.upperBoundX;)u-=n;e=Math.min(e,u),p=Math.max(p,u),o.pos[0]=u}));const u=p-e;n-u<u&&o.forEach((o=>{o.pos[0]<0&&(o.pos[0]+=n)}))}function p(e,p){const n=o(e);return p===r.Global&&n?{supported:!0,lowerBoundX:n.valid[0],upperBoundX:n.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{p as getUnnormalizationInfo,e as unnormalize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{canProjectWithoutEngine as o}from\"../../geometry/projection.js\";import{getSphericalPCPF as r,SphericalECEFSpatialReference as t,WGS84ECEFSpatialReference as e}from\"../../geometry/projectionEllipsoid.js\";function i(i){const m=r(i),n=m===t?e:m;return o(i,n)?n:i}export{i as computeEuclideanMeasurementSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{l as e,d as t,c as r,o as a}from\"../../chunks/vec2.js\";import{a as s,f as n,b as i}from\"../../chunks/vec2f64.js\";import{s as o,h as u,i as c,c as h,F as p}from\"../../chunks/vec3.js\";import{c as v,f as l,d as y}from\"../../chunks/vec3f64.js\";import{l as d,c as f,h as T}from\"../../chunks/vec4.js\";import{c as _,f as m,b as Z}from\"../../chunks/vec4f64.js\";import g from\"../../geometry/Point.js\";var R;!function(e){e[e.Z=0]=\"Z\",e[e.M=1]=\"M\"}(R||(R={}));class x{constructor(e){this.spatialReference=e}createVector(){return this._tag(s())}pointToVector(e){return this._tag(n(e.x,e.y))}arrayToVector(e){return this._tag(n(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}lerp(t,r,a,s){return e(s,t,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}distance(e,r){return t(e,r)}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}clone(e){return this._tag(i(e))}copy(e,t){return r(t,e)}fromXYZ(e){return this._tag(n(e[0],e[1]))}toXYZ(e,t=v()){return o(t,e[0],e[1],0)}equals(e,t){return a(e,t)}_tag(e){return e}}class M{constructor(e,t){this._valueType=e,this.spatialReference=t}createVector(){return this._tag(v())}pointToVector(e){return this._tag(l(e.x,e.y,this._valueType===R.Z?e.z:e.m))}arrayToVector(e){return this._tag(l(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return this._valueType===R.Z?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=this._valueType===R.Z?e[2]:void 0,t.m=this._valueType===R.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=this._valueType===R.Z?e[2]:void 0,t.m=this._valueType===R.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){const r=this._valueType===R.Z,a=this._valueType===R.M;return t.x=e[0],t.y=e[1],t.z=r?e[2]:void 0,t.m=a?e[2]:void 0,t.hasZ=r,t.hasM=a,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return u(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,this._valueType===R.Z&&(e[2]+=a)}distance(e,r){return this._valueType===R.Z?c(e,r):t(e,r)}getZ(e,t){return this._valueType===R.Z?e[2]:t}hasZ(){return this._valueType===R.Z}getM(e,t){return this._valueType===R.M?e[2]:t}hasM(){return this._valueType===R.M}clone(e){return this._tag(y(e))}copy(e,t){return h(t,e)}fromXYZ(e,t=0,r=0){return this._tag(l(e[0],e[1],this._valueType===R.Z?e.length>2?e[2]:t:r))}toXYZ(e,t=v()){return o(t,e[0],e[1],this._valueType===R.Z?e[2]:0)}equals(e,t){return p(e,t)}_tag(e){return e}}class z{constructor(e){this.spatialReference=e}createVector(){return this._tag(_())}pointToVector(e){return this._tag(m(e.x,e.y,e.z,e.m))}arrayToVector(e){return this._tag(m(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new g){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return d(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}distance(e,t){return c(e,t)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this._tag(Z(e))}copy(e,t){return f(t,e)}fromXYZ(e,t=0,r=0){return this._tag(m(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e,t=v()){return o(t,e[0],e[1],e[2])}equals(e,t){return T(e,t)}_tag(e){return e}}function w(e,t,r){return e&&t?new z(r):t?new M(R.M,r):e?new M(R.Z,r):new x(r)}export{x as CoordinateHelper2D,M as CoordinateHelper3D,z as CoordinateHelper4D,w as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i){this._editGeometry=t,this._vertices=e,this.operation=i,this._undone=!1}apply(){this._vertices.forEach((t=>this.operation.apply(t))),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:this._undone?\"redo\":\"apply\",updatedVertices:this._vertices})}undo(){this._vertices.forEach((t=>this.operation.undo(t))),this._editGeometry.notifyChanges({operation:\"undo\",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(t){if(this._undone||t._vertices.length!==this._vertices.length)return!1;for(let e=0;e<t._vertices.length;++e)if(t._vertices[e]!==this._vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(e){return!!(e instanceof t&&this.canAccumulate(e))&&(this._vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:\"apply\",updatedVertices:this._vertices}),!0)}}var e;!function(t){t[t.CUMULATIVE=0]=\"CUMULATIVE\",t[t.REPLACE=1]=\"REPLACE\"}(e||(e={}));export{e as AccumulationType,t as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.NEW_STEP=0]=\"NEW_STEP\",E[E.ACCUMULATE_STEPS=1]=\"ACCUMULATE_STEPS\"}(E||(E={}));export{E as AccumulationBehaviour};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,d,h){this._helper=t,this.dx=s,this.dy=d,this.dz=h}_move(t,s,d,h){this._helper.addDelta(t.pos,s,d,h)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(s){return s instanceof t}accumulate(t,s){this._move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{t as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as i,isNone as e}from\"../../../../core/maybe.js\";import{a as s,f as n,h as r}from\"../../../../chunks/vec2.js\";import{a as h}from\"../../../../chunks/vec2f64.js\";import{r as o,e as a,o as _,f as c,n as l,a as p,g as d,F as g,c as f}from\"../../../../chunks/vec3.js\";import{c as m,f as u}from\"../../../../chunks/vec3f64.js\";import{create as D,fromPositionAndNormal as E,signedDistance as x,copy as b,isPointInside as I,normal as V,intersectLine as M}from\"../../../../geometry/support/plane.js\";import{angle as X,projectPointSignedLength as Y}from\"../../../../geometry/support/vector.js\";import{intersectLineAndRay as N,LineType as y}from\"../../../support/geometry2dUtils.js\";class P{constructor(t,i,e,s=0,n=j.IMMEDIATE){this._helper=t,this._planeType=i,this._edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,n===j.IMMEDIATE&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const t=this._toXYZ(this._edge.leftVertex.pos),i=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),e=this._toXYZ(this._edge.rightVertex.pos),s=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=o(m(),t,e),this._left=this._computeNeighbor(t,i,this._edgeDirection),this._right=this._computeNeighbor(e,s,this._edgeDirection)}_toXYZ(t){return i(t)?this._helper.toXYZ(t):null}_pointToXYZ(t){return this._toXYZ(this._helper.pointToVector(t))}_computeNeighbor(t,i,s){if(e(i))return{start:t,end:i,direction:u(-s[1],s[0],0),isOriginalDirection:!0};const n=o(m(),t,i),r=!this._passesBisectingAngleThreshold(n,s);return{start:t,end:i,direction:r?this._bisectVectorsPerpendicular(s,n):n,isOriginalDirection:!r}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(X(i,t));return e>=T&&e<=Math.PI-T}_bisectVectorsPerpendicular(t,i){const e=a(t,i)<0?t:_(m(),t),s=Math.abs(a(e,i));if(!(s<Z||s>1-Z))return this._bisectDirection(e,i);const n=c(m(),e,[0,0,1]);return l(n,n)}_bisectDirection(t,i){const e=p(m(),t,i);return l(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);a(t,i)<0&&_(i,i),E(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=c(m(),t.direction,this._edgeDirection);l(i,i);const e=c(m(),this._edgeDirection,i);return this._planeType===A.XY&&(e[2]=0),l(e,e)}_initializeDistanceConstraints(){i(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(x(this._plane,this._left.end)),i(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(x(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=V(t),e=this._edgeDirection,o=p(m(),this._left.start,this._left.direction),a=p(m(),this._right.start,this._right.direction),_=this._pointInBasis2D(h(),i,e,this._left.start),c=this._pointInBasis2D(h(),i,e,o),l=this._pointInBasis2D(h(),i,e,this._right.start),g=this._pointInBasis2D(h(),i,e,a),[f]=N({start:c,end:_,type:y.LINE},{start:g,end:l,type:y.LINE});if(!f)return;const u=s(h(),_,c);n(u,u);const D=s(h(),f,c),E=r(u,D),b=p(m(),o,d(m(),this._left.direction,-E)),I=x(t,b);this._updateDistanceConstraint(I)}_pointInBasis2D(t,i,e,s){return t[0]=Y(i,s),t[1]=Y(e,s),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),b(this._offsetPlane,this._plane),this._offsetPlane[3]-=e;const s=(t,e,s)=>i(e)&&M(this._offsetPlane,t,p(m(),t,e),s),n=m();(t===this._edge.leftVertex?s(this._left.start,this._left.direction,n):s(this._right.start,this._right.direction,n))&&this._helper.copy(this._helper.fromXYZ(n,void 0,this._helper.getM(t.pos)),t.pos)}selectArrowFromStartPoint(t){this._selectedArrow=I(this.plane,this._pointToXYZ(t))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(t){return x(this.plane,this._pointToXYZ(t))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof P&&this._edge.leftVertex.index===t._edge.leftVertex.index&&this._edge.rightVertex.index===t._edge.rightVertex.index&&this._edge.component===t._edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&g(V(this._plane),V(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new P(this._helper,this._planeType,this._edge,this.distance,j.DEFERRED);return b(t._plane,this._plane),b(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=f(m(),this._edgeDirection),t}_maybeEqualsVec3(t,s){return e(t)&&e(s)||i(t)&&i(s)&&g(t,s)}_cloneNeighbor({start:t,end:e,direction:s,isOriginalDirection:n}){return{start:f(m(),t),end:i(e)?f(m(),e):null,direction:f(m(),s),isOriginalDirection:n}}}const T=t(15),Z=.001;var A,j;!function(t){t[t.XYZ=0]=\"XYZ\",t[t.XY=1]=\"XY\"}(A||(A={})),function(t){t[t.IMMEDIATE=0]=\"IMMEDIATE\",t[t.DEFERRED=1]=\"DEFERRED\"}(j||(j={}));export{P as OffsetEdgeVertex,A as PlaneType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{r as a}from\"../../../../chunks/vec2.js\";import{AccumulationType as i}from\"./UpdateVertices.js\";class s{constructor(t,a,s=i.CUMULATIVE){this.origin=t,this.angle=a,this._accumulationType=s}_rotate(t,i){a(t.pos,t.pos,this.origin,i)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(a){return a instanceof s&&t(this.origin,a.origin)}accumulate(t,a){const s=a._accumulationType===i.REPLACE;this._rotate(t,s?a.angle-this.angle:a.angle)}accumulateParams(t){const a=t._accumulationType===i.REPLACE;this.angle=a?t.angle:this.angle+t.angle}}export{s as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{f as s}from\"../../../../chunks/vec2f64.js\";import{u as a}from\"../../../../chunks/vec2.js\";import{AccumulationType as i}from\"./UpdateVertices.js\";class c{constructor(t,a,c,o,r=i.CUMULATIVE){this.origin=t,this.axis1=a,this.factor1=c,this.factor2=o,this._accumulationType=r,this.axis2=s(a[1],-a[0])}_scale(t,s,i){a(t.pos,t.pos,this.origin,this.axis1,s),a(t.pos,t.pos,this.origin,this.axis2,i)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof c&&t(this.origin,s.origin)&&t(this.axis1,s.axis1)}accumulate(t,s){s._accumulationType===i.REPLACE?this._scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this._scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=t._accumulationType===i.REPLACE;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}export{c as ScaleVertex};\n"],"sourceRoot":""}
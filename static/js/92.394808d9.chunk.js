(this["webpackJsonppopulation-arcgis"]=this["webpackJsonppopulation-arcgis"]||[]).push([[92],{1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return w}));var r=n(16),i=n(447),o=n(295),a=n(99);const s={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function l(e){return s[e]}function*c(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function p(e){for(const t of e)if(t.length>2)return!0;return!1}function d(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function f(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)g(e,r,n);return e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){b(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return O(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;b(e,r[0],n);for(let i=1;i<r.length;i++)m(e,r[i],n);return e}(e,t,n)}}function b(e,t,n){const r=y(t);!function(e){return!d(e)}(r)?g(e,r,n):h(e,r,n)}function m(e,t,n){const r=y(t);!function(e){return d(e)}(r)?g(e,r,n):h(e,r,n)}function g(e,t,n){for(const r of t)O(e,r,n);e.lengths.push(t.length)}function h(e,t,n){for(let r=t.length-1;r>=0;r--)O(e,t[r],n);e.lengths.push(t.length)}function O(e,t,n){const[r,i,o]=t;e.coords.push(r,i),n.hasZ&&e.coords.push(o||0)}function j(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function w(e){if(!e)throw new r.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!i.test(n))throw new r.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function v(e,t={}){var n;const r=[],i=new Set,o=new Set;let s,d=!1,y=null,f=!1,{geometryType:b=null}=t,m=!1;for(const h of c(e)){const{geometry:e,properties:t,id:n}=h;if((!e||(b||(b=l(e.type)),l(e.type)===b))&&(d||(d=p(u(e))),f||(f=null!=n,f&&(s=typeof n,y=Object.keys(t).filter((e=>t[e]===n)))),f&&null!=n&&(y.length>1?y=y.filter((e=>t[e]===n)):1===y.length&&(y=t[y[0]]===n?y:[])),!m&&t)){let e=!0;for(const n in t){if(i.has(n))continue;const s=t[n];if(null==s){e=!1,o.add(n);continue}const l=j(s);"unknown"!==l?(o.delete(n),i.add(n),r.push({name:Object(a.t)(n),alias:n,type:l})):o.add(n)}m=e}}const g=Object(a.t)(1===(null==(n=y)?void 0:n.length)&&y[0]||null);if(g)for(const l of r)if(l.name===g&&Object(a.q)(l)){l.type="esriFieldTypeOID";break}return{fields:r,geometryType:b,hasZ:d,objectIdFieldName:g,objectIdFieldType:s,unknownFields:Array.from(o)}}function F(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const s of e){var a;const{geometry:e,properties:c,id:u}=s;if(e&&l(e.type)!==n)continue;const p=c||{};let d=null!=(a=p[r])?a:null;r&&null!=u&&!p[r]&&(p[r]=d=u);const y=new i.a(e?f(new o.a,e,t):null,p,null,d);yield y}}(c(e),t))}},1255:function(e,t,n){"use strict";function r(e,t){if(e&&t)for(const n of e.children)if(n.localName in t){const e=t[n.localName];if("function"==typeof e){const t=e(n);t&&r(n,t)}else r(n,e)}}function*i(e,t){for(const n of e.children)if(n.localName in t){const e=t[n.localName];"function"==typeof e?yield e(n):yield*i(n,e)}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},1316:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return G}));n(167);var r=n(134),i=n(16),o=n(567),a=n(2),s=n(23),l=n(44),c=n(40),u=n(47),p=n(323),d=n(1152);function y(e){var t;return null!=(t=function(e){var t,n,r,i;const o=f.exec(e);if(null==o||!o.groups)return null;const a=o.groups,s=+a.year,l=+a.month-1,c=+a.day,u=+(null!=(t=a.hours)?t:"0"),p=+(null!=(n=a.minutes)?n:"0"),d=+(null!=(r=a.seconds)?r:"0");if(u>23)return null;if(p>59)return null;if(d>59)return null;const y=null!=(i=a.ms)?i:"0",b=y?+y.padEnd(3,"0").substring(0,3):0;let m;if(a.isUTC)m=Date.UTC(s,l,c,u,p,d,b);else if(a.offsetSign){const e=+a.offsetHours,t=+a.offsetMinutes;m=6e4*("+"===a.offsetSign?-1:1)*(60*e+t)+Date.UTC(s,l,c,u,p,d,b)}else m=new Date(s,l,c,u,p,d,b).getTime();return Number.isNaN(m)?null:m}(e))?t:function(e){const t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}const f=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;var b=n(1255),m=n(448),g=n(57),h=n(86);const O="xlink:href",j="2.0.0",w="__esri_wfs_id__",v="wfs-layer:getWFSLayerTypeInfo-error",F="wfs-layer:empty-service",S="wfs-layer:feature-type-not-found",T="wfs-layer:unknown-geometry-type",x="wfs-layer:unknown-field-type",P="wfs-layer:unsupported-spatial-reference",C="wfs-layer:unsupported-wfs-version";async function I(e,t){const n=function(e){const t=M(e);(function(e){var t;const n=null==(t=e.firstElementChild)?void 0:t.getAttribute("version");if(n&&n!==j)throw new i.a(C,`Unsupported WFS version ${n}. Supported version: ${j}`)})(t),_(t);const n=t.firstElementChild,r=Object(o.a)(function(e){return Object(b.a)(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},n=new Set([4326]),r=e=>{var t,r,i,o;const a=parseInt(null!=(t=null==(r=e.textContent)||null==(i=r.match(/(?<wkid>\d+$)/i))||null==(o=i.groups)?void 0:o.wkid)?t:"",10);Number.isNaN(a)||n.add(a)};return Object(b.b)(e,{Name:e=>{const{name:n,prefix:r}=J(e.textContent);t.typeName=`${r}:${n}`,t.name=n,t.namespacePrefix=r,t.namespaceUri=e.lookupNamespaceURI(r)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=function(e){let t,n,r,i;for(const o of e.children)switch(o.localName){case"LowerCorner":[t,n]=o.textContent.split(" ").map((e=>Number.parseFloat(e)));break;case"UpperCorner":[r,i]=o.textContent.split(" ").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:n,xmax:r,ymax:i,spatialReference:u.b}}(e)},DefaultSRS:r,DefaultCRS:r,OtherSRS:r,OtherCRS:r}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...n),t}}})}(n));return{operations:R(n),get featureTypes(){return Array.from(r())},readFeatureTypes:r}}((await Object(r.default)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:j,...null==t?void 0:t.customParameters},signal:null==t?void 0:t.signal})).data);return function(e,t){Object(l.x)(e)&&(Object(l.s)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=Object(l.M)(t.operations.DescribeFeatureType.url)),Object(l.s)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=Object(l.M)(t.operations.GetFeature.url)))}(e,n),n}const N=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function R(e){let t=!1;const n={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if(Object(b.b)(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(O)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(O)}}}};case"GetFeature":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(O)}}},Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:e=>{const t=e.textContent;t&&N.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:e=>{t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:e=>{n.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new i.a("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(Object(a.k)(n.GetFeature.outputFormat))throw new i.a("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return n}function k(e,t,n){return Object(o.b)(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function E(e,t,n,r={}){var o;const{featureType:l,extent:p}=await async function(e,t,n,r={}){const{spatialReference:o=g.a.WGS84}=r,s=e.readFeatureTypes(),l=t?k(s,t,n):s.next().value;if(Object(a.k)(l))throw t?new i.a(S,`The type '${t}' could not be found in the service`):new i.a(F,"The service is empty");let p=new h.a({...l.extent,spatialReference:o});if(!Object(u.d)(o,u.b))try{await Object(c.g)(u.b,o,void 0,r),p=Object(c.m)(p,u.b)}catch{throw new i.a(P,"Projection not supported")}return{extent:p,spatialReference:o,featureType:l}}(e,t,n,r),{fields:d,geometryType:y,swapXY:f,objectIdField:b,geometryField:m}=await async function(e,t,n={}){var r,o,l,c,u;const[p,d]=await Object(s.g)([q(e.operations.DescribeFeatureType.url,t,n),U(e,t,n)]);if(p.error||d.error)throw new i.a(v,`An error occurred while getting info about the feature type '${t}'`,{error:p.error||d.error});const{fields:y,errors:f}=null!=(r=p.value)?r:{},b=(null==(o=p.value)?void 0:o.geometryType)||(null==(l=d.value)?void 0:l.geometryType),m=null!=(c=null==(u=d.value)?void 0:u.swapXY)&&c;if(Object(a.k)(b))throw new i.a(T,`The geometry type could not be determined for type '${t}`,{typeName:t,geometryType:b,fields:y,errors:f});return{...G(null!=y?y:[]),geometryType:b,swapXY:m}}(e,l.typeName,r);return{url:e.operations.GetCapabilities.url,name:l.name,namespaceUri:l.namespaceUri,fields:d,geometryField:m,geometryType:y,objectIdField:b,spatialReference:null!=(o=r.spatialReference)?o:g.a.WGS84,extent:p,swapXY:f,wfsCapabilities:e,customParameters:r.customParameters}}function G(e){var t;const n=e.find((e=>"geometry"===e.type));let r=e.find((e=>"oid"===e.type));return e=e.filter((e=>"geometry"!==e.type)),r||(r=new m.a({name:w,type:"oid",alias:w}),e.unshift(r)),{geometryField:null!=(t=null==n?void 0:n.name)?t:null,objectIdField:r.name,fields:e}}async function U(e,t,n={}){var i;let o,a=!1;const[s,l]=await Promise.all([A(e.operations.GetFeature.url,t,e.operations.GetFeature.outputFormat,{...n,count:1}),Object(r.default)(e.operations.GetFeature.url,{responseType:"text",query:L(t,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),c="FeatureCollection"===s.type&&(null==(i=s.features[0])?void 0:i.geometry);if(c){let e;switch(o=p.a.fromJSON(Object(d.b)(c.type)),c.type){case"Point":e=c.coordinates;break;case"LineString":case"MultiPoint":e=c.coordinates[0];break;case"MultiLineString":case"Polygon":e=c.coordinates[0][0];break;case"MultiPolygon":e=c.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(l.data);if(t){const n=e[0].toFixed(3),r=e[1].toFixed(3),i=parseFloat(t[1]).toFixed(3);n===parseFloat(t[2]).toFixed(3)&&r===i&&(a=!0)}}return{geometryType:o,swapXY:a}}async function q(e,t,n){return function(e,t){const{name:n}=J(e),r=M(t);_(r);const s=Object(o.b)(Object(b.a)(r.firstElementChild,{element:e=>({name:e.getAttribute("name"),typeName:J(e.getAttribute("type")).name})}),(({name:e})=>e===n));if(Object(a.l)(s)){const e=Object(o.b)(Object(b.a)(r.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute("name")===s.typeName));if(Object(a.l)(e))return function(e){var t,n;const r=[],o=[];let a;const s=Object(b.a)(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const l of s){const s=l.getAttribute("name");if(!s)continue;let c,u;if(l.hasAttribute("type")?c=J(l.getAttribute("type")).name:Object(b.b)(l,{simpleType:{restriction:e=>(c=J(e.getAttribute("base")).name,{maxLength:e=>{u=+e.getAttribute("value")}})}}),!c)continue;const p="true"===l.getAttribute("nillable");let d=!1;switch(c.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":o.push(new m.a({name:s,alias:s,type:"integer",nullable:p}));break;case"float":case"double":case"decimal":o.push(new m.a({name:s,alias:s,type:"double",nullable:p}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":o.push(new m.a({name:s,alias:s,type:"string",nullable:p,length:null!=(t=u)?t:255}));break;case"datetime":case"date":o.push(new m.a({name:s,alias:s,type:"date",nullable:p,length:null!=(n=u)?n:36}));break;case"pointpropertytype":a="point",d=!0;break;case"multipointpropertytype":a="multipoint",d=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":a="polyline",d=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":a="polygon",d=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":d=!0,r.push(new i.a(T,`geometry type '${c}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new i.a(x,`Unknown field type '${c}'`,{type:(new XMLSerializer).serializeToString(e)}))}d&&o.push(new m.a({name:s,alias:s,type:"geometry",nullable:p}))}for(const i of o)if("integer"===i.type&&!i.nullable&&D.has(i.name.toLowerCase())){i.type="oid";break}return{geometryType:a,fields:o,errors:r}}(e)}throw new i.a(S,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(r)})}(t,(await Object(r.default)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:j,TYPENAME:t,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}const D=new Set(["objectid","fid"]);async function A(e,t,n,o){let{data:a}=await Object(r.default)(e,{responseType:"text",query:L(t,n,o),signal:null==o?void 0:o.signal});a=a.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{var s;if(null!=o&&null!=(s=o.dateFields)&&s.length){const e=new Set(o.dateFields);return JSON.parse(a,((t,n)=>e.has(t)?y(n):n))}return JSON.parse(a)}catch(l){throw new i.a("wfs-layer:malformed-json","Error while parsing the\xa0response",{response:a,error:l})}}function L(e,t,n){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:j,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null==n?void 0:n.startIndex,COUNT:null==n?void 0:n.count,...null==n?void 0:n.customParameters}}function M(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function J(e){const[t,n]=e.split(":");return{prefix:n?t:"",name:null!=n?n:t}}function _(e){let t="",n="";if(Object(b.b)(e.firstElementChild,{Exception:e=>(t=e.getAttribute("exceptionCode"),{ExceptionText:e=>{n=e.textContent}})}),t)throw new i.a(`wfs-layer:${t}`,n)}},1427:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var r=n(0),i=(n(167),n(374)),o=(n(560),n(595),n(597),n(561),n(596),n(263),n(424),n(449),n(450),n(403)),a=n(2),s=n(721),l=n(151),c=n(44),u=n(1),p=(n(17),n(12)),d=n(10),y=n(50),f=n(323),b=n(423),m=n(16),g=n(243),h=n(32),O=n(286),j=n(23),w=n(512),v=n(913),F=n(1316),S=n(474),T=n(86);let x=class extends(Object(g.b)(O.a)){constructor(){super(...arguments),this._connection=null,this.capabilities=Object(v.a)(!1,!1),this.type="wfs",this.refresh=Object(j.f)((async e=>{await this.load();const{extent:t}=await this._connection.invoke("refresh",e);return t&&(this.sourceJSON.extent=t),{dataChanged:!0,updates:{extent:this.sourceJSON.extent}}}))}load(e){const t=Object(a.l)(e)?e.signal:null;return this.addResolvingPromise(this._startWorker({signal:t})),Promise.resolve(this)}destroy(){var e;null!=(e=this._connection)&&e.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(e,t={}){await this.load(t);const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return S.default.fromJSON(n)}async queryFeaturesJSON(e,t={}){return await this.load(t),this._connection.invoke("queryFeatures",e?e.toJSON():null,t)}async queryFeatureCount(e,t={}){return await this.load(t),this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)}async queryObjectIds(e,t={}){return await this.load(t),this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)}async queryExtent(e,t={}){await this.load(t);const n=await this._connection.invoke("queryExtent",e?e.toJSON():null,t);return{count:n.count,extent:T.a.fromJSON(n.extent)}}async querySnapping(e,t={}){return await this.load(t),this._connection.invoke("querySnapping",e,t)}async _createLoadOptions(e){var t,n;const{url:r,customParameters:i,name:o,namespaceUri:s,spatialReference:l,fields:c,geometryType:u,swapXY:p}=this.layer;if(!r)throw new m.a("wfs-layer:missing-url","WFSLayer must be created with a url");this.wfsCapabilities||(this.wfsCapabilities=await Object(F.c)(r,{customParameters:i,...e}));const d=["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((e=>null==this.layer[e])),y=d?await Object(F.e)(this.wfsCapabilities,o,s,{spatialReference:l,customParameters:i,signal:null==e?void 0:e.signal}):{...Object(F.f)(null!=c?c:[]),geometryType:u,name:o,namespaceUri:s,spatialReference:l,swapXY:p},b=Object(a.t)(Object(F.b)(this.wfsCapabilities.readFeatureTypes(),y.name,y.namespaceUri)),g=f.a.toJSON(y.geometryType);return{customParameters:i,featureType:b,fields:null!=(t=null==(n=y.fields)?void 0:n.map((e=>e.toJSON())))?t:[],geometryField:y.geometryField,geometryType:g,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:y.objectIdField,spatialReference:y.spatialReference.toJSON(),swapXY:!!y.swapXY}}async _startWorker(e){const[t,n]=await Object(j.g)([this._createLoadOptions(e),Object(w.b)("WFSSourceWorker",{...e,strategy:Object(h.a)("feature-layers-workers")?"dedicated":"local"})]),r=t.error||n.error||null,i=n.value||null;if(r)throw i&&i.close(),r;const o=t.value;this._connection=n.value;const{extent:a}=await this._connection.invoke("load",o,e);this.sourceJSON={extent:a,fields:o.fields,geometryType:o.geometryType,objectIdField:o.objectIdField,geometryField:o.geometryField,drawingInfo:Object(v.d)(o.geometryType),name:o.featureType.title,wfsInfo:{name:o.featureType.name,featureUrl:o.getFeatureUrl,maxFeatures:3e3,swapXY:o.swapXY,supportedSpatialReferences:o.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:o.featureType.namespaceUri}}}};Object(r.a)([Object(u.b)()],x.prototype,"capabilities",void 0),Object(r.a)([Object(u.b)({constructOnly:!0})],x.prototype,"layer",void 0),Object(r.a)([Object(u.b)()],x.prototype,"sourceJSON",void 0),Object(r.a)([Object(u.b)()],x.prototype,"type",void 0),Object(r.a)([Object(u.b)()],x.prototype,"wfsCapabilities",void 0),x=Object(r.a)([Object(d.a)("esri.layers.graphics.sources.WFSSource")],x);var P,C=n(593),I=n(730),N=n(745),R=n(757),k=n(722),E=n(773),G=n(723),U=n(594),q=n(592),D=n(732),A=n(183),L=n(448),M=n(729),J=n(99),_=n(405),W=n(679),X=n(249),Y=n(728),V=n(57);const $=Object(M.a)();let Q=P=class extends(Object(E.a)(Object(I.a)(Object(R.a)(Object(N.a)(Object(C.a)(Object(D.a)(Object(U.a)(Object(q.a)(Object(k.a)(Object(G.a)(Object(s.a)(b.a)))))))))))){constructor(e){super(e),this.copyright=null,this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="WFS",this.maxFeatures=3e3,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new x({layer:this}),this.spatialReference=V.a.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title="WFS",this.type="wfs",this.url=null,this.version=void 0}static fromWFSLayerInfo(e){const{customParameters:t,fields:n,geometryField:r,geometryType:i,name:o,namespaceUri:a,objectIdField:s,spatialReference:l,swapXY:c,url:u,wfsCapabilities:p}=e;return new P({customParameters:t,fields:n,geometryField:r,geometryType:i,name:o,namespaceUri:a,objectIdField:s,spatialReference:l,swapXY:c,url:u,wfsCapabilities:p})}destroy(){var e;null==(e=this.source)||e.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),Object(J.k)(this.renderer,this.fieldsIndex),Object(J.l)(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get capabilities(){var e;return null==(e=this.source)?void 0:e.capabilities}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,t,n){const r=e.filter((e=>e.name!==F.a));this.geometryField&&r.unshift(new L.a({name:this.geometryField,alias:this.geometryField,type:"geometry"})),Object(l.c)(n,r.map((e=>e.toJSON())),t)}get parsedUrl(){return Object(c.N)(this.url)}set renderer(e){Object(J.k)(e,this.fieldsIndex),this._set("renderer",e)}get wfsCapabilities(){var e;return null==(e=this.source)?void 0:e.wfsCapabilities}set wfsCapabilities(e){this.source&&(this.source.wfsCapabilities=e)}createPopupTemplate(e){return Object(Y.a)(this,e)}createQuery(){const e=new X.a;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:t,timeExtent:n}=this;return e.timeExtent=null!=t&&null!=n?n.offset(-t.value,t.unit):n||null,e}getFieldDomain(e,t){var n;return null==(n=this.getField(e))?void 0:n.domain}getField(e){var t;return null==(t=this.fieldsIndex)?void 0:t.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(X.a.from(e)||this.createQuery(),t))).then((e=>{if(null!=e&&e.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(X.a.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(X.a.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(X.a.from(e)||this.createQuery(),t)))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return Object(a.l)(t)&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};Object(r.a)([Object(u.b)({readOnly:!0})],Q.prototype,"capabilities",null),Object(r.a)([Object(u.b)({type:String})],Q.prototype,"copyright",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],Q.prototype,"createQueryVersion",null),Object(r.a)([Object(u.b)({json:{name:"wfsInfo.customParameters",write:{ignoreOrigin:!0}}})],Q.prototype,"customParameters",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],Q.prototype,"defaultPopupTemplate",null),Object(r.a)([Object(u.b)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Q.prototype,"definitionExpression",void 0),Object(r.a)([Object(u.b)({type:String})],Q.prototype,"displayField",void 0),Object(r.a)([Object(u.b)(A.b)],Q.prototype,"elevationInfo",void 0),Object(r.a)([Object(u.b)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"featureUrl",void 0),Object(r.a)([Object(u.b)({type:[L.a],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],Q.prototype,"fields",void 0),Object(r.a)([Object(y.a)("fields")],Q.prototype,"writeFields",null),Object(r.a)([Object(u.b)($.fieldsIndex)],Q.prototype,"fieldsIndex",void 0),Object(r.a)([Object(u.b)({type:T.a,json:{name:"extent"}})],Q.prototype,"fullExtent",void 0),Object(r.a)([Object(u.b)()],Q.prototype,"geometryField",void 0),Object(r.a)([Object(u.b)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:f.a.read},write:{target:"layerDefinition.geometryType",writer:f.a.write,ignoreOrigin:!0},origins:{service:{read:f.a.read}}}})],Q.prototype,"geometryType",void 0),Object(r.a)([Object(u.b)({type:String})],Q.prototype,"id",void 0),Object(r.a)([Object(u.b)(A.d)],Q.prototype,"labelsVisible",void 0),Object(r.a)([Object(u.b)({type:[_.a],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:W.a},write:!0}})],Q.prototype,"labelingInfo",void 0),Object(r.a)([Object(u.b)(A.e)],Q.prototype,"legendEnabled",void 0),Object(r.a)([Object(u.b)({type:["show","hide"]})],Q.prototype,"listMode",void 0),Object(r.a)([Object(u.b)({type:String})],Q.prototype,"objectIdField",void 0),Object(r.a)([Object(u.b)({type:["WFS"]})],Q.prototype,"operationalLayerType",void 0),Object(r.a)([Object(u.b)({type:p.a,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"maxFeatures",void 0),Object(r.a)([Object(u.b)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],Q.prototype,"mode",void 0),Object(r.a)([Object(u.b)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"name",void 0),Object(r.a)([Object(u.b)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"namespaceUri",void 0),Object(r.a)([Object(u.b)(A.j)],Q.prototype,"opacity",void 0),Object(r.a)([Object(u.b)($.outFields)],Q.prototype,"outFields",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],Q.prototype,"parsedUrl",null),Object(r.a)([Object(u.b)(A.k)],Q.prototype,"popupEnabled",void 0),Object(r.a)([Object(u.b)({type:i.a,json:{name:"popupInfo",write:!0}})],Q.prototype,"popupTemplate",void 0),Object(r.a)([Object(u.b)({types:o.a,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:o.b,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],Q.prototype,"renderer",null),Object(r.a)([Object(u.b)(A.n)],Q.prototype,"screenSizePerspectiveEnabled",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],Q.prototype,"source",void 0),Object(r.a)([Object(u.b)({type:V.a,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],Q.prototype,"spatialReference",void 0),Object(r.a)([Object(u.b)({readOnly:!0,type:[p.a],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"spatialReferences",void 0),Object(r.a)([Object(u.b)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"swapXY",void 0),Object(r.a)([Object(u.b)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],Q.prototype,"title",void 0),Object(r.a)([Object(u.b)({json:{read:!1},readOnly:!0})],Q.prototype,"type",void 0),Object(r.a)([Object(u.b)(A.o)],Q.prototype,"url",void 0),Object(r.a)([Object(u.b)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"version",void 0),Object(r.a)([Object(u.b)()],Q.prototype,"wfsCapabilities",null),Q=P=Object(r.a)([Object(d.a)("esri.layers.WFSLayer")],Q);const z=Q}}]);
//# sourceMappingURL=92.394808d9.chunk.js.map
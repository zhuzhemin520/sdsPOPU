{"version":3,"sources":["../node_modules/@arcgis/core/rest/query/executeForCount.js","../node_modules/@arcgis/core/rest/query/executeForIds.js","../node_modules/@arcgis/core/layers/graphics/assetEditingSupport.js","../node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js","../node_modules/@arcgis/core/rest/query/executeQueryPBF.js","../node_modules/@arcgis/core/rest/query/operations/queryAttachments.js","../node_modules/@arcgis/core/rest/query/executeAttachmentQuery.js","../node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js","../node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js","../node_modules/@arcgis/core/rest/query/operations/queryTopFeatures.js","../node_modules/@arcgis/core/rest/query/executeTopFeaturesQuery.js","../node_modules/@arcgis/core/rest/query/executeForTopIds.js","../node_modules/@arcgis/core/rest/query/executeForTopExtents.js","../node_modules/@arcgis/core/rest/query/executeForTopCount.js","../node_modules/@arcgis/core/tasks/Task.js","../node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js","../node_modules/@arcgis/core/rest/query/executeForExtent.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js"],"names":["async","n","s","m","p","o","r","t","from","then","data","count","e","objectIds","E","PROJECT_VERTICES","a","c","originPosition","translate","scale","l","h","u","d","f","constructor","this","_options","geometryTypes","_previousCoordinate","_transform","_applyTransform","_lengths","_currentLengthIndex","_toAddInCurrentPath","_vertexDimension","_coordinateBuffer","_coordinateBufferPtr","_attributesConstructor","createFeatureResult","fields","features","finishFeatureResult","applyTransform","transform","length","hasZ","geometryType","sourceSpatialReference","spatialReference","geometry","createSpatialReference","addField","push","map","name","addFeature","prepareFeatures","_deriveApplyTransform","hasM","addCoordinate","addCoordinatePoint","createGeometry","createPointGeometry","_addCoordinatePolygon","_createPolygonGeometry","_addCoordinatePolyline","_createPolylineGeometry","_addCoordinateMultipoint","_createMultipointGeometry","createFeature","attributes","allocateCoordinates","addLength","addQueryGeometry","queryGeometry","queryGeometryType","clone","i","x","y","z","_transformPathLikeValue","_dehydratedAddPointsCoordinate","paths","rings","points","Array","quantizationParameters","toJSON","attachmentTypes","join","keywords","globalIds","size","parentObjectId","parentGlobalId","attachmentInfos","id","fromJSON","set","url","query","path","attachmentGroups","orderByFields","outFields","returnCountOnly","includes","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","relatedRecordGroups","objectIdFieldName","relatedRecords","objectId","hasOwnProperty","Object","keys","forEach","inSR","topFilter","groupByFields","returnExtentOnly","returnIdsOnly","returnGeometry","timeExtent","start","end","time","responseType","isEmpty","extent","Error","Promise","resolve","super","requestOptions","normalizeCtorArgs","parsedUrl","_parseUrl","_encode","isArray","readOnly","prototype","type","String","q","b","fieldsIndex","format","gdbVersion","infoFor3D","executeJSON","featureSetFromJSON","_normalizeQuery","outStatistics","has","_normalizeFields","_queryIs3DObjectFormat","assetMaps","meshFeatureSetFromJSON","executeForCount","executeForExtent","executeForIds","executeRelationshipQuery","O","executeRelationshipQueryForCount","F","executeAttachmentQuery","executeTopFeaturesQuery","S","executeForTopIds","j","executeForTopExtents","D","executeForTopCount","formatOf3DObjects","queryFormats","originX","originY","originZ","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","transformFieldRoles","get","assign","multipatchOption","g","originalAndCurrentFeatures","none","FileReader","readAsDataURL","onload","result","onerror","Set","Started","Publishing","Stopped","T","arguments","refresh","load","sourceJSON","editingInfo","lastEditDate","dataChanged","updates","_fetchService","signal","addResolvingPromise","queryTask","capabilities","supportsFormatPBF","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","attachmentId","updateAttachmentResult","globalIdUsed","addFeatures","_serializeFeature","updateFeatures","_getFeatureIds","deleteFeatures","deleteAttachments","addAttachments","_serializeAttachment","updateAttachments","adds","deletes","Map","addAssets","_serializeAssetMapEditAndUploadAssets","all","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","returnEditMoment","usePreviousEditMoment","sessionId","returnServiceEditsOption","edits","layerId","attachments","returnServiceEditsInSourceSR","R","method","addResults","success","updateResults","_createRequestQueryOptions","where","updateExternalSource","assetName","_createEditsResult","attachmentIds","deleteAttachmentResults","fetchRecomputedExtents","returnUpdates","fullExtent","_","execute","I","status","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","_patchServiceJSON","drawingInfo","renderer","defaultSymbol","origin","translation","rotation","feature","attachment","globalId","contentType","uploadId","globalIdField","mediaType","File","Blob","mimeType","FormData","append","assetType","assetUploadId","item","itemID","isBase64","assetData","assets","uploadResults","assetHash","flags","assetMapGlobalId","featureGlobalId","_canUseGlobalIds","_getGlobalIdsFromFeatureIdentifier","_getObjectIdsFromFeatureIdentifier","_getIdsFromFeatures","editedFeatures","deleteResults","editMoment","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","editedFeatureResults","w","_createEditedFeature","original","current","error","code","description","details","messages","message","httpStatus","messageCode","elements","constructOnly","A"],"mappings":"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","file":"static/js/38.1c8bf19a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForCount as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function n(n,s,m){const p=o(n);return r(p,t.from(s),{...m}).then((o=>o.data.count))}export{n as executeForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForIds as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function s(s,e,m){const n=o(s);return r(n,t.from(e),{...m}).then((o=>o.data.objectIds))}export{s as executeForIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.PROJECT_VERTICES=1]=\"PROJECT_VERTICES\"}(E||(E={}));export{E as AssetMapEditFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,assertIsSome as t,unwrapOrThrow as r}from\"../../../core/maybe.js\";import{getGeometryZScaler as s}from\"../../../geometry/support/zscale.js\";import{unquantizeOptimizedGeometry as o,convertToGeometry as i}from\"../../../layers/graphics/featureConversionUtils.js\";function n(e,t){return t}function a(e,t,r,s){switch(r){case 0:return c(e,t+s,0);case 1:return\"lowerLeft\"===e.originPosition?c(e,t+s,1):l(e,t+s,1)}}function h(e,t,r,s){return 2===r?c(e,t,2):a(e,t,r,s)}function u(e,t,r,s){return 2===r?c(e,t,3):a(e,t,r,s)}function d(e,t,r,s){return 3===r?c(e,t,3):h(e,t,r,s)}function c({translate:e,scale:t},r,s){return e[s]+r*t[s]}function l({translate:e,scale:t},r,s){return e[s]-r*t[s]}class f{constructor(e){this._options=e,this.geometryTypes=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=n,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this._options.applyTransform&&(t.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!t.hasZ)return;const r=s(t.geometryType,this._options.sourceSpatialReference,t.spatialReference);if(!e(r))for(const e of t.features)r(e.geometry)}createSpatialReference(){return{}}addField(e,r){const s=e.fields;t(s),s.push(r);const o=s.map((e=>e.name));this._attributesConstructor=function(){for(const e of o)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++,e.geometryType){case\"esriGeometryPoint\":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case\"esriGeometryPolygon\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolygon(e,t,r),this.createGeometry=e=>this._createPolygonGeometry(e);break;case\"esriGeometryPolyline\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolyline(e,t,r),this.createGeometry=e=>this._createPolylineGeometry(e);break;case\"esriGeometryMultipoint\":this.addCoordinate=(e,t,r)=>this._addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,r){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:r,queryGeometryType:s}=t,n=o(r.clone(),r,!1,!1,this._transform),a=i(n,s,!1,!1);e.queryGeometryType=s,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,s){const o=r(this._transform,\"transform\");switch(t=this._applyTransform(o,t,s,0),s){case 0:e.x=t;break;case 1:e.y=t;break;case 2:\"z\"in e?e.z=t:e.m=t;break;case 3:e.m=t}}_transformPathLikeValue(e,t){let s=0;t<=1&&(s=this._previousCoordinate[t],this._previousCoordinate[t]+=e);const o=r(this._transform,\"transform\");return this._applyTransform(o,e,t,s)}_addCoordinatePolyline(e,t,r){this._dehydratedAddPointsCoordinate(e.paths,t,r)}_addCoordinatePolygon(e,t,r){this._dehydratedAddPointsCoordinate(e.rings,t,r)}_addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this._transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const s=this._transformPathLikeValue(t,r),o=e[e.length-1];0===r&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),o.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=s}_deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?d:t?h:r?u:a}}export{f as JSONFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{JSONFeatureSetParserContext as e}from\"./operations/pbfJSONFeatureSet.js\";import{executeQueryPBF as t}from\"./operations/query.js\";import o from\"../support/FeatureSet.js\";import a from\"../support/Query.js\";async function s(r,e,t){const s=await n(r,a.from(e),t);return o.fromJSON(s)}async function n(o,s,n){const p=r(o),i={...n},u=a.from(s),m=!u.quantizationParameters,{data:f}=await t(p,u,new e({sourceSpatialReference:u.sourceSpatialReference,applyTransform:m}),i);return f}export{s as executeQueryPBF,n as executeRawQueryPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as r}from\"../../operations/urlUtils.js\";import s from\"../support/AttachmentInfo.js\";function n(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,r){const n={};for(const a of o){const{parentObjectId:o,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,m=e(t(`${r}/${o}/attachments/${i}`)),p=s.fromJSON(a);p.set({url:m,parentObjectId:o,parentGlobalId:c}),n[o]?n[o].push(p):n[o]=[p]}}return n}function c(t,e,s){let a={query:r({...t.query,f:\"json\",...n(e)})};return s&&(a={...s,...a,query:{...s.query,...a.query}}),o(t.path+\"/queryAttachments\",a)}export{c as executeAttachmentQuery,a as processAttachmentQueryResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeAttachmentQuery as r,processAttachmentQueryResult as e}from\"./operations/queryAttachments.js\";import o from\"../support/AttachmentQuery.js\";async function a(a,m,n){const s=t(a);return r(s,o.from(m),{...n}).then((t=>e(t.data.attachmentGroups,s.path)))}export{a as executeAttachmentQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,c={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)c[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(c[s[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then((t=>{const r=t.data,e={};return Object.keys(r).forEach((t=>e[t]=o.fromJSON(r[t]))),e}))}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{isSome as e}from\"../../../core/maybe.js\";import{urlToObject as r,join as o}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as i}from\"../../../geometry/support/normalizeUtils.js\";import{mapParameters as s}from\"../../operations/urlUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";const l=\"Layer does not support extent calculation.\";function y(t,r){const o=t.geometry,i=t.toJSON(),s=i;if(e(o)&&(s.geometry=JSON.stringify(o),s.geometryType=n(o),s.inSR=o.spatialReference.wkid||JSON.stringify(o.spatialReference)),i.topFilter?.groupByFields&&(s.topFilter.groupByFields=i.topFilter.groupByFields.join(\",\")),i.topFilter?.orderByFields&&(s.topFilter.orderByFields=i.topFilter.orderByFields.join(\",\")),i.topFilter&&(s.topFilter=JSON.stringify(s.topFilter)),i.objectIds&&(s.objectIds=i.objectIds.join(\",\")),i.orderByFields&&(s.orderByFields=i.orderByFields.join(\",\")),i.outFields&&!(r?.returnCountOnly||r?.returnExtentOnly||r?.returnIdsOnly)?i.outFields.includes(\"*\")?s.outFields=\"*\":s.outFields=i.outFields.join(\",\"):delete s.outFields,i.outSR?s.outSR=i.outSR.wkid||JSON.stringify(i.outSR):o&&i.returnGeometry&&(s.outSR=s.inSR),i.returnGeometry&&delete i.returnGeometry,i.timeExtent){const t=i.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${e??\"null\"},${r??\"null\"}`),delete i.timeExtent}return s}async function d(t,e,r,o){const n=await c(t,e,\"json\",o);return u(e,r,n.data),n}async function m(t,r,o){return e(r.timeExtent)&&r.timeExtent.isEmpty?{data:{objectIds:[]}}:c(t,r,\"json\",o,{returnIdsOnly:!0})}async function p(t,r,o){return e(r.timeExtent)&&r.timeExtent.isEmpty?{data:{count:0,extent:null}}:c(t,r,\"json\",o,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function a(t,r,o){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):c(t,r,\"json\",o,{returnIdsOnly:!0,returnCountOnly:!0})}function c(n,u,l,d={},m={}){const p=\"string\"==typeof n?r(n):n,a=u.geometry?[u.geometry]:[];return d.responseType=\"pbf\"===l?\"array-buffer\":\"json\",i(a,null,d).then((r=>{const n=r&&r[0];e(n)&&((u=u.clone()).geometry=n);const i=s({...p.query,f:l,...m,...y(u,m)});return t(o(p.path,\"queryTopFeatures\"),{...d,query:{...i,...d.query}})}))}export{a as executeQueryForTopCount,p as executeQueryForTopExtents,m as executeQueryForTopIds,d as executeTopFeaturesQuery,y as queryToQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{executeTopFeaturesQuery as o}from\"./operations/queryTopFeatures.js\";import t from\"../support/FeatureSet.js\";import e from\"../support/TopFeaturesQuery.js\";async function s(s,p,u,a){const m=r(s),i={...a},{data:f}=await o(m,e.from(p),u,i);return t.fromJSON(f)}export{s as executeTopFeaturesQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForTopIds as r}from\"./operations/queryTopFeatures.js\";import t from\"../support/TopFeaturesQuery.js\";async function s(s,e,p){const a=o(s);return(await r(a,t.from(e),{...p})).data.objectIds}export{s as executeForTopIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{parseUrl as t}from\"../utils.js\";import{executeQueryForTopExtents as o}from\"./operations/queryTopFeatures.js\";import r from\"../support/TopFeaturesQuery.js\";import e from\"../../geometry/Extent.js\";async function m(m,s,n){const p=t(m),a=await o(p,r.from(s),{...n});return{count:a.data.count,extent:e.fromJSON(a.data.extent)}}export{m as executeForTopExtents};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForTopCount as r}from\"./operations/queryTopFeatures.js\";import t from\"../support/TopFeaturesQuery.js\";async function s(s,e,p){const u=o(s);return(await r(u,t.from(e),{...p})).data.count}export{s as executeForTopCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import s from\"../core/Accessor.js\";import{urlToObject as t}from\"../core/urlUtils.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";let i=class extends s{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,s){return\"string\"!=typeof r?r:{url:r,...s}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return t(r)}_encode(r,s,t){const e={};for(const o in r){if(\"declaredClass\"===o)continue;const i=r[o];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){e[o]=[];for(let r=0;r<i.length;r++)e[o][r]=this._encode(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(t&&t[o]);e[o]=s?r:JSON.stringify(r)}else e[o]=s?i:JSON.stringify(i);else e[o]=i}return e}};r([e({readOnly:!0})],i.prototype,\"parsedUrl\",null),r([e()],i.prototype,\"requestOptions\",void 0),r([e({type:String})],i.prototype,\"url\",void 0),i=r([o(\"esri.tasks.Task\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{isNone as r,isSome as o}from\"../../../../core/maybe.js\";import{whenOrAbort as s}from\"../../../../core/promiseUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DataLayerSource as n}from\"../../../support/source/DataLayerSource.js\";import{executeRawQueryJSON as a}from\"../../../../rest/query/executeQueryJSON.js\";import{executeRawQueryPBF as c}from\"../../../../rest/query/executeQueryPBF.js\";import p from\"../../../../rest/support/FeatureSet.js\";import m from\"../../../../rest/support/Query.js\";import{executeAttachmentQuery as f}from\"../../../../rest/query/executeAttachmentQuery.js\";import{executeForCount as l}from\"../../../../rest/query/executeForCount.js\";import{executeForExtent as h}from\"../../../../rest/query/executeForExtent.js\";import{executeForIds as d}from\"../../../../rest/query/executeForIds.js\";import{executeRelationshipQuery as y,executeRelationshipQueryForCount as F}from\"../../../../rest/query/executeRelationshipQuery.js\";import{executeTopFeaturesQuery as S}from\"../../../../rest/query/executeTopFeaturesQuery.js\";import{executeForTopIds as j}from\"../../../../rest/query/executeForTopIds.js\";import{executeForTopExtents as D}from\"../../../../rest/query/executeForTopExtents.js\";import{executeForTopCount as x}from\"../../../../rest/query/executeForTopCount.js\";import O from\"../../../../rest/support/RelationshipQuery.js\";import b from\"../../../../tasks/Task.js\";let q=class extends b{constructor(t){super(t),this.dynamicDataSource=null,this.fieldsIndex=null,this.format=\"json\",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}async execute(t,e){const r=await this.executeJSON(t,e);return this.featureSetFromJSON(t,r,e)}async executeJSON(t,e){const r={...this.requestOptions,...e},o=this._normalizeQuery(t),s=null!=t.outStatistics?.[0],i=has(\"featurelayer-pbf-statistics\"),u=!s||i;let n;if(\"pbf\"===this.format&&u)try{n=await c(this.url,o,r)}catch(p){if(\"query:parsing-pbf\"!==p.name)throw p;this.format=\"json\"}return\"json\"!==this.format&&u||(n=await a(this.url,o,r)),this._normalizeFields(n.fields),n}async featureSetFromJSON(t,e,o){if(!this._queryIs3DObjectFormat(t)||r(this.infoFor3D)||!e.assetMaps||!e.features||!e.features.length)return p.fromJSON(e);const{meshFeatureSetFromJSON:i}=await s(import(\"../../../../rest/support/meshFeatureSet.js\"),o);return i(t,this.infoFor3D,e)}executeForCount(t,e){const r={...this.requestOptions,...e},o=this._normalizeQuery(t);return l(this.url,o,r)}executeForExtent(t,e){const r={...this.requestOptions,...e},o=this._normalizeQuery(t);return h(this.url,o,r)}executeForIds(t,e){const r={...this.requestOptions,...e},o=this._normalizeQuery(t);return d(this.url,o,r)}executeRelationshipQuery(t,e){t=O.from(t);const r={...this.requestOptions,...e};return(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),y(this.url,t,r)}executeRelationshipQueryForCount(t,e){t=O.from(t);const r={...this.requestOptions,...e};return(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),F(this.url,t,r)}executeAttachmentQuery(t,e){const r={...this.requestOptions,...e};return f(this.url,t,r)}executeTopFeaturesQuery(t,e){const r={...this.requestOptions,...e};return S(this.parsedUrl,t,this.sourceSpatialReference,r)}executeForTopIds(t,e){const r={...this.requestOptions,...e};return j(this.parsedUrl,t,r)}executeForTopExtents(t,e){const r={...this.requestOptions,...e};return D(this.parsedUrl,t,r)}executeForTopCount(t,e){const r={...this.requestOptions,...e};return x(this.parsedUrl,t,r)}_normalizeQuery(t){let s=m.from(t);if(s.sourceSpatialReference=s.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(s=s===t?s.clone():s,s.gdbVersion=t.gdbVersion||this.gdbVersion,s.dynamicDataSource=t.dynamicDataSource?n.from(t.dynamicDataSource):this.dynamicDataSource),o(this.infoFor3D)&&this._queryIs3DObjectFormat(t)){s=s===t?s.clone():s,s.formatOf3DObjects=null;for(const t of this.infoFor3D.queryFormats){if(\"3D_glb\"===t){s.formatOf3DObjects=t;break}\"3D_gltf\"!==t||s.formatOf3DObjects||(s.formatOf3DObjects=t)}if(!s.formatOf3DObjects)throw new e(\"query:unsupported-3d-query-formats\",\"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf\");if(r(s.outFields)||!s.outFields.includes(\"*\")){s=s===t?s.clone():s,r(s.outFields)&&(s.outFields=[]);const{originX:e,originY:o,originZ:i,translationX:u,translationY:n,translationZ:a,scaleX:c,scaleY:p,scaleZ:m,rotationX:f,rotationY:l,rotationZ:h,rotationDeg:d}=this.infoFor3D.transformFieldRoles;s.outFields.push(e,o,i,u,n,a,c,p,m,f,l,h,d)}}return s}_normalizeFields(t){if(o(this.fieldsIndex)&&o(t))for(const e of t){const t=this.fieldsIndex.get(e.name);t&&Object.assign(e,t.toJSON())}}_queryIs3DObjectFormat(t){return o(this.infoFor3D)&&t.returnGeometry&&\"xyFootprint\"!==t.multipatchOption&&!t.outStatistics}};t([i({type:n})],q.prototype,\"dynamicDataSource\",void 0),t([i()],q.prototype,\"fieldsIndex\",void 0),t([i()],q.prototype,\"format\",void 0),t([i()],q.prototype,\"gdbVersion\",void 0),t([i()],q.prototype,\"infoFor3D\",void 0),t([i()],q.prototype,\"sourceSpatialReference\",void 0),q=t([u(\"esri.tasks.QueryTask\")],q);const g=q;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{parseUrl as t}from\"../utils.js\";import{executeQueryForExtent as o}from\"./operations/query.js\";import r from\"../support/Query.js\";import e from\"../../geometry/Extent.js\";async function m(m,n,s){const p=t(m);return o(p,r.from(n),{...s}).then((t=>({count:t.data.count,extent:e.fromJSON(t.data.extent)})))}export{m as executeForExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import s from\"../../../request.js\";import a from\"../../../TimeExtent.js\";import r from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as o}from\"../../../core/jsonMap.js\";import i from\"../../../core/Loadable.js\";import{isSome as n,isNone as u,unwrap as l}from\"../../../core/maybe.js\";import{setDeepValue as d}from\"../../../core/object.js\";import{debounce as c}from\"../../../core/promiseUtils.js\";import{join as p,dataComponents as h}from\"../../../core/urlUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../geometry/Extent.js\";import{fromJSON as g}from\"../../../geometry/support/jsonUtils.js\";import{AssetMapEditFlags as R}from\"../assetEditingSupport.js\";import{createDrawingInfo as F}from\"./support/clientSideDefaults.js\";import b from\"./support/QueryTask.js\";import{isHostedAgolService as I}from\"../../support/arcgisLayerUrl.js\";import{unapplyEditsZUnitScaling as q}from\"../../../rest/query/operations/editsZScale.js\";import{processAttachmentQueryResult as _}from\"../../../rest/query/operations/queryAttachments.js\";import w from\"../../../geometry/SpatialReference.js\";const O=new o({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"});async function E(e){if(\"string\"==typeof e){const t=h(e);return t||{data:e}}return new Promise(((t,s)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(h(a.result)),a.onerror=e=>s(e)}))}const S=new Set([\"Feature Layer\",\"Table\"]),j=new o({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let T=class extends i{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=c((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}}))}load(e){const t=n(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,t)),Promise.resolve(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:t,dynamicDataSource:s,infoFor3D:a,gdbVersion:r,spatialReference:o,fieldsIndex:i}=this.layer,n=has(\"featurelayer-pbf\")&&e&&u(a)?\"pbf\":\"json\";return new b({url:t.path,format:n,fieldsIndex:i,infoFor3D:a,dynamicDataSource:s,gdbVersion:r,sourceSpatialReference:o})}async addAttachment(e,t){await this.load();const a=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+a+\"/addAttachment\",o=this._getLayerRequestOptions(),i=this._getFormDataForAttachment(t,o.query);try{const e=await s(r,{body:i});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(n){throw this._createAttachmentErrorResult(a,n)}}async updateAttachment(e,t,a){await this.load();const r=e.attributes[this.layer.objectIdField],o=this.layer.parsedUrl.path+\"/\"+r+\"/updateAttachment\",i=this._getLayerRequestOptions({query:{attachmentId:t}}),n=this._getFormDataForAttachment(a,i.query);try{const e=await s(o,{body:n});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(r,u)}}async applyEdits(e,t){await this.load();const a=this.layer.infoFor3D,r=n(a),o=r||t?.globalIdUsed,i=e.addFeatures.map((e=>this._serializeFeature(e,a))),u=e.updateFeatures.map((e=>this._serializeFeature(e,a))),d=this._getFeatureIds(e.deleteFeatures,o);q(i,u,this.layer.spatialReference);const c=[],p=[],h=[...e.deleteAttachments];for(const s of e.addAttachments)c.push(await this._serializeAttachment(s));for(const s of e.updateAttachments)p.push(await this._serializeAttachment(s));const y=c.length||p.length||h.length?{adds:c,updates:p,deletes:h}:null;let m,f=null;if(r){f=new Map;const t=[];for(const a of e.addAssets)t.push(this._serializeAssetMapEditAndUploadAssets(a,f));const s=await Promise.all(t);m=s.length?{adds:s,updates:[],deletes:[]}:void 0}const g={gdbVersion:t?.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:o,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,sessionId:t?.sessionId};t?.returnServiceEditsOption?(g.edits=JSON.stringify([{id:this.layer.layerId,adds:i,updates:u,deletes:d,attachments:y,assetMaps:l(m)}]),g.returnServiceEditsOption=O.toJSON(t?.returnServiceEditsOption),g.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(g.adds=i.length?JSON.stringify(i):null,g.updates=u.length?JSON.stringify(u):null,g.deletes=d.length?o?JSON.stringify(d):d.join(\",\"):null,g.attachments=y&&JSON.stringify(y),g.assetMaps=n(m)?JSON.stringify(m):void 0);const R=this._getLayerRequestOptions({method:\"post\",query:g}),F=t?.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path,b=await s(F+\"/applyEdits\",R);if(r&&null!=b.data&&null!=b.data.assetMaps){const e=b.data,t=this.layer.objectIdField,a=[];for(const s of e.addResults)s.success&&a.push(s.objectId);for(const s of e.updateResults)s.success&&a.push(s.objectId);const r=this._createRequestQueryOptions(),o=await s(F+\"/query\",{...r,query:{f:\"json\",formatOf3DObjects:\"3D_glb\",where:`OBJECTID IN (${a.join(\",\")})`,outFields:`${t}`}});if(o&&o.data&&o.data.assetMaps&&n(f)){const e=o.data.assetMaps;for(const t of e){const e=f.get(t.parentGlobalId).geometry;n(e)&&\"mesh\"===e.type&&e.updateExternalSource({source:[{name:t.assetName,source:t.assetName}],extent:e.extent})}}}return this._createEditsResult(b)}async deleteAttachments(e,t){await this.load();const a=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+a+\"/deleteAttachments\";try{return(await s(r,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(o){throw this._createAttachmentErrorResult(a,o)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:o}=this.layer,{data:i}=await s(`${o}/${r}`,t),{id:n,extent:u,fullExtent:l,timeExtent:d}=i,c=u||l;return{id:n,fullExtent:c&&f.fromJSON(c),timeExtent:d&&a.fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:a}=this.layer,r=a.path;await this.load();const o=this._getLayerRequestOptions(t);if(!this.layer.get(\"capabilities.operations.supportsQueryAttachments\")){const{objectIds:t}=e,a=[];for(const e of t){const t=r+\"/\"+e+\"/attachments\";a.push(s(t,o))}return Promise.all(a).then((e=>t.map(((t,s)=>({parentObjectId:t,attachmentInfos:e[s].data.attachmentInfos}))))).then((e=>_(e,r)))}return this.queryTask.executeAttachmentQuery(e,o)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!I(this.layer.url))return\"unavailable\";const e=p(this.layer.url,\"status\"),t=await s(e,{query:{f:\"json\"}});return j.fromJSON(t.data.status)}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:a}=await s(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:has(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:t}));e=a}this.sourceJSON=this._patchServiceJSON(e);const a=e.type;if(!S.has(a))throw new r(\"feature-layer-source:unsupported-type\",`Source type \"${a}\" is not supported`)}_patchServiceJSON(e){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=F(e.geometryType).renderer;d(\"drawingInfo.renderer\",t,e)}return\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),e}_serializeFeature(e,t){const{geometry:s,attributes:a}=e;if(n(t)&&n(e.geometry)&&\"mesh\"===e.geometry.type){const s={...a},r=e.geometry,o=r.origin,i=r.transform;if(s[t.transformFieldRoles.originX]=o.x,s[t.transformFieldRoles.originY]=o.y,s[t.transformFieldRoles.originZ]=o.z,n(i)){const e=i.translation,a=i.scale,r=i.rotation;s[t.transformFieldRoles.translationX]=e[0],s[t.transformFieldRoles.translationY]=e[1],s[t.transformFieldRoles.translationZ]=e[2],s[t.transformFieldRoles.scaleX]=a[0],s[t.transformFieldRoles.scaleY]=a[1],s[t.transformFieldRoles.scaleZ]=a[2],s[t.transformFieldRoles.rotationX]=r[0],s[t.transformFieldRoles.rotationY]=r[1],s[t.transformFieldRoles.rotationZ]=r[2],s[t.transformFieldRoles.rotationDeg]=r[3]}return{geometry:null,attributes:s}}return u(s)?{attributes:a}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:a}}async _serializeAttachment(e){const{feature:t,attachment:s}=e,{globalId:a,name:r,contentType:o,data:i,uploadId:n}=s,u={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),n)u.uploadId=n;else if(i){const e=await E(i);u.contentType=e.mediaType,u.data=e.data,i instanceof File&&(u.name=i.name)}return r&&(u.name=r),o&&(u.contentType=o),u}async _serializeAssetMapEditAndUploadAssets(e,t){const a=this.layer.url;let o=null;try{const t=new Blob([e.data],{type:e.mimeType}),i=new FormData;i.append(\"f\",\"json\"),i.append(\"file\",t,`${e.assetName}`);const n={body:i,method:\"post\",responseType:\"json\"},{data:u}=await s(`${a}/uploads/upload`,n);if(!u.success)throw new r(\"feature-layer-source:upload-failure\",\"Expected upload to be successfull.\");o={assetType:e.assetType,assetUploadId:u.item.itemID}}catch(h){o=null}if(u(o)){const t=await E(new Blob([e.data]));if(!t.isBase64)throw new r(\"feature-layer-source:uploadAssets-failure\",\"Expected gltf data in base64 format after conversion.\");o={assetType:e.assetType,assetData:t.data}}if(u(o))throw new r(\"feature-layer-source:uploadAssets-failure\",\"Unable to prepare uploadAsset request options.\");const i={method:\"post\",query:{f:\"json\",assets:JSON.stringify([o])},responseType:\"json\"},n=await s(p(this.layer.parsedUrl.path,\"uploadAssets\"),i);if(1!==n.data.uploadResults.length||!n.data.uploadResults[0].success)throw new r(\"feature-layer-source:uploadAssets-failure\",\"Bad response.\");const l=n.data.uploadResults[0].assetHash,d=[];e.flags&R.PROJECT_VERTICES&&d.push(\"PROJECT_VERTICES\");const c={globalId:e.assetMapGlobalId,parentGlobalId:e.featureGlobalId,assetName:e.assetName,assetHash:l,flags:d};return t.set(e.featureGlobalId,e.feature),c}_getFeatureIds(e,t){const s=e[0];return s?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):\"objectId\"in s?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&\"globalId\"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,a=[];let r=null;if(Array.isArray(t))for(const n of t)a.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===s&&(r={addResults:n.addResults,updateResults:n.updateResults,deleteResults:n.deleteResults,attachments:n.attachments,editMoment:n.editMoment});else r=t;const o=r?.attachments,i={addFeatureResults:r.addResults?r.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:r.updateResults?r.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:r.deleteResults?r.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:o&&o.addResults?o.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:o&&o.updateResults?o.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:o&&o.deleteResults?o.deleteResults.map(this._createFeatureEditResult,this):[]};if(r.editMoment&&(i.editMoment=r.editMoment),a.length>0){i.editedFeatureResults=[];for(const e of a){const{adds:t,updates:s,deletes:a,spatialReference:r}=e.editedFeatures,o=r?new w(r):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:t?.map((e=>this._createEditedFeature(e,o)))||[],updates:s?.map((e=>({original:this._createEditedFeature(e[0],o),current:this._createEditedFeature(e[1],o)})))||[],deletes:a?.map((e=>this._createEditedFeature(e,o)))||[],spatialReference:o}})}}return i}_createEditedFeature(e,s){return new t({attributes:e.attributes,geometry:g({...e.geometry,spatialReference:s})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new r(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const s=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new r(\"feature-layer-source:attachment-failure\",s,{code:a})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const a in t){const e=t[a];null!=e&&(s.set?s.set(a,e):s.append(a,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:a}=this.layer;return{...e,query:{gdbVersion:s,layer:a?JSON.stringify({source:a}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}};e([y()],T.prototype,\"type\",void 0),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({readOnly:!0})],T.prototype,\"queryTask\",null),T=e([m(\"esri.layers.graphics.sources.FeatureLayerSource\")],T);const A=T;export{A as default};\n"],"sourceRoot":""}
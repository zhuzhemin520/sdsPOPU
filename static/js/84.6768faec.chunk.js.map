{"version":3,"sources":["../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js","../node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js","../node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","../node_modules/@arcgis/core/views/support/TileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js"],"names":["c","n","o","r","extent","e","t","s","a","x","y","u","constructor","super","this","pointOfInterest","tiles","tilesCoveringView","view","center","sort","p","_scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","i","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","l","normalizeCol","updateTileInfo","push","tileSize","size","initialize","addHandles","viewpoint","notifyChange","readOnly","prototype","constructOnly","_effectivePointOfInterest","map","length","slice","_filterTiles","featureTiles","toArray","f","tilingScheme","toTileInfo","pointsOfInterest","focus","location","handles","add","remove","v","addClient","filter","Math","abs","measures","screenRect","m","visibility","VISIBLE_ON_SURFACE","lij","d","_handles","setInterval","_fetchDebugInfo","clearInterval","destroy","getTiles","_debugInfo","Map","storedTiles","forEach","set","data","id","featureCount","pendingTiles","get","Array","from","values","col","geometry","fromExtent","spatialReference","label","handle","getDebugInfo","then","update","schedule","hasZ","elevationAlignPointsInFeatures","async","points","z","elevations","drapedObjectIds","Set","failedObjectIds","queryForSymbologySnapping","candidates","sourceCandidateIndices","availability","_workerHandleUpdating","_editId","updating","updatingHandles","_workerHandle","alignElevation","signal","result","getSymbologyCandidates","on","_set","_serviceInfoFromLayer","configuration","_convertConfiguration","serviceInfo","toJSON","elevationInfo","addPromise","invokeMethod","distance","point","coordinateHelper","vectorToPoint","types","invoke","edits","addedFeatures","objectId","deletedFeatures","globalId","updatedFeatures","customParameters","viewType","geometryType","url","parsedUrl","path","fields","capabilities","objectIdField","globalIdField","timeInfo","strategy","client","origin","lods","resolution","k","_updateTilesParameters","_tilesOfInterest","type","_layer","createQuery","layerSource","g","w","resourceController","whenLayerView","returnZ","h","elevationProvider","context","notifyElevationSourceChange","processor","renderer","notifySymbologyChange","symbologySnappingSupported","setSymbologySnappingSupported","b","setup","updateTiles","configure","H","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES","_debug","applyEdits","refresh","_getGroundElevation","fetchCandidates","_","S","equals","enablePolygons","enableLabels","_polygons","_labels","_enabled","_symbols","color","outline","width","clear","enabled","keys","toString","delete","has","symbol","loadPriority","j","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","material","haloColor","haloSize","JSON","stringify","graphics","removeMany","addMany","constraint","targetPoint","hints","domain","edgeStart","edgeEnd","getGroundElevation","REFERENCE","start","end","draped","pointToVector","target","getElevation"],"mappings":"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","file":"static/js/84.6768faec.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{s}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec4f64.js\";import{a as o,g as r,h as t}from\"../../../../../chunks/boundedPlane.js\";function c(n,o){return r(o.extent,e),t(e,s(a,n.x,n.y,0))}const e=o(),a=n();export{c as distanceToTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{watch as o,sync as s}from\"../../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as a}from\"../../../../../../layers/support/TileKey.js\";import{distanceToTile as p}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as c}from\"../../../../../support/layerViewUtils.js\";let u=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=r(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>p(t,e)-p(t,r))),e}_scaleEnabled(){return c(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||i(this.tileInfo))return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,o=[];for(const{row:i,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s=t.normalizeCol(e),l=new a(null,r,i,s);this.tileInfo.updateTileInfo(l),o.push(l)}return o}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return r(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.addHandles(o((()=>this.view?.state?.viewpoint),(()=>this.notifyChange(\"tilesCoveringView\")),s))}};e([l({readOnly:!0})],u.prototype,\"tiles\",null),e([l({readOnly:!0})],u.prototype,\"_scaleEnabled\",null),e([l({readOnly:!0})],u.prototype,\"tilesCoveringView\",null),e([l({readOnly:!0})],u.prototype,\"tileInfo\",null),e([l({readOnly:!0})],u.prototype,\"tileSize\",null),e([l({constructOnly:!0})],u.prototype,\"view\",void 0),e([l({constructOnly:!0})],u.prototype,\"layer\",void 0),e([l()],u.prototype,\"pointOfInterest\",void 0),u=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],u);export{u as FeatureServiceTiles2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../../core/HandleOwner.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{watch as s,initial as o}from\"../../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as p}from\"../../../../../../layers/support/TileKey.js\";import{Visibility as a}from\"../../../../layers/support/FeatureTileDescriptor3D.js\";import{distanceToTile as c}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let u=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=this._effectivePointOfInterest;if(r(t)){const r=e.map((e=>c(t,e)));for(let i=1;i<r.length;i++)if(r[i-1]>r[i])return e.sort(((e,r)=>c(t,e)-c(t,r))),e.slice()}return e}get tilesCoveringView(){return this._filterTiles(this.view.featureTiles?.tiles?.toArray()).map(f)}get tileInfo(){return this.view.featureTiles?.tilingScheme.toTileInfo()??null}get tileSize(){return this.view.featureTiles?.tileSize??256}get _effectivePointOfInterest(){const e=this.pointOfInterest;return r(e)?e:this.view.pointsOfInterest?.focus.location}initialize(){this.handles.add(s((()=>this.view.featureTiles),(e=>{this.handles.remove(v),e&&this.handles.add(e.addClient(),v)}),o))}_filterTiles(e){if(i(e))return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>m&&e.measures.visibility===a.VISIBLE_ON_SURFACE))}};function f({lij:[e,t,r],extent:i}){return new p(`${e}/${t}/${r}`,e,t,r,i)}e([n({readOnly:!0})],u.prototype,\"tiles\",null),e([n({readOnly:!0})],u.prototype,\"tilesCoveringView\",null),e([n({readOnly:!0})],u.prototype,\"tileInfo\",null),e([n({readOnly:!0})],u.prototype,\"tileSize\",null),e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n()],u.prototype,\"pointOfInterest\",void 0),e([n()],u.prototype,\"_effectivePointOfInterest\",null),u=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],u);const m=50,v=\"feature-tiles\";export{u as FeatureServiceTiles3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Polygon.js\";import{toExtent as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let d=class extends n{constructor(e){super(e),this._handles=new t}initialize(){const e=setInterval((()=>this._fetchDebugInfo()),2e3);this._handles.add(r((()=>clearInterval(e))))}destroy(){this._handles.destroy()}getTiles(){if(!this._debugInfo)return[];const e=new Map,t=new Map;this._debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this._debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{const o=t.get(r),s=e.get(r)??\"?\";return o?`${o}:${s}\\n${r}`:`store:${s}\\n${r}`},o=new Map;return this._debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this._debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:a.fromExtent(i(e.extent,this.view.spatialReference)),label:r(e.id)})))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this._debugInfo=e,this.update()}))}};e([o({constructOnly:!0})],d.prototype,\"handle\",void 0),d=e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],d);export{d as WorkerTileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{isNone as i,isSome as o}from\"../../../../../core/maybe.js\";import{whenOrAbort as a}from\"../../../../../core/promiseUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as s}from\"../../../../../core/workers/WorkerHandle.js\";import{featureGeometryTypeKebabDictionary as d}from\"../../../../../geometry/support/typeUtils.js\";let l=class extends t{constructor(e){super(e),this.schedule=null,this.hasZ=!1,this.elevationAlignPointsInFeatures=async e=>{const t=[];for(const{points:i}of e)for(const{z:e}of i)t.push(e);return{elevations:t,drapedObjectIds:new Set,failedObjectIds:new Set}},this.queryForSymbologySnapping=async()=>({candidates:[],sourceCandidateIndices:[]}),this.availability=0,this._workerHandleUpdating=!0,this._editId=0}get updating(){return this.updatingHandles.updating||this._workerHandleUpdating}destroy(){this._workerHandle.destroy()}initialize(){this._workerHandle=new p(this.schedule,{alignElevation:async(e,{signal:t})=>({result:await this.elevationAlignPointsInFeatures(e.points,t)}),getSymbologyCandidates:async(e,{signal:t})=>({result:await this.queryForSymbologySnapping(e,t)})}),this.handles.add([this._workerHandle.on(\"notify-updating\",(({updating:e})=>this._workerHandleUpdating=e)),this._workerHandle.on(\"notify-availability\",(({availability:e})=>this._set(\"availability\",e)))])}async setup(e,t){const o=this._serviceInfoFromLayer(e.layer);if(i(o))return;const a={configuration:this._convertConfiguration(e.configuration),serviceInfo:o,spatialReference:e.spatialReference.toJSON(),hasZ:this.hasZ,elevationInfo:e.layer.elevationInfo?.toJSON()};await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"setup\",a,t)),this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async configure(e,t){const i=this._convertConfiguration(e);await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"configure\",i,t)),this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async refresh(e){await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"refresh\",{},e)),this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},e))}async fetchCandidates(e,t){const i={distance:e.distance,point:e.coordinateHelper.vectorToPoint(e.point).toJSON(),types:e.types,filter:o(e.filter)?e.filter.toJSON():null};return this._workerHandle.invoke(i,t)}async updateTiles(e,t){const i={tiles:e.tiles,tileInfo:o(e.tileInfo)?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"updateTiles\",i,t)),this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async applyEdits(e,t){const i=this._editId++,n={id:i};await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"beginApplyEdits\",n,t));const r=await this.updatingHandles.addPromise(a(e.result,t)),s={id:i,edits:{addedFeatures:r.addedFeatures?.map((({objectId:e})=>e)).filter(o)??[],deletedFeatures:r.deletedFeatures?.map((({objectId:e,globalId:t})=>({objectId:e,globalId:t})))??[],updatedFeatures:r.updatedFeatures?.map((({objectId:e})=>e)).filter(o)??[]}};await this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"endApplyEdits\",s,t)),this.updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}getDebugInfo(e){return this._workerHandle.invokeMethod(\"getDebugInfo\",{},e)}async notifyElevationSourceChange(){await this._workerHandle.invokeMethod(\"notifyElevationSourceChange\",{})}async notifySymbologyChange(){await this._workerHandle.invokeMethod(\"notifySymbologyChange\",{})}async setSymbologySnappingSupported(e){await this._workerHandle.invokeMethod(\"setSymbologySnappingSupported\",e)}_convertConfiguration(e){return{filter:o(e.filter)?e.filter.toJSON():null,customParameters:e.customParameters,viewType:e.viewType}}_serviceInfoFromLayer(e){return\"multipatch\"===e.geometryType||\"mesh\"===e.geometryType?null:{url:e.parsedUrl?.path??\"\",fields:e.fields.map((e=>e.toJSON())),geometryType:d.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:e.timeInfo?.toJSON()}}};e([n({constructOnly:!0})],l.prototype,\"schedule\",void 0),e([n({constructOnly:!0})],l.prototype,\"hasZ\",void 0),e([n({constructOnly:!0})],l.prototype,\"elevationAlignPointsInFeatures\",void 0),e([n({constructOnly:!0})],l.prototype,\"queryForSymbologySnapping\",void 0),e([n({readOnly:!0})],l.prototype,\"updating\",null),e([n({readOnly:!0})],l.prototype,\"availability\",void 0),e([n()],l.prototype,\"_workerHandleUpdating\",void 0),l=e([r(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle\")],l);class p extends s{constructor(e,t){super(\"FeatureServiceSnappingSourceWorker\",\"fetchCandidates\",{},e,{strategy:\"dedicated\",client:t})}}export{l as FeatureServiceSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../../geometry/Point.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import p from\"../../../../../layers/support/LOD.js\";import l from\"../../../../../layers/support/TileInfo.js\";import{TileKey as n}from\"../../../../../layers/support/TileKey.js\";let a=class extends r{constructor(e){super(e),this.pointOfInterest=null}get tiles(){return[new n(\"0/0/0\",0,0,0,i(-1e8,-1e8,1e8,1e8))]}get tileInfo(){return new l({origin:new s({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}};e([t({readOnly:!0})],a.prototype,\"tiles\",null),e([t({readOnly:!0})],a.prototype,\"tileInfo\",null),e([t({readOnly:!0})],a.prototype,\"tileSize\",null),e([t({constructOnly:!0})],a.prototype,\"layer\",void 0),e([t()],a.prototype,\"pointOfInterest\",void 0),a=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple\")],a);export{a as FeatureServiceTilesSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{HandleOwnerMixin as r}from\"../../../../core/HandleOwner.js\";import{destroyHandle as i}from\"../../../../core/handleUtils.js\";import{isSome as o,applySome as s,mapOr as n}from\"../../../../core/maybe.js\";import{throwIfAborted as a}from\"../../../../core/promiseUtils.js\";import{watch as l,initial as u,sync as p}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ObservableValue as h}from\"../../../../core/accessorSupport/tracking/ObservableValue.js\";import{elevationContextAffectsAlignment as y,absoluteHeightElevationInfo as f}from\"../../../../support/elevationInfoUtils.js\";import{FeatureServiceTiles2D as g}from\"../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js\";import{FeatureServiceTiles3D as m}from\"../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js\";import{convertSnappingCandidate as _,makeGetGroundElevation as S}from\"./queryEngineUtils.js\";import{WorkerTileTreeDebugger as v}from\"./WorkerTileTreeDebugger.js\";import{FeatureServiceSnappingSourceWorkerHandle as w}from\"./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js\";import{FeatureServiceTilesSimple as b}from\"./featureServiceSource/FeatureServiceTilesSimple.js\";import H from\"../../../support/debugFlags.js\";let k=class extends(r(t)){constructor(e){super(e)}get _updateTilesParameters(){return{tiles:this._tilesOfInterest.tiles,tileInfo:this._tilesOfInterest.tileInfo,tileSize:this._tilesOfInterest.tileSize}}get updating(){return this._workerHandle.updating||this.updatingHandles.updating}get configuration(){const{view:e}=this,t=o(e)?e.type:\"2d\";return{filter:this._layer.createQuery(),customParameters:this._layer.customParameters,viewType:t}}get availability(){return this._workerHandle.availability}get _layer(){return this.layerSource.layer}initialize(){const e=this.view;if(o(e))switch(e.type){case\"2d\":this._tilesOfInterest=new g({view:e,layer:this._layer}),this._workerHandle=new w;break;case\"3d\":{const{resourceController:t}=e,r=this._layer,i=e.whenLayerView(r);this._tilesOfInterest=new m({view:e}),this._workerHandle=new w({schedule:e=>t.schedule(e),hasZ:this._layer.hasZ&&(this._layer.returnZ??!0),elevationAlignPointsInFeatures:async(e,t)=>{const r=await i;return a(t),r.elevationAlignPointsInFeatures(e,t)},queryForSymbologySnapping:async(e,t)=>{const r=await i;return a(t),r.queryForSymbologySnapping(e,t)}});const o=new h(null);i.then((e=>o.set(e))),this.addHandles([e.elevationProvider.on(\"elevation-change\",(({context:e})=>{const{elevationInfo:t}=r;y(e,t)&&this._workerHandle?.notifyElevationSourceChange()})),l((()=>r.elevationInfo),(()=>this._workerHandle?.notifyElevationSourceChange()),u),l((()=>s(o.get(),(({processor:e})=>e?.renderer))),(()=>this._workerHandle?.notifySymbologyChange()),u),l((()=>n(o.get(),!1,(e=>e.symbologySnappingSupported))),(e=>this._workerHandle?.setSymbologySnappingSupported(e)),u)]);break}}else this._tilesOfInterest=new b({layer:this._layer}),this._workerHandle=new w;this.handles.add([i(this._workerHandle)]),this._workerHandle.setup({layer:this._layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add((()=>this._updateTilesParameters),(()=>this._workerHandle.updateTiles(this._updateTilesParameters,null)),u),this.handles.add([l((()=>this.configuration),(e=>this._workerHandle.configure(e,null)),p)]),o(e)&&this.handles.add(l((()=>H.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES),(t=>{t&&!this._debug?(this._debug=new v({view:e,handle:this._workerHandle}),this.handles.add(i(this._debug),\"debug\")):!t&&this._debug&&this.handles.remove(\"debug\")}),u)),this.handles.add(this.layerSource.layer.on(\"apply-edits\",(e=>{this._workerHandle.applyEdits(e,null)})))}refresh(){this._workerHandle.refresh(null)}async fetchCandidates(e,t){const{coordinateHelper:r,elevationInfo:i,point:o}=e;this._tilesOfInterest.pointOfInterest=r.vectorToPoint(o);const s=r.hasZ()?f:i,n=this._getGroundElevation;return(await this._workerHandle.fetchCandidates({...e},t)).candidates.map((e=>_(e,r,s,n)))}getDebugInfo(e){return this._workerHandle.getDebugInfo(e)}get _getGroundElevation(){return S(this.view)}};e([c({constructOnly:!0})],k.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],k.prototype,\"layerSource\",void 0),e([c({constructOnly:!0})],k.prototype,\"view\",void 0),e([c()],k.prototype,\"_tilesOfInterest\",void 0),e([c({readOnly:!0})],k.prototype,\"_updateTilesParameters\",null),e([c({readOnly:!0})],k.prototype,\"updating\",null),e([c({readOnly:!0})],k.prototype,\"configuration\",null),e([c({readOnly:!0})],k.prototype,\"availability\",null),e([c()],k.prototype,\"_getGroundElevation\",null),k=e([d(\"esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource\")],k);export{k as FeatureServiceSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t,n,s){super(n,s),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import s from\"../../Color.js\";import t from\"../../Graphic.js\";import o from\"../../core/Accessor.js\";import{lerp as r}from\"../../core/mathUtils.js\";import{isSome as l,isNone as i}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../symbols/PointSymbol3D.js\";import p from\"../../symbols/SimpleFillSymbol.js\";import y from\"../../symbols/TextSymbol.js\";import c from\"../../symbols/TextSymbol3DLayer.js\";const m=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let b=class extends o{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=m.map((e=>new p({color:[e[0],e[1],e[2],.6],outline:{color:\"black\",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(l(e.label))return e.label;let s=e.lij.toString();return l(e.loadPriority)&&(s+=` (${e.loadPriority})`),s},o=this.getTiles(),a=new Array,n=new Set((this._labels.size,this._labels.keys()));o.forEach(((p,m)=>{const b=p.lij.toString();n.delete(b);const d=p.lij[0],g=p.geometry;if(this.enablePolygons&&!this._polygons.has(b)){const e=new t({geometry:g,symbol:this._symbols[d%this._symbols.length]});this._polygons.set(b,e),a.push(e)}if(this.enableLabels){const n=e(p),d=m/(o.length-1),u=r(0,200,d),_=r(20,6,d)/.75,f=l(p.loadPriority)&&p.loadPriority>=o.length,w=new s([u,f?0:u,f?0:u]),j=\"3d\"===this.view.type?()=>new h({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new c({text:n,halo:{color:\"white\",size:1/.75},material:{color:w},size:_})]}):()=>new y({text:n,haloColor:\"white\",haloSize:1/.75,color:w,size:_});if(this._labels.has(b)){const e=this._labels.get(b),s=j();(i(e.symbol)||JSON.stringify(s)!==JSON.stringify(e.symbol))&&(e.symbol=s)}else{const e=new t({geometry:g.extent.center,symbol:j()});this._labels.set(b,e),a.push(e)}}}));const p=new Array;n.forEach((e=>{this._polygons.has(e)&&(p.push(this._polygons.get(e)),this._polygons.delete(e)),this._labels.has(e)&&(p.push(this._labels.get(e)),this._labels.delete(e))})),this.view.graphics.removeMany(p),this.view.graphics.addMany(a)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};e([a({constructOnly:!0})],b.prototype,\"view\",void 0),e([a({readOnly:!0})],b.prototype,\"updating\",void 0),e([a()],b.prototype,\"enabled\",null),b=e([n(\"esri.views.support.TileTreeDebugger\")],b);export{b as TileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class o extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.elevationInfo,this.domain)]}}export{o as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../SnappingConstraint.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as i}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as e}from\"../hints/LineSnappingHint.js\";class r extends i{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new e(n.REFERENCE,this.constraint.start,this.constraint.end,this.elevationInfo,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{DrapedEdgeSnappingCandidate as t}from\"../candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as o}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as n}from\"../candidates/VertexSnappingCandidate.js\";function r(e,r,a,d){switch(e.type){case\"edge\":return e.draped?new t({coordinateHelper:r,edgeStart:r.pointToVector(e.start),edgeEnd:r.pointToVector(e.end),targetPoint:r.pointToVector(e.target),objectId:e.objectId,getGroundElevation:d,elevationInfo:a}):new o({coordinateHelper:r,edgeStart:r.pointToVector(e.start),edgeEnd:r.pointToVector(e.end),targetPoint:r.pointToVector(e.target),objectId:e.objectId,elevationInfo:a});case\"vertex\":return new n({coordinateHelper:r,targetPoint:r.pointToVector(e.target),objectId:e.objectId,elevationInfo:a})}}function a(t){return e(t)&&\"3d\"===t.type?(e,o,n)=>t.elevationProvider.getElevation(e,o,n,t.spatialReference,\"ground\"):()=>null}export{r as convertSnappingCandidate,a as makeGetGroundElevation};\n"],"sourceRoot":""}
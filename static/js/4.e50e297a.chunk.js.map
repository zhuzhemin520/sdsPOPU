{"version":3,"sources":["../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js"],"names":["d","t","n","events","on","e","a","s","action","r","execute","c","screenStart","start","screenEnd","screenPoint","o","G","pointerType","y","g","x","z","Math","cos","sin","sqrt","mapStart","mapEnd","axis","h","geometry","l","type","transform","E","getOriginPoint","spatialReference","move","u","f","clone","equals","origin","i","notifyMeshTransformChanged","notifyGeometryChanged","p","centerAt","geographic","m","Global","j","S","translationX","translationY","translationZ","v","map","filter","forEach","w","Map","set","M","vertexAttributes","clonePositional","q","D","P","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","U","screenDeltaX","screenDeltaY","C","toScreen","width","height","constructor","this","next","X","toMap","exclude","sceneStart","sceneEnd","scenePoints","super","view","_resources","_transform","object","transformation","recreate","attached","createResources","recreateGeometry","_stage","removeMany","geometries","removeAllGeometries","createGeometries","visible","setVisible","addMany","destroyResources","isPickable","updatePolicy","SYNC","add","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","dispose","destroyExternalResources","updateVisibility","ie","_camera","K","_elevation","offset","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","b","_worldFrame","_renderLocation","A","_renderLocationDirty","_location","te","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","grabCursor","_grabbing","dragging","_hovering","_selected","_state","$","None","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","state","camera","copyFrom","destroy","_removeResourcesFromStage","elevationInfo","_elevationInfo","_updateEngineObject","renderObjects","slice","available","disableDisplay","radius","worldSized","modelTransform","se","renderLocation","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","I","k","_e","oe","fromRenderCoords","location","H","emit","_evaluateElevationAlignment","_updateElevationAlignedLocation","Y","grabbableForEvent","grabbing","_setFocused","hovering","selected","updateStateEnabled","focused","screenLocation","_ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","pe","projectToRenderScreen","renderToScreen","applyObjectTransform","intersectionDistance","re","_getCollisionRadius","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","he","ae","length","L","ue","B","ne","get","R","direction","_","ce","me","fe","de","ge","V","_calculateModelTransformPosition","attach","manipulator3D","engineLayerId","J","id","getObject","engineLayerReferences","materialIdReferences","detach","onViewChange","onElevationChange","F","be","extent","mode","Z","elevationProvider","_getFocusedSize","objectsByState","_ensureEngineResources","ee","Focused","Unfocused","Selected","Unselected","stateMask","objects","All","Set","material","has","push","Array","isArray","addGeometry","Q","materials","_addResourcesToStage","delete","le","O","T","test","isVisible","areAnyResourcesVisible","N","W","OccludeAndTransparent","color","transparent","writeDepth","cullFace","Back","renderOccluded","Front","Object","freeze","calloutLength","calloutWidth","discRadius","calloutColor","metadata","textureId","texture","Opaque","discScale","POSITION","size","data","exclusive","UV0","calloutOpacity","customStateMask","atan2","getViewForGraphic","computeAttachmentOrigin","anchor","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_resourceContexts","isToolEditable","manipulator","visibilityPredicate","_updateManipulatorAttachment","getItemAt","splice","_detachManipulator","removeAll","items","some","toArray","intersect","Number","MAX_VALUE","_isManipulatorItemVisible","_attachManipulator","manipulators","automaticManipulatorSelection","hasGrabbedManipulators","hasHoveredManipulators","firstGrabbedManipulator","created","removeIncompleteOnCancel","_editableFlags","MANAGER","USER","_creationFinishedResolver","active","activeTool","_get","_set","_syncVisible","editable","getEditableFlag","setEditableFlag","updating","hasFocusedManipulators","onAdd","activate","getLogger","declaredClass","error","focus","onActivate","deactivate","onDeactivate","handleInputEvent","onInputEvent","handleInputEventAfter","onInputEventAfter","internallyEditable","notifyChange","onEditableChange","onManipulatorSelectionChanged","whenCreated","promise","onShow","onHide","finishToolCreation","resolve","initialized","_show","_hide","constructOnly","prototype","readOnly","value","hasZ","warnOnce","wkid","_hasExternalMaterial","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_writeDepthEnabled","_falloff","_polygonOffset","_material","applyProps","setGeometryFromRenderSpacePoint","setGeometryFromExtent","setGeometryFromFrustum","lines","endpoint","setGeometryFromBoundedPlane","basis1","basis2","setGeometryFromSegment","endRenderSpace","points","createRenderGeometry","setGeometryFromSegments","getTransformedGeometry","_geometry","parameters","setParameters","innerWidth","innerColor","stipplePattern","stippleOffColor","stipplePreferContinuous","writeDepthEnabled","falloff","polygonOffset","hasPolygonOffset","isClosed","vertex","fragment","include","attributes","varyings","hasMultipassTerrain","uniforms","descriptor","textureCoordinateScaleFactor","code","opacity","output","Alpha","float","transparencyPassType","Color","defineProperty","__proto__","build","Symbol","toStringTag","xmin","xmax","ymin","ymax","zmin","zmax","rings","resolution","inverseTransform","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","console","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","enableOffset","initializePipeline","_occludeePipelineState","getPipelineState","ONE","ONE_MINUS_SRC_ALPHA","arguments","hasSlicePlane","cullAboveGround","count","COUNT","supportsEdges","_configuration","getConfiguration","relativeElevation","multipassTerrain","enabled","requiresSlot","Highlight","DRAPED_MATERIAL","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","createBufferWriter","_updateParameters","updateTexture","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","initTextureTransparent","screenSizeEnabled","OFFSET","shadingEnabled","NORMAL","shadingDirection","shadingTint","LESS","LEQUAL","_vertexAttributeLocations","applyToVertex","screenSizeScale","computeRenderPixelSizeAt","applyToAabb","ObjectAndLayerIdColor","vec3f","vertexBufferLayout","allocate","createBuffer","elementCount","indices","write","Error","getField","perScreenPixelRatio"],"mappings":"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","file":"static/js/4.e50e297a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as o,unwrap as a}from\"../../core/maybe.js\";import{createScreenPoint as s}from\"../../core/screenUtils.js\";import{f as c}from\"../../chunks/vec3f64.js\";import{project as i}from\"../../geometry/projection.js\";import{hydratedSpatialReference as l}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as u}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as m}from\"../ViewingMode.js\";import{move as f}from\"../draw/support/drawUtils.js\";import p from\"../../geometry/Point.js\";function y(t,n){let e=null,a=null;return s=>{if(\"cancel\"===s.action)return void(r(a)&&(a.execute({action:\"cancel\"}),e=null,a=null));const c={action:s.action,screenStart:s.start,screenEnd:s.screenPoint};\"start\"===s.action&&o(e)&&(e=new G,a=new G,n(t,e,a,s.pointerType,c)),r(e)&&e.execute(c),\"end\"===s.action&&r(e)&&(e=null,a=null)}}function d(t,n){return t.events.on(\"drag\",y(t,n))}function x(n,e){const r=[];for(const t of n)r.push(d(t,e));return t(r)}function g(t,n){const e=[t.x,t.y,t.z],r=n,o=[Math.cos(r),Math.sin(r)],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]);if(0===a)return null;o[0]/=a,o[1]/=a;const s=t=>{const n=(t.x-e[0])*o[0]+(t.y-e[1])*o[1];t.x=e[0]+n*o[0],t.y=e[1]+n*o[1]};return t=>(s(t.mapStart),s(t.mapEnd),{...t,axis:o})}function h(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=S(t,r.mapStart.spatialReference,n)),o(e))return null;const a=r.mapEnd.x-r.mapStart.x,s=r.mapEnd.y-r.mapStart.y,c=r.mapEnd.z-r.mapStart.z;return e.move(a,s,c),{...r,translationX:a,translationY:s,translationZ:c}}}function E(t,n){return o(t)?null:t.spatialReference.equals(n)?t.clone():i(t,n)}function S(t,n,e){const r=t.geometry,a=l(n);if(o(r))return null;if(\"mesh\"===r.type)return j(t,r,a,e);const s=E(r,a),c=r.spatialReference;return o(s)?null:{move:(n,e,r)=>{const o=f(s.clone(),n,e,r);o.spatialReference.equals(c)?t.geometry=o:t.geometry=i(o,c)}}}function j(t,n,e,o){if(r(n.transform))return z(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let a=0,s=0,c=0;return{move:(e,r,i)=>{const l=e-a,u=r-s,f=i-c;if(l||u||f){const y=new p(n.origin.x+l,n.origin.y+u,n.origin.z+f,n.origin.spatialReference);n.centerAt(y,{geographic:o===m.Global}),t.notifyGeometryChanged(),a=e,s=r,c=i}}}}function z(t,n,e,a){const s=E(e.getOriginPoint(n.spatialReference),a),l=n.spatialReference;return o(s)?null:{move:(n,o,a)=>{const u=f(s.clone(),n,o,a);if(u.spatialReference.equals(l))e.origin=c(u.x,u.y,u.z);else{const t=i(u,l);r(t)&&(e.origin=c(t.x,t.y,t.z))}t.notifyMeshTransformChanged(),t.notifyGeometryChanged()}}}function R(t,n=null,e){let a=null;const s=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?i(t,n):t:t=>t,c={exclude:[],...e};return n=>{if(\"start\"===n.action&&(a=s(t.toMap(n.screenStart,c))),o(a))return null;const e=s(t.toMap(n.screenEnd,c));return r(e)?{...n,mapStart:a,mapEnd:e}:null}}function v(t,n){const e=t.map((t=>a(h(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,o=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:o}}}function w(t,e){const r=new Map;for(const o of e)r.set(o,n(t[o]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function M(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?q(t,t.geometry):w(t,[\"geometry\"])}function q(t,n){const e=r(n.transform)?n.transform.clone():null,o=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=o,t.notifyGeometryChanged(),r)}function D(t){const n=t.map((t=>a(M(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function b(t){return w(t,[\"symbol\"])}function P(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const o=r.mapEnd.x-t,a=r.mapEnd.y-n,s=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:o,mapDeltaY:a,mapDeltaZ:s,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function U(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,o=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:o}}}function C(t,n){let r=null,o=0,a=0;return c=>{if(\"start\"===c.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(o=c.screenStart.x-r.x,a=c.screenStart.y-r.y)),null==r)return null;const i=e(c.screenEnd.x-o,0,t.width),l=e(c.screenEnd.y-a,0,t.height),u=s(i,l);return c.screenStart=r,c.screenEnd=u,c}}class G{constructor(){this.execute=()=>{}}next(t,n=new G){return r(t)&&(this.execute=e=>{const o=t(e);r(o)&&n.execute(o)}),n}}function X(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let o=null;return a=>{\"start\"===a.action&&(o=t.toMap(a.screenStart,{exclude:e}),r(o)&&(o.z=u(o,t,n)));const s=t.toMap(a.screenEnd,{exclude:e});r(s)&&(s.z=u(s,t,n));const c=r(o)&&r(s)?{sceneStart:o,sceneEnd:s}:null;return{...a,scenePoints:c}}}export{G as EventPipeline,P as addMapDelta,U as addScreenDelta,g as constrainToMapAxis,y as createDragEventPipelineCallback,d as createManipulatorDragEventPipeline,x as createManipulatorDragEventPipelineMany,C as dragAtLocation,h as dragGraphic,v as dragGraphicMany,M as resetGraphic,D as resetGraphicMany,w as resetProperties,b as resetSymbol,X as sceneSnappingAtLocation,R as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as _}from\"../../../chunks/mat3.js\";import{c as u}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as b}from\"../../../chunks/mat4f64.js\";import{k as v}from\"../../../chunks/vec2.js\";import{a as y,t as j,m as L,g as S,c as R,d as w,s as O,b as T}from\"../../../chunks/vec3.js\";import{c as A,Z as E}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as k,computeENUToSphericalPCPFLocalRotation as z}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as I}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as P}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as U,intersectRay as V}from\"../../../geometry/support/plane.js\";import{create as N}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as H,hydratedSpatialReference as Y}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as Z}from\"../support/ElevationProvider.js\";import{fromScreen as q}from\"../support/geometryUtils/ray.js\";import{UpdatePolicy as J}from\"../webgl-engine/lib/basicInterfaces.js\";import{Camera as K}from\"../webgl-engine/lib/Camera.js\";import{Object3D as Q}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as X}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as $,ManipulatorStateFlags as ee}from\"../../interactive/interfaces.js\";import te from\"../../../geometry/Point.js\";class ie{constructor(e){this._camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=b(),this._worldFrame=null,this._renderLocation=A(),this._renderLocationDirty=!0,this._location=new te({x:0,y:0,z:0}),this._elevationAlignedLocation=new te,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=$.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this._camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){se(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=b()),oe(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){H(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){H(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=Y(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(se(this._modelTransform)){const t=this._calculateModelTransformOffset(pe);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,re),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(v(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,he),a=r*this.screenLocation.pixelSize,c=q(this._camera,s,ae);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],i);for(let t=1;t<s.length;t++){const o=L(ue,s[t],i),r=B(x(e,o,ne),c);if(null!=r&&r<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this._camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??E,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=r*this.screenLocation.pixelSize,l=q(this._camera,s,ae);if(o(l))return null;const h=_(ce,a),d=j(me,e,h),u=L(fe,t,a);U(u,d,de);const g=ge;if(V(de,l,g)&&w(g,u)<c*c)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=r*this._camera.computeScreenPixelSizeAt(this.renderLocation),l=q(this._camera,s,ae);if(o(l))return null;const d=_(ce,a),u=j(me,t,d),g=this._calculateModelTransformPosition(fe);U(g,u,de);const m=ge;if(!V(de,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],a);for(let t=1;t<s.length;t++){const i=L(ue,s[t],a),o=C(x(e,i,ne),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this._camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(o(t.engineLayerId)){const e=new X({isPickable:!1,updatePolicy:J.SYNC});this.view._stage.add(e),t.engineLayerId=e.id,this._engineLayer=e}else this.view._stage?.getObject&&(this._engineLayer=this.view._stage.getObject(t.engineLayerId));t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new te({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,be,e.spatialReference),P(e.extent,be)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(Z(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(Z(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(Z(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=he;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?ee.Focused:ee.Unfocused)|(this.selected?ee.Selected:ee.Unselected),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=(r&ee.All)!==ee.None,i=(r&$.All)!==$.None,a=!e||(s&r)==(r&ee.All),c=!i||(this.state&r)==(r&$.All);if(a&&c)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new Q({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources)||!this.view._stage)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,le);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function se(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function oe(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=I(e.renderCoordsHelper.spatialReference);return k(t,0,_e,0,o.radius),z(i(_e[0]),i(_e[1]),s),!0}}}const re=a(),ne=M(),ae=N(),ce=u(),le=b(),he=b(),de=W(),_e=A(),ue=A(),ge=A(),me=A(),fe=A(),pe=A(),be=new te({x:0,y:0,z:0,spatialReference:null});export{ie as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{b as a,f as n,m as o,n as i}from\"../../../chunks/vec3.js\";import{f as c}from\"../../../chunks/vec3f64.js\";import{f as s}from\"../../../chunks/vec4f64.js\";import{sv3d as l,sm4d as m}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as d}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as f}from\"../webgl-engine/lib/basicInterfaces.js\";import{Geometry as g}from\"../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as h,createSphereGeometry as b}from\"../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as w}from\"../webgl-engine/lib/Material.js\";import{VertexAttribute as j}from\"../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as O}from\"../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as y}from\"../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as M}from\"../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as k}from\"../webgl-engine/materials/RibbonLineMaterial.js\";import{ShadedColorMaterial as v}from\"../webgl-engine/materials/ShadedColorMaterial.js\";import{ManipulatorStateCustomFlags as S,ManipulatorStateFlags as F}from\"../../interactive/interfaces.js\";function A(e,t=w.OccludeAndTransparent,r=!0){const a=s(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return r?new v({color:a,transparent:n,writeDepth:!0,cullFace:f.Back,renderOccluded:t}):new O({color:a,transparent:n,writeDepth:!0,cullFace:f.Back,renderOccluded:t})}function I(e,t=w.OccludeAndTransparent){const r=s(e[0],e[1],e[2],4===e.length?e[3]:1);return new O({color:r,transparent:!0,writeDepth:!0,cullFace:f.Front,renderOccluded:t})}const L=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1,calloutColor:c(1,.5,0)});function R(e,t){const r=new d({view:e,autoScaleRenderObjects:!1,collisionPriority:1,metadata:t.metadata});return T(r,t),r}function T(e,t){const r=t.material??new y({transparent:!0,writeDepth:!1,textureId:t.texture?.id,renderOccluded:w.Opaque}),a=t.focusMultiplier??L.focusMultiplier,n=t.calloutLength??L.calloutLength,o=L.discRadius*(t.discScale??1),i=o*a,c=e=>{const t=[0,1,2,2,3,0];return new g([[j.POSITION,{size:3,data:[n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],exclusive:!0}],[j.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[j.POSITION,t],[j.UV0,t]])},l=h([[0,0,0],[n-o,0,0]]),m=h([[0,0,0],[n-i,0,0]]),u=L.calloutColor,d=t.calloutWidth??L.calloutWidth,p=new(d>1?k:M)({width:d,color:s(u[0],u[1],u[2],t.calloutOpacity??1),renderOccluded:w.OccludeAndTransparent}),f=t.customStateMask??S.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[n,0,0]},e.focusMultiplier=a,e.metadata=t.metadata,e.radius=o,e.renderObjects=[{geometry:c(o),material:r,stateMask:F.Unfocused|f},{geometry:l,material:p,stateMask:F.Unfocused|f},{geometry:c(i),material:r,stateMask:F.Focused|f},{geometry:m,material:p,stateMask:F.Focused|f}]}function U(e,t,r,a=S.None){return new d({view:e,renderObjects:[{geometry:b(1,32,32),material:A(s(t[0],t[1],t[2],null!=r?r:1)),stateMask:a}]})}const x=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function z(e,t,i,c){const s=a(l.get(),e,i),u=D(s,n(l.get(),c,s),i,m.get());r(u,u);const d=o(l.get(),t,u);return Math.atan2(d[1],d[0])}function D(e,t,r,a){const o=i(l.get(),e),c=i(l.get(),t),s=n(l.get(),o,c);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=0,a[4]=c[0],a[5]=c[1],a[6]=c[2],a[7]=0,a[8]=s[0],a[9]=s[1],a[10]=s[2],a[11]=0,a[12]=r[0],a[13]=r[1],a[14]=r[2],a[15]=1,a}function N(t,r){const a=t.getViewForGraphic(r);return e(a)&&\"computeAttachmentOrigin\"in a?a.computeAttachmentOrigin(r,t.spatialReference):null}function C(t,r,a){const n=N(t,a);e(n)?r.elevationAlignedLocation=n:V(r,a.geometry)}function V(e,r){if(t(r))return;const a=\"mesh\"===r.type?r.anchor:p(r);t(a)||(e.location=u(a))}export{z as calculateInputRotationTransform,D as calculateTranslateRotateFromBases,A as createManipulatorMaterial,I as createManipulatorOutlineMaterial,R as createRotateManipulator,U as createSphereManipulator,N as getGraphicAttachmentOrigin,C as placeAtGraphic,T as updateRotateManipulator,x as worldScaledManipulatorSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isSome as a}from\"../../core/maybe.js\";var i;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(i||(i={}));class e{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=i.WhenToolEditable){this.addMany([t],a)}addMany(t,a=i.WhenToolEditable){for(const i of t){const t={manipulator:i,visibilityPredicate:a,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.getItemAt(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,i){let e=null,o=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:s,attached:r})=>{if(!r||!s.interactive)return;const n=s.intersectionDistance(t,i);a(n)&&n<o&&(o=n,e=s)})),e}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===i.Always||(this._isToolEditable?t.visibilityPredicate===i.WhenToolEditable:t.visibilityPredicate===i.WhenToolNotEditable)}}export{e as ManipulatorCollection,i as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as o}from\"../../core/maybe.js\";import{createResolver as a}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as n}from\"./interfaces.js\";import{ManipulatorCollection as l}from\"./ManipulatorCollection.js\";let p=class extends e{constructor(t){super(t),this.manipulators=new l,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[n.MANAGER,!0],[n.USER,!0]]),this._creationFinishedResolver=a()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(n.USER)}set editable(t){this.setEditableFlag(n.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){o(this.view)?i.getLogger(this.declaredClass).error(\"Can't activate tool if view is not defined.\"):(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===n.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(n.USER)&&this.getEditableFlag(n.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([s({constructOnly:!0})],p.prototype,\"view\",void 0),t([s({readOnly:!0})],p.prototype,\"active\",null),t([s({value:!0})],p.prototype,\"visible\",null),t([s({value:!0})],p.prototype,\"editable\",null),t([s({readOnly:!0})],p.prototype,\"manipulators\",void 0),t([s({readOnly:!0})],p.prototype,\"updating\",null),t([s()],p.prototype,\"cursor\",null),t([s({readOnly:!0})],p.prototype,\"automaticManipulatorSelection\",void 0),t([s()],p.prototype,\"hasFocusedManipulators\",null),t([s()],p.prototype,\"hasGrabbedManipulators\",void 0),t([s()],p.prototype,\"hasHoveredManipulators\",void 0),t([s()],p.prototype,\"firstGrabbedManipulator\",void 0),t([s({readOnly:!0})],p.prototype,\"created\",void 0),t([s({readOnly:!0})],p.prototype,\"removeIncompleteOnCancel\",void 0),p=t([r(\"esri.views.interactive.InteractiveToolBase\")],p);export{p as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as o,isSome as e,unwrapOr as r}from\"../../../../core/maybe.js\";import{tryProjectWithZConversion as t}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as i}from\"../../support/ElevationProvider.js\";function n(n,a,p,s=!1){const c=t(n,a);return o(c)?null:(c.hasZ&&!s||!e(p)||(c.z=r(i(p,c),0)),c)}function a(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{n as applyProjectionAndElevationAlignment,a as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as r}from\"../../../../core/maybe.js\";import{f as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as a,m as o}from\"../../../../chunks/vec3.js\";import{Z as l,c as n}from\"../../../../chunks/vec3f64.js\";import{f as h,a as m}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as _,createGeometry as f}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as d}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class c extends p{constructor(t,r){super(t),this._hasExternalMaterial=!1,this._renderOccluded=d.OccludeAndTransparent,this._width=1,this._color=h(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this._material=r,this._hasExternalMaterial=e(r),this.applyProps(t)}setGeometryFromRenderSpacePoint(e,t=1e3){const r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n(),s=n(),i=100,o=[];a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),this.geometry=[o]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,a=.5,o=n(),l=n(),h=n(),m=n();o[0]=r[0]-s[0]*a-i[0]*a,o[1]=r[1]-s[1]*a-i[1]*a,o[2]=r[2]-s[2]*a-i[2]*a,l[0]=r[0]-s[0]*a+i[0]*a,l[1]=r[1]-s[1]*a+i[1]*a,l[2]=r[2]-s[2]*a+i[2]*a,h[0]=r[0]+s[0]*a+i[0]*a,h[1]=r[1]+s[1]*a+i[1]*a,h[2]=r[2]+s[2]*a+i[2]*a,m[0]=r[0]+s[0]*a-i[0]*a,m[1]=r[1]+s[1]*a-i[1]*a,m[2]=r[2]+s[2]*a-i[2]*a,t.push([o[0],o[1],o[2]]),t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([m[0],m[1],m[2]]),t.push([o[0],o[1],o[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=s(g,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=l){this.transform=s(g,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return t(this._geometry)?null:this._geometry.map((e=>e.map((e=>o(n(),e,this.transform)))))}get renderOccluded(){return e(this._material)?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(t){this._renderOccluded=t,e(this._material)&&this._material.setParameters({renderOccluded:t})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return e(this._material)?this._material.parameters.width:this._width}set width(t){this._width=t,e(this._material)&&this._material.setParameters({width:t})}get color(){return e(this._material)?this._material.parameters.color:this._color}set color(t){this._color=m(t),e(this._material)&&this._material.setParameters({color:this._color})}get innerWidth(){return e(this._material)?this._material.parameters.innerWidth:this._innerWidth}set innerWidth(t){this._innerWidth=t,e(this._material)&&this._material.setParameters({innerWidth:t})}get innerColor(){return e(this._material)?this._material.parameters.innerColor:this._innerColor}set innerColor(t){this._innerColor=e(t)?m(t):t,e(this._material)&&this._material.setParameters({innerColor:this._innerColor})}get stipplePattern(){return e(this._material)?this._material.parameters.stipplePattern:this._stipplePattern}set stipplePattern(t){this._stipplePattern=t,e(this._material)&&this._material.setParameters({stipplePattern:t})}get stippleOffColor(){return e(this._material)?this._material.parameters.stippleOffColor:this._stippleOffColor}set stippleOffColor(t){this._stippleOffColor=e(t)?m(t):null,e(this._material)&&this._material.setParameters({stippleOffColor:this._stippleOffColor})}get stipplePreferContinuous(){return e(this._material)?this._material.parameters.stipplePreferContinuous:this._stipplePreferContinuous}set stipplePreferContinuous(t){this._stipplePreferContinuous=t,e(this._material)&&this._material.setParameters({stipplePreferContinuous:t})}get writeDepthEnabled(){return e(this._material)?this._material.parameters.writeDepth:this._writeDepthEnabled}set writeDepthEnabled(t){this._writeDepthEnabled=t,e(this._material)&&this._material.setParameters({writeDepth:t})}get falloff(){return e(this._material)?this._material.parameters.falloff:this._falloff}set falloff(t){this._falloff=t,e(this._material)&&this._material.setParameters({falloff:t})}get polygonOffset(){return e(this._material)?this._material.parameters.hasPolygonOffset:this._polygonOffset}set polygonOffset(t){this._polygonOffset=t,e(this._material)&&this._material.setParameters({hasPolygonOffset:t})}createExternalResources(){this._hasExternalMaterial||(this._material=new u({width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of _(this.geometry)){const s=f(t);e.addGeometry(s,r(this._material))}}forEachExternalMaterial(e){this._hasExternalMaterial||e(r(this._material))}}const g=i();export{c as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new c,{vertex:h,fragment:b}=w;return l(h,f),w.include(a,f),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\"),h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as o}from\"../../../geometry/support/coordsUtils.js\";function r(t,n,e,r){if(null==r||t.hasZ||(r=void 0),\"point\"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if(\"multipoint\"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l(o[t],n,e,r);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin+=r,t.zmax+=r),t;const s=o(t),i=\"polyline\"===t.type?t.paths:t.rings;for(let o=0;o<s.length;o++){const t=s[o];for(let o=0;o<t.length;o++)t[o]=l(t[o],n,e,r)}return\"paths\"in t?t.paths=i:t.rings=i,t}function s(t,n,e,s,i){const a=t.clone(),m=s.resolution;if(\"point\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],i=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(i+e)+o[4],a.y=o[1]*(r+n)+o[3]*(i+e)+o[5]}return a}if(\"multipoint\"===a.type){if(i)r(a,n*m,-e*m);else{const t=a.points,o=s.state.transform,r=s.state.inverseTransform;for(let s=0;s<t.length;s++){const i=t[s],a=o[0]*i[0]+o[2]*i[1]+o[4],m=o[1]*i[0]+o[3]*i[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[s]=x(i,l,p,void 0)}}return a}if(\"extent\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],i=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(i+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(i+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5]}return a}if(i)r(a,n*m,-e*m);else{const t=o(a),r=\"polyline\"===a.type?a.paths:a.rings,i=s.state.transform,m=s.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],s=i[0]*o[0]+i[2]*o[1]+i[4],a=i[1]*o[0]+i[3]*o[1]+i[5],l=m[0]*(s+n)+m[2]*(a+e)+m[4],p=m[1]*(s+n)+m[3]*(a+e)+m[5];r[t]=x(o,l,p,void 0)}}\"paths\"in a?a.paths=r:a.rings=r}return a}function i(t,r,s,i){if(\"point\"===t.type){const{x:n,y:e}=t,o=i?i[0]:n,a=i?i[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*s+a;return m.x=l,m.y=x,m}if(\"multipoint\"===t.type){const a=o(t),m=n(),[l,p,y,f]=e(m,[a]),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,i=(e-u)*r+u,a=(o-c)*s+c;g[t]=x(n,i,a,void 0)}return h}if(\"extent\"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=i?i[0]:(n+e)/2,l=i?i[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*s+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*s+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t}return x}const a=o(t),m=n(),[l,p,y,f]=e(m,a),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=\"polyline\"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[i,a]=o,m=(i-u)*r+u,l=(a-c)*s+c;g[n][e]=x(o,m,l,void 0)}}return\"paths\"in h?h.paths=g:h.rings=g,h}function a(t,n,e,o,r,s){const i=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(s-n)*(s-n))/i}function m(n,e,o){const r=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(r),Math.cos(r));return t(s)}function l(t,n,e,o){return x(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}export{s as cloneMove,m as getRotationAngle,a as getScaleRatio,r as move,i as scale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this._handle=e((()=>this.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProps(e){let t=!1;for(const s in e)s in this?\"attached\"===s?t=e[s]:this[s]=e[s]:console.error(\"Cannot set unknown property\",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as l,oitDepthTest as p,oitDepthWrite as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as P,makePipelineState as j,cullingParams as O,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){return new h(e.rctx,_.shader.get().build(this.configuration),n)}_setPipelineState(e,r){const i=this.configuration,s=e===y.NONE,o=e===y.FrontFace;return j({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:l(e),culling:O(i.cullFace),depthTest:{func:p(e)},depthWrite:s?i.writeDepth&&S:c(e),colorWrite:v,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:s||o?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const C=P(T.ONE,T.ONE_MINUS_SRC_ALPHA);class w extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=a.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:a.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:y.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as r}from\"../lib/GLTextureMaterial.js\";import{Material as a,MaterialParameters as s}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as i}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as u,PositionUVLayout as o}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as h}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as l,ImageMaterialTechnique as c}from\"../shaders/ImageMaterialTechnique.js\";class p extends a{constructor(e){super(e,new d),this.supportsEdges=!0,this._configuration=new l}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<i,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,t,r,a,s,i,n){h(e,t,a,s,i,void 0,n)}requiresSlot(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===n.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===n.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?n.TRANSPARENT_MATERIAL:n.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:n.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new m(e)}createBufferWriter(){return new u(o)}}class m extends r{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(c,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class d extends s{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{p as ImageMaterial,d as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n,addViewNormal as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as m}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as v}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as u}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function w(e){const w=new v,b=e.hasMultipassTerrain&&(e.output===r.Color||e.output===r.Alpha);w.include(a,e),w.include(o,e),w.include(i,e);const{vertex:h,fragment:C}=w;return C.include(s),n(h,e),C.uniforms.add(new g(\"uColor\",(e=>e.color))),w.attributes.add(p.POSITION,\"vec3\"),w.varyings.add(\"vWorldPosition\",\"vec3\"),b&&w.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&w.attributes.add(p.OFFSET,\"vec3\"),e.shadingEnabled&&(t(h),w.attributes.add(p.NORMAL,\"vec3\"),w.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(m`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(m`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(m`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&w.include(l,e),C.code.add(m`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),e.shadingEnabled?(C.uniforms.add(new c(\"shadingDirection\",(e=>e.shadingDirection))),C.uniforms.add(new g(\"shadedColor\",(e=>f(e.shadingTint,e.color)))),C.code.add(m`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(m`vec4 finalColor = uColor;`),C.code.add(m`\n      if (finalColor.a < ${m.float(d)}) {\n        discard;\n      }\n      ${e.output===r.Alpha?m`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${e.output===r.Color?m`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===u.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),w}function f(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:\"Module\"}));export{h as S,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as a,oitBlending as n,oitDepthWrite as p,OITPolygonOffset as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as c}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as h}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as d}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as m}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as f}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as y,defaultDepthWriteParams as S,defaultColorWriteParams as T}from\"../../../webgl/renderState.js\";class g extends o{initializeProgram(e){return new u(e.rctx,g.shader.get().build(this.configuration),v)}_setPipelineState(e){const r=this.configuration,o=e===c.NONE,i=e===c.FrontFace;return b({blending:r.output!==t.Color&&r.output!==t.Alpha||!r.transparent?null:o?a:n(e),culling:y(r.cullFace),depthTest:{func:i?f.LESS:r.shadingEnabled?f.LEQUAL:f.LESS},depthWrite:o?r.writeDepth&&S:p(e),colorWrite:T,polygonOffset:o||i?null:l})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}g.shader=new r(m,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=c.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],j.prototype,\"output\",void 0),e([i({count:s.COUNT})],j.prototype,\"cullFace\",void 0),e([i({count:c.COUNT})],j.prototype,\"transparencyPassType\",void 0),e([i()],j.prototype,\"hasSlicePlane\",void 0),e([i()],j.prototype,\"transparent\",void 0),e([i()],j.prototype,\"writeDepth\",void 0),e([i()],j.prototype,\"screenSizeEnabled\",void 0),e([i()],j.prototype,\"shadingEnabled\",void 0),e([i()],j.prototype,\"hasMultipassTerrain\",void 0),e([i()],j.prototype,\"cullAboveGround\",void 0);const v=new Map([[h.POSITION,0],[h.NORMAL,1],[h.OFFSET,2]]);export{g as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,v as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,g as r,a as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as m}from\"../lib/Material.js\";import{RenderSlot as d}from\"../lib/RenderSlot.js\";import{assert as S}from\"../lib/Util.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as E,writePosition as g}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as A}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as T,vertexAttributeLocations as _,ShadedColorMaterialTechnique as F}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends f{constructor(e){super(e,new x),this.supportsEdges=!0,this._configuration=new T,this._vertexAttributeLocations=_}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,u,h){if(this.parameters.screenSizeEnabled){const a=e.vertexAttributes.get(b.OFFSET),p={applyToVertex:(e,s,n,o)=>{const l=t(L,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),u=t(w,e,s,n);return r(l,l,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(l)),i(u,u,l),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=n(e,L);return o(e,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(t))}};A(e,s,c,l,u,p,h)}else A(e,s,c,l,u,void 0,h)}requiresSlot(e,t){if(t===u.Highlight)return e===d.OPAQUE_MATERIAL;if(t===u.Color||t===u.Alpha||t===u.ObjectAndLayerIdColor){let t=d.OPAQUE_MATERIAL;return this.parameters.transparent&&(t=this.parameters.writeDepth?d.TRANSPARENT_MATERIAL:d.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===d.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new j(e)}createBufferWriter(){return new O(this.parameters.screenSizeEnabled)}}class j extends p{beginSlot(e){return this.ensureTechnique(F,e)}}class x extends m{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=h.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class O{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(b.POSITION).vec3f(b.NORMAL);this.screenSizeEnabled&&t.vec3f(b.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(b.POSITION).length}write(e,t,r,i,s){if(E(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.vertexAttributes.has(b.OFFSET))throw new Error(`${b.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.vertexAttributes.get(b.OFFSET),a=r.indices.get(b.OFFSET);S(3===e.size);const n=i.getField(b.OFFSET,c);if(!n)throw new Error(\"unable to acquire view for \"+b.OFFSET);g(a,e.data,t,n,s)}}}}const L=s(),w=s();export{v as ShadedColorMaterial,x as ShadedColorMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{addCameraPosition as e}from\"./util/View.glsl.js\";import{FloatPassUniform as i}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function o(o,n){if(!n.screenSizeEnabled)return;const c=o.vertex;e(c,n),c.uniforms.add(new i(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),c.uniforms.add(new i(\"screenSizeScale\",(e=>e.screenSizeScale))),c.code.add(r`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}export{o as ScreenSizeScaling};\n"],"sourceRoot":""}
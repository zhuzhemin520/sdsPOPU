{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js"],"names":["async","d","l","popupTemplate","e","s","getRequiredFields","fieldsIndex","lastEditInfoEnabled","i","objectIdField","n","typeIdField","u","globalIdField","a","relationships","o","includes","r","p","f","t","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","c","initialize","this","handles","add","layer","doRefresh","dataChanged","catch","getLogger","declaredClass","error","prototype","constructor","_schedule","_handle","destroy","invoke","buffer","byteLength","options","sourceSpatialReference","toJSON","then","spatialReference","fromJSON","fields","length","features","uid","generateUID","geometry","Promise","resolve","super","_parseFeatureQuery","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","_decoder","schedule","applyTransform","maxStringAttributeLength","parsedUrl","_createRequestOptions","data","signal","reject","queryFeatureCount","customParameters","token","apiKey","y","constructOnly","readOnly","h","queryFeatures","m","source","queryFeaturesJSON","name","_memoryCache","_capabilities","layerView","_layerView","_returnZ","returnZ","_returnM","returnM","view","resourceController","type","infoFor3D","_memoryCacheEnabled","memoryController","newCache","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","logFetchError","message","_","O","A","_updatingRequiredFieldsPromise","filter","timeExtent","requiredFields","elevationInfo","featureExpressionInfo","displayField","timeInfo","renderer","labelingInfo","floorInfo","featureEffect","_handleRequiredFieldsChange","floors","sublayers","_override","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","highlight","Error","returnGeometry","R","v","where","intersection","clone","createAggregateQuery","queryObjectIds","queryExtent","validateFetchPopupFeatures","fetchClientPopupFeatures","_loadArcadeModules","get","Array","isArray","content","some","j","_updateRequiredFields","_set","orderBy","featureReduction","Set","collectRequiredFields","F","g","w","E","b","startField","endField","floorField","x","subtypeField","map","all","from","sort","clientGraphics","popupEnabled","isAggregate","q","Map","createPopupQuery","arcadeUtils","hasGeometryOperations","I","set","getObjectId","size","Boolean","objectIds","keys","P","canResume","isEmpty","Number","M","_controllerTotal","_processorTotal","suspendResumeExtentMode","updatingHandles","addPromise","removeAll","_fetcherContext","controller","_get","suspended","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","mode","serviceDataCount","SYNC","hasZ","supportsZ","hasM","supportsM","setVisibility","setObjectIdVisibility","_queryFeaturesMesh","_ensureQuery","beforeSetController","createController","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","displayFeatureLimit","refetch","refreshFilter","getUsedMemory","usedMemory","memoryForUnusedFeatures","getUnloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","_validateQueryFeaturesMesh","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","attributes","graphic","returnCentroid","equals","performanceInfo","averageSymbolComplexity","primitivesPerFeature","primitivesPerCoordinate","_getResourceInfo","storedFeatures","totalVertices","partial","symbolComplexity","nodes","tileDescriptors","displayedNumberOfFeatures","debug","test","loadedGraphics","point","polygon","polyline"],"mappings":"+HAAA,uFAIwJA,eAAeC,EAAEC,EAAED,EAAEC,EAAEC,eAAe,GAAGC,YAAEH,GAAG,MAAM,GAAG,MAAMI,QAAQJ,EAAEK,kBAAkBJ,EAAEK,cAAcC,oBAAoBC,GAAGR,GAAGS,cAAcC,EAAEC,YAAYC,EAAEC,cAAcC,EAAEC,cAAcC,GAAGf,EAAE,GAAGG,EAAEa,SAAS,KAAK,MAAM,CAAC,KAAK,MAAMC,EAAEV,QAAQW,YAAElB,GAAG,GAAGmB,EAAEC,YAAEpB,EAAEK,YAAY,IAAIF,KAAKc,IAAI,OAAON,GAAGQ,EAAEE,KAAKV,GAAGQ,GAAGV,GAAGT,EAAEK,YAAYiB,IAAIb,KAAKU,EAAEH,SAASP,IAAIU,EAAEE,KAAKZ,GAAGU,GAAGN,GAAGb,EAAEK,YAAYiB,IAAIT,KAAKM,EAAEH,SAASH,IAAIM,EAAEE,KAAKR,GAAGE,GAAGA,EAAEQ,SAASrB,IAAI,MAAMsB,SAASN,GAAGhB,EAAEiB,GAAGD,GAAGlB,EAAEK,YAAYiB,IAAIJ,KAAKC,EAAEH,SAASE,IAAIC,EAAEE,KAAKH,EAAE,IAAIC,CAAC,CAAC,SAAShB,EAAED,EAAEgB,GAAG,OAAOhB,EAAED,cAAcC,EAAED,cAAcD,YAAEkB,IAAIA,EAAEO,6BAA6BzB,YAAEE,EAAEwB,sBAAsBxB,EAAEwB,qBAAqB,IAAI,C,oCCJpyB,kGAIya,MAAMnB,EAAEA,IAAI,IAAIoB,EAAE,cAAcpB,EAAEqB,aAAaC,KAAKC,QAAQC,IAAIhB,aAAG,IAAIc,KAAKG,OAAO,WAAWf,IAAIY,KAAKI,UAAUhB,EAAEiB,aAAaC,OAAOlB,IAAId,YAAEc,IAAIf,IAAEkC,UAAUP,KAAKQ,eAAeC,MAAMrB,EAAE,GAAG,IAAI,uBAAuB,GAAG,OAAOA,YAAE,CAACG,eAAKO,EAAEY,UAAU,aAAQ,GAAQZ,EAAEV,YAAE,CAACJ,YAAE,4CAA4Cc,GAAGA,CAAC,C,2PCAxe,MAAMpB,EAAEiC,YAAYtC,GAAG2B,KAAKY,UAAUvC,EAAE2B,KAAKa,QAAQ,IAAIjC,EAAEP,EAAE,CAACyC,UAAUd,KAAKa,QAAQC,SAAS,CAACC,OAAO7B,EAAER,GAAG,OAAOQ,EAAE8B,QAAQ,IAAI9B,EAAE8B,OAAOC,YAAY/B,EAAEgC,QAAQC,wBAAwBjC,EAAEgC,QAAQC,kCAAkC5B,MAAIL,EAAEgC,QAAQ,IAAIhC,EAAEgC,QAAQC,uBAAuBjC,EAAEgC,QAAQC,uBAAuBC,WAAWpB,KAAKa,QAAQE,OAAO7B,EAAER,GAAG2C,MAAMnC,GAAGc,KAAKY,WAAW,KAAK,GAAG1B,EAAEoC,iBAAiB/B,IAAEgC,SAASrC,EAAEoC,kBAAkBpC,EAAEsC,OAAO,IAAI,IAAInD,EAAE,EAAEA,EAAEa,EAAEsC,OAAOC,OAAOpD,IAAIa,EAAEsC,OAAOnD,GAAGC,IAAEiD,SAASrC,EAAEsC,OAAOnD,IAAI,MAAMK,EAAEQ,EAAEoC,iBAAiB,IAAI,MAAM/B,KAAKL,EAAEwC,SAASnC,EAAEoC,IAAItD,IAAEuD,cAAcxC,YAAEG,EAAEsC,YAAYtC,EAAEsC,SAASP,iBAAiB5C,GAAG,OAAOQ,CAAC,OAAO4C,QAAQC,QAAQ,KAAK,EAAE,MAAMnD,UAAUM,IAAEyB,YAAYtC,GAAG2D,MAAM,mBAAmB,qBAAqB,CAACC,mBAAmB5D,GAAG,CAACA,EAAE2C,SAAS3C,EAAE,ECAzR,IAAIH,EAAE,cAAckB,IAAEuB,YAAYtC,GAAG2D,MAAM3D,EAAE,CAAK6D,8BAA0B,MAAM7D,EAAE2B,KAAKG,MAAMgC,aAAa/C,EAAEf,GAAGA,EAAE+D,MAAM,GAAGhD,GAAGA,EAAEiD,kBAAkB,SAAC/D,YAAE0B,KAAKsC,YAAYtC,KAAKsC,SAAS,IAAInE,EAAE6B,KAAKuC,WAAW,MAAMlE,EAAE,CAAC8C,uBAA4D,OAAtC,EAA4B,OAA5B,EAACnB,KAAKG,MAAMmB,uBAAgB,EAA3B,EAA6BF,UAAQ,EAAE,KAAKoB,gBAAe,EAAGC,yBAAyB,MAAM,MAAM,CAACrD,EAAEd,IAAIwB,mBAAEE,KAAKG,MAAMuC,UAAUtD,EAAE,MAAMY,KAAK2C,sBAAsBrE,IAAI+C,MAAMjC,IAAIN,YAAER,GAAGiB,YAAES,KAAKsC,UAAUtC,KAAKsC,SAASvB,OAAO,CAACC,OAAO5B,EAAEwD,KAAK1B,QAAQ7C,GAAGC,EAAEuE,QAAQf,QAAQgB,OAAO9D,iBAAO,CAAC,MAAM,CAACX,EAAEe,IAAIR,uBAAEoB,KAAKG,MAAMuC,UAAUrE,EAAE2B,KAAKG,MAAMmB,iBAAiBtB,KAAK2C,sBAAsBvD,IAAIiC,MAAMhD,GAAGgB,YAAEhB,EAAEuE,OAAO,CAACG,kBAAkB1E,EAAEe,GAAG,OAAOY,KAAKG,MAAM4C,kBAAkB1E,EAAEe,EAAE,CAAC0B,UAAUd,KAAKsC,SAASpD,YAAEc,KAAKsC,SAAS,CAACK,sBAAsBtE,GAAG,MAAM,IAAIA,EAAE+D,MAAM,IAAIpC,KAAKG,MAAM6C,iBAAiBC,MAAMjD,KAAKG,MAAM+C,UAAW,MAAD7E,OAAC,EAADA,EAAG+D,OAAO,GAAG/D,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAMlF,EAAEwC,UAAU,aAAQ,GAAQrC,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAMlF,EAAEwC,UAAU,gBAAW,GAAQrC,YAAE,CAAC8E,YAAE,CAACE,UAAS,KAAMnF,EAAEwC,UAAU,0BAA0B,MAAMxC,EAAEG,YAAE,CAACK,YAAE,8EAA8ER,GAAG,IAAIoF,EAAE,cAAclE,IAAEuB,YAAYtC,GAAG2D,MAAM3D,EAAE,CAAC6D,wBAAwB7D,EAAEe,GAAG,OAAOY,KAAKG,MAAMoD,cAAclF,EAAEe,EAAE,CAAC2D,kBAAkB1E,EAAEe,GAAG,OAAOY,KAAKG,MAAM4C,kBAAkB1E,EAAEe,EAAE,GAAGf,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAME,EAAE5C,UAAU,aAAQ,GAAQrC,YAAE,CAAC8E,YAAE,CAACE,UAAS,KAAMC,EAAE5C,UAAU,0BAA0B,MAAM4C,EAAEjF,YAAE,CAACK,YAAE,kFAAkF4E,GAAG,IAAIE,EAAE,cAAcpE,IAAEuB,YAAYtC,GAAG2D,MAAM3D,EAAE,CAAC6D,wBAAwB7D,EAAEe,GAAG,OAAOY,KAAKG,MAAMoD,cAAclF,EAAEe,EAAE,GAAGf,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAMI,EAAE9C,UAAU,aAAQ,GAAQ8C,EAAEnF,YAAE,CAACK,YAAE,8EAA8E8E,GAAG,IAAIlE,EAAE,cAAcF,IAAEuB,YAAYtC,GAAG2D,MAAM3D,EAAE,CAAC6D,wBAAwB7D,EAAEe,GAAG,OAAOY,KAAKyD,OAAOC,kBAAkBrF,EAAEe,GAAGiC,KAAKhC,KAAGE,IAAI,GAAGA,GAAG,oCAAoCA,EAAEoE,KAAK,OAAO3D,KAAKG,MAAMoD,cAAclF,EAAEe,GAAG,MAAMG,CAAC,GAAG,CAACwD,kBAAkB1E,EAAEe,GAAG,OAAOY,KAAKG,MAAM4C,kBAAkB1E,EAAEe,EAAE,GAAqVf,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAM9D,EAAEoB,UAAU,aAAQ,GAAQrC,YAAE,CAAC8E,YAAE,CAACC,eAAc,KAAM9D,EAAEoB,UAAU,cAAS,GAAQpB,EAAEjB,YAAE,CAACK,YAAE,6EAA6EY,GCA7jG,MAAMN,EAAE2B,YAAYtC,GAAG2B,KAAK4D,aAAa,KAAK5D,KAAK6D,cAAc,KAAK,MAAMzE,EAAEf,EAAEyF,UAAU3D,MAAMH,KAAK+D,WAAW1F,EAAEyF,UAAU9D,KAAKrB,cAAcS,EAAET,cAAcqB,KAAKjB,cAAc,kBAAkBK,EAAEA,EAAEL,cAAc,KAAKiB,KAAKgE,SAAS3F,EAAE4F,QAAQjE,KAAKkE,SAAS7F,EAAE8F,QAAQ,MAAM5E,EAAES,KAAK+D,WAAWK,KAAKC,mBAAmBrE,KAAKoC,MDA0uE,SAAW/D,EAAEe,GAAG,MAAM,YAAYf,EAAEiG,MAAM,kBAAkBjG,EAAEoF,OAAOa,KAAK/E,YAAElB,EAAEkG,WAAW,IAAIjB,EAAE,CAACnD,MAAM9B,IAAI,IAAIH,EAAE,CAACiC,MAAM9B,EAAEkE,SAASnD,IAAI,YAAYf,EAAEiG,MAAM,WAAWjG,EAAEoF,OAAOa,MAAM,QAAQjG,EAAEiG,MAAM,YAAYjG,EAAEiG,MAAM,qBAAqBjG,EAAEiG,MAAM,QAAQjG,EAAEiG,KAAK,IAAIhF,EAAE,CAACa,MAAM9B,EAAEoF,OAAOpF,EAAEoF,SAAS,gBAAgBpF,EAAEiG,KAAK,IAAId,EAAE,CAACrD,MAAM9B,IAAI,IAAI,CCArjFK,CAAEU,GAAGf,GAAGkB,EAAEgD,SAASlE,KAAKkB,GAAGS,KAAKwE,sBAAsBxE,KAAK4D,aAAarE,EAAEkF,iBAAiBC,SAAStF,EAAEuC,KAAK,CAAK6C,0BAAsB,OAAOxE,KAAK+D,WAAW5D,MAAMsD,OAAOa,MAAM,IAAI,gBAAgB,IAAI,cAAc,IAAI,mBAAmB,OAAM,EAAG,IAAI,MAAM,IAAI,UAAU,IAAI,SAAS,IAAI,MAAM,OAAM,EAAG,CAACxD,UAAUd,KAAK4D,aAAavF,YAAE2B,KAAK4D,cAAc5D,KAAKoC,MAAMtB,SAAS,CAAC6D,cAAc,MAAMtG,EAAE2B,KAAK+D,WAAW5D,MAAMwE,cAAc,OAAOtG,EAAEuG,UAAU5E,KAAK+D,WAAWc,gBAAgBxG,EAAE4F,QAAQjE,KAAKgE,SAAS3F,EAAE8F,QAAQnE,KAAKkE,SAAS7F,EAAEyG,oBAAoB9E,KAAK+E,aAAazD,iBAAiBjD,CAAC,CAAK2G,kBAAc,OAAOhF,KAAK4D,YAAY,CAAKqB,kBAAc,OAAOjF,KAAK+D,WAAWK,KAAKc,MAAMD,WAAW,CAAKF,mBAAe,OAAO/E,KAAK+D,WAAWK,KAAKe,aAAaJ,YAAY,CAAKK,gBAAY,MAAM/G,EAAE2B,KAAK+D,WAAWK,KAAKC,mBAAmB,OAAOhG,EAAEA,EAAE+G,UAAU,IAAI,CAAKC,mBAAe,OAAOrF,KAAK+D,WAAW5D,MAAMkF,YAAY,CAAKC,iBAAa,OAAOtF,KAAK+D,WAAW5D,MAAMmF,UAAU,CAAKC,yBAAqB,OAAOvF,KAAK+D,WAAW5D,MAAMgC,aAAaC,MAAMmD,kBAAkB,CAAKC,qBAAiB,OAAOxF,KAAK+D,WAAW5D,MAAMgC,aAAaC,MAAMoD,cAAc,CAAKrD,mBAAe,OAAO/C,YAAEY,KAAK6D,iBAAiB7D,KAAK6D,cAActE,YAAES,KAAK+D,WAAW5D,QAAQH,KAAK6D,aAAa,CAAC4B,cAAcpH,EAAEe,GAAGf,EAAEoC,MAAM,eAAeT,KAAK+D,WAAW5D,MAAMf,GAAGA,EAAEsG,QAAQtG,EAAEsG,QAAQtG,EAAE,E,+GCA7kB,MAAMuG,EAAE,qCAAqCC,EAAExG,IAAEmB,UAAUoF,GAAGE,EAAEzG,IAAI,IAAIyG,EAAE,cAAczG,EAAEuB,eAAetC,GAAG2D,SAAS3D,GAAG2B,KAAK8F,+BAA+B,KAAK9F,KAAK+F,OAAO,KAAK/F,KAAKgG,WAAW,KAAKhG,KAAKG,MAAM,KAAKH,KAAKiG,eAAe,GAAGjG,KAAKoE,KAAK,IAAI,CAACrE,aAAaC,KAAKC,QAAQC,IAAI,CAACtB,aAAG,KAAI,MAAC,MAAMP,EAAE2B,KAAKG,MAAM,MAAM,CAAE,MAAD9B,GAAgB,OAAf,EAADA,EAAG6H,oBAAF,EAAD,EAAkBC,sBAAsB9H,GAAG,iBAAiBA,EAAEA,EAAE+H,aAAa,KAAM,MAAD/H,OAAC,EAADA,EAAGgI,SAAShI,GAAG,aAAaA,GAAGA,EAAEiI,SAASjI,GAAG,iBAAiBA,GAAGA,EAAEkI,aAAalI,GAAG,cAAcA,GAAGA,EAAEmI,UAAUxG,KAAK+F,OAAO/F,KAAKyG,cAAczG,KAAKgG,WAAW,IAAI,IAAIhG,KAAK0G,+BAA+B1H,KAAGb,aAAG,kBAAa,OAAb,EAAI6B,KAAKoE,WAAI,EAAT,EAAWuC,MAAM,GAAE,UAAU,IAAI3G,KAAK0G,gCAAgCvI,aAAG,KAAK,MAAME,EAAE2B,KAAKG,MAAM,OAAO9B,GAAG,cAAcA,GAAGA,EAAEuI,SAAS,GAAG,UAAU,IAAI5G,KAAK0G,iCAAiC,CAAK7B,sBAAkB,MAAM1E,MAAM9B,EAAE8B,OAAO3B,YAAYe,GAAG0G,eAAe7G,GAAGY,KAAK,MAAM,cAAc3B,GAAGA,EAAEuG,UAAUpB,YAAEjE,EAAE,IAAI4D,YAAE5D,EAAElB,EAAEuG,cAAcxF,IAAIoE,YAAEjE,EAAEH,EAAE,CAAKqH,oBAAgB,OAAOzG,KAAKG,OAAO,kBAAkBH,KAAKG,MAAMH,KAAKG,MAAMsG,cAAc,IAAI,CAAKA,kBAAcpI,GAAG2B,KAAK6G,UAAU,gBAAgBxI,EAAE,CAAKyI,8BAA0B,OAAO,CAAC,CAAKA,4BAAwBzI,GAAGuH,EAAEnF,MAAM,4BAA4B,sDAAsD,CAAKsG,sCAAkC,OAAM,CAAE,CAACC,UAAU3I,GAAG,MAAM,IAAI4I,MAAM,yBAAyB,CAACtC,cAAc,MAAMtG,EAAE,CAACuG,UAAU,CAAC,KAAKsC,gBAAe,EAAGpC,oBAAoB9E,KAAKoE,KAAK9C,kBAAkB/B,EAAEb,YAAEsB,KAAK+F,QAAQ/F,KAAK+F,OAAOpB,YAAYtG,GAAG,IAAI8I,IAAE9I,GAAG,GAAG,YAAY2B,KAAKG,MAAMmE,KAAK,CAAC,MAAMjG,EAAE+I,YAAEpH,MAAMtB,YAAEL,KAAKkB,EAAE8H,MAAM9H,EAAE8H,MAAO,IAAG9H,EAAE8H,eAAehJ,KAAKA,EAAE,CAAC,OAAOK,YAAEsB,KAAKgG,cAAczG,EAAEyG,WAAWtH,YAAEa,EAAEyG,YAAYzG,EAAEyG,WAAWsB,aAAatH,KAAKgG,YAAYhG,KAAKgG,WAAWuB,SAAShI,CAAC,CAACiI,uBAAuB,MAAMnJ,EAAE,CAACuG,UAAU,CAAC,KAAKsC,gBAAe,EAAGpC,oBAAoB9E,KAAKoE,KAAK9C,kBAAkB,OAAO,IAAI6F,IAAE9I,EAAE,CAACkF,cAAclF,EAAEkB,GAAG,MAAM,IAAI0H,MAAM,yBAAyB,CAACQ,eAAepJ,EAAEkB,GAAG,MAAM,IAAI0H,MAAM,yBAAyB,CAAClE,kBAAkB1E,EAAEkB,GAAG,MAAM,IAAI0H,MAAM,yBAAyB,CAACS,YAAYrJ,EAAEkB,GAAG,MAAM,IAAI0H,MAAM,yBAAyB,CAAChJ,yBAAyBI,EAAEkB,GAAG,MAAMH,EAAEY,KAAK2H,2BAA2BpI,GAAG,GAAGH,EAAE,MAAMA,EAAE,OAAOY,KAAK4H,yBAAyBrI,EAAE,CAACsI,mBAAmBxJ,GAAG,GAAGA,EAAEyJ,IAAI,2BAA2BC,MAAMC,QAAQ3J,EAAE4J,UAAU5J,EAAE4J,QAAQC,MAAM7J,GAAG,eAAeA,EAAEiG,OAAO,OAAO6D,aAAG,CAACzB,8BAA8B,MAAMrI,EAAE2B,KAAKoI,wBAAwBpI,KAAKqI,KAAK,iCAAiChK,GAAGA,EAAEgD,MAAM,KAAKrB,KAAK8F,iCAAiCzH,GAAG2B,KAAKqI,KAAK,iCAAiC,KAAK,GAAG,CAACpK,8BAA8B,IAAI+B,KAAKG,QAAQH,KAAKoE,KAAK,OAAO,MAAM/F,EAAE,OAAO2B,KAAKoE,KAAKE,MAAMnE,MAAMZ,EAAEY,OAAO3B,YAAYY,EAAET,cAAcL,IAAI0B,KAAKpB,EAAE,aAAaW,GAAGA,EAAE+G,SAAStH,EAAE,YAAYO,GAAGA,EAAE+I,QAAQnK,EAAE,qBAAqBoB,EAAEA,EAAEgJ,iBAAiB,KAAKzJ,EAAE,IAAI0J,IAAInJ,QAAQH,YAAE,CAACN,EAAEA,EAAE6J,sBAAsB3J,EAAEM,GAAG,KAAKkE,YAAExE,EAAES,GAAGlB,EAAEqK,YAAE5J,EAAES,GAAG,KAAKb,YAAEsB,KAAK+F,QAAQ4C,YAAE7J,EAAES,EAAES,KAAK+F,QAAQ,KAAKrH,YAAEsB,KAAKyG,eAAekC,YAAE7J,EAAES,EAAES,KAAKyG,cAAcV,QAAQ,KAAK5H,EAAEyK,YAAE9J,EAAES,EAAEpB,GAAG,KAAKa,EAAE6J,YAAE/J,EAAES,EAAEP,GAAG,OAAO,GAAGO,EAAE8G,UAAUrG,KAAKgG,YAAY8C,YAAEhK,EAAES,EAAEf,YAAY,CAACe,EAAE8G,SAAS0C,WAAWxJ,EAAE8G,SAAS2C,WAAW,YAAYzJ,EAAE+E,OAAO/E,EAAEiH,WAAWsC,YAAEhK,EAAES,EAAEf,YAAY,CAACe,EAAEiH,UAAUyC,aAAa5K,GAAGK,YAAEa,EAAEgF,aAAa,MAAMhF,EAAER,eAAe6G,EAAEnF,MAAM,iDAAiDqI,YAAEhK,EAAES,EAAEf,YAAY,CAACe,EAAER,kBAAkB,kBAAkBQ,EAAE+E,KAAK,CAAC4E,YAAEpK,EAAEM,EAAEG,EAAE4J,cAAc,MAAM9K,EAAEkB,EAAEqH,UAAUwC,KAAK/K,IAAC,aAAEyD,QAAQuH,IAAI,CAAW,OAAX,EAAChL,EAAEiI,eAAQ,EAAV,EAAYmC,sBAAsB3J,EAAEM,GAAGkE,YAAExE,EAAET,IAAI,UAASa,YAAEb,EAAE,CAAC,IAAI,MAAMK,KAAKW,EAAEX,EAAE+B,OAAOmF,EAAEnF,MAAM/B,EAAE+B,OAAOyI,YAAEpK,EAAEM,EAAEd,GAAGD,GAAG,iBAAiBkB,GAAGA,EAAE6G,cAAc8C,YAAEpK,EAAEM,EAAEG,EAAE6G,cAAc,MAAMlI,EAAE6J,MAAMuB,KAAKxK,GAAGyK,OAAOvJ,KAAKqI,KAAK,iBAAiBnK,EAAE,CAACyJ,2BAA2BtJ,GAAG,GAAGC,YAAED,GAAG,OAAO,KAAK,IAAI,MAAMe,KAAKf,EAAEmL,eAAe,CAAC,MAAM9K,EAAEU,EAAEe,MAAM,GAAG,iBAAiBzB,IAAIA,EAAE+K,aAAa,OAAO,IAAIlK,IAAE,sCAAsC,sBAAsB,CAACY,MAAMzB,IAAI,GAAGU,EAAEsK,YAAY,CAAC,MAAMrL,EAAE,qBAAqBK,EAAEA,EAAE6J,iBAAiB,KAAK,KAAKlK,GAAG,kBAAkBA,GAAGA,EAAEoL,cAAcpL,EAAED,eAAe,OAAO,IAAImB,IAAE,sCAAsC,sBAAsB,CAACY,MAAMzB,GAAG,MAAM,GAAG,kBAAkBA,IAAOiL,YAAEjL,EAAEL,GAAG,OAAO,IAAIkB,IAAE,sCAAsC,yCAAyC,CAACY,MAAMzB,GAAI,CAAC,CAACT,+BAA+BI,GAAG,MAAMkB,EAAEb,YAAEL,GAAGA,EAAEmL,eAAe,KAAK,IAAIjK,GAAG,IAAIA,EAAEkC,OAAO,MAAM,GAAG,MAAMrC,EAAE,IAAI2I,MAAMxI,EAAEkC,QAAQvC,EAAE,IAAI0K,IAAIhL,QAAQoB,KAAK6J,iBAAiBxL,GAAG,IAAI,IAAIK,EAAE,EAAEA,EAAEa,EAAEkC,OAAO/C,IAAI,CAAC,MAAMM,EAAEO,EAAEb,GAAG,GAAGM,EAAE0K,YAAY,CAACtK,EAAEV,GAAGM,EAAE,QAAQ,CAAC,MAAMmB,MAAMhC,GAAGa,EAAE,KAAK,iBAAiBb,GAAG,SAAS,MAAMW,EAAEqE,YAAEnD,KAAKG,MAAM3B,YAAYI,EAAEgG,WAAWvF,EAAEsK,YAAExL,EAAEE,GAAG,GAAGC,YAAEe,GAAG,SAAS,MAAMnB,QAAQ8B,KAAK6H,mBAAmBxI,GAAGnB,GAAGA,EAAE4L,YAAYC,sBAAsB1K,KAAK2K,YAAElL,EAAEE,GAAGE,EAAE+K,IAAIjL,EAAEkL,cAAcxL,GAAGU,EAAEV,GAAGM,CAAC,CAAC,GAAG,WAAWgB,KAAKG,MAAMmE,MAAM,IAAIpF,EAAEiL,KAAK,OAAO/K,EAAE2G,OAAOqE,SAASxL,EAAEyL,UAAUtC,MAAMuB,KAAKpK,EAAEoL,QAAQ,IAAI,MAAMjM,QAAQ2B,KAAKG,MAAMoD,cAAc3E,GAAG,IAAI,MAAMW,KAAKlB,EAAEqD,SAAUtC,EAAEF,EAAE4I,IAAIvI,EAAE2K,gBAAgB3K,CAAS,CAAN,MAAM,CAAC,OAAOH,EAAE2G,OAAOqE,QAAQ,CAACnM,uBAAuBI,GAAG,MAAMkB,EAAES,KAAKG,MAAMwE,cAAcvF,EAAE,IAAIoJ,IAAI,IAAItJ,GAAE,EAAG,MAAMN,EAAEF,YAAEL,IAAIA,EAAEmL,eAAenL,EAAEmL,eAAeJ,KAAK/K,GAAGA,EAAE8B,QAAQ,CAACH,KAAKG,OAAO,IAAI,MAAMzB,KAAKE,EAAE,CAAC,KAAK,iBAAiBF,GAAG,SAAS,MAAMa,EAAEoK,YAAEjL,EAAEL,GAAG,GAAGC,YAAEiB,GAAG,SAAS,MAAMX,QAAQoB,KAAK6H,mBAAmBtI,GAAGP,EAAEJ,GAAGA,EAAEkL,YAAYC,sBAAsBxK,GAAGL,IAAI,UAAUc,KAAKG,MAAMkF,eAAerG,GAAG,MAAMb,QAAQoM,YAAEvK,KAAKG,MAAMZ,GAAG,IAAI,MAAMlB,KAAKF,EAAEiB,EAAEc,IAAI7B,EAAE,CAAC,GAAGkB,EAAE2H,eAAehI,EAAEK,EAAE0E,QAAQ/E,EAAEK,EAAE4E,QAAQjF,EAAEK,EAAEqF,UAAUmD,MAAMuB,KAAKlK,GAAGG,EAAEuF,oBAAoB9E,KAAKoE,KAAK9C,iBAAiB,YAAYtB,KAAKG,MAAMmE,KAAK,CAAC,MAAMjG,EAAE+I,YAAEpH,MAAMtB,YAAEL,KAAKkB,EAAE8H,MAAM9H,EAAE8H,MAAO,IAAG9H,EAAE8H,eAAehJ,KAAKA,EAAE,CAAC,OAAOkB,CAAC,CAACiL,YAAY,QAAQxI,MAAMwI,eAAe9L,YAAEsB,KAAKgG,cAAchG,KAAKgG,WAAWyE,QAAQ,GAAG,OAAOpM,YAAE,CAACS,eAAK+G,EAAEnF,UAAU,sCAAiC,GAAQrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMwC,EAAEnF,UAAU,kBAAkB,MAAMrC,YAAE,CAACS,YAAE,CAACwF,KAAKhF,OAAKuG,EAAEnF,UAAU,gBAAgB,MAAMrC,YAAE,CAACS,YAAE,CAACwF,KAAKxE,OAAK+F,EAAEnF,UAAU,cAAS,GAAQrC,YAAE,CAACS,YAAEZ,MAAI2H,EAAEnF,UAAU,kBAAa,GAAQrC,YAAE,CAACS,eAAK+G,EAAEnF,UAAU,aAAQ,GAAQrC,YAAE,CAACS,YAAE,CAACwF,KAAKoG,UAAU7E,EAAEnF,UAAU,0BAA0B,MAAMrC,YAAE,CAACS,YAAE,CAACuE,UAAS,EAAGiB,KAAK8F,WAAWvE,EAAEnF,UAAU,kCAAkC,MAAMrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMwC,EAAEnF,UAAU,sBAAiB,GAAQrC,YAAE,CAACS,eAAK+G,EAAEnF,UAAU,iBAAY,GAAQrC,YAAE,CAACS,eAAK+G,EAAEnF,UAAU,YAAO,GAAQmF,EAAExH,YAAE,CAACgB,YAAEsG,IAAIE,GAAGA,CAAC,E,wBCAlxM,IAAIF,EAAE,cAAcgF,YAAErH,YAAE4F,EAAEhL,YAAE4K,SAAOnI,YAAYtC,GAAG2D,MAAM3D,GAAG2B,KAAK4K,iBAAiB,EAAE5K,KAAK6K,gBAAgB,EAAE7K,KAAK8K,wBAAwB,MAAM,CAAC/K,aAAaC,KAAKC,QAAQC,IAAIxB,aAAG,IAAIsB,KAAK8F,iCAAiCzH,GAAG2B,KAAK+K,gBAAgBC,WAAW3M,IAAIO,KAAG,CAACkC,UAAUd,KAAK+K,gBAAgBE,YAAYjL,KAAKC,QAAQgL,YAAYjL,KAAKkL,gBAAgB9L,YAAEY,KAAKkL,gBAAgB,CAAKpE,8BAAyB,QAAC,OAA+C,OAA/C,EAAsB,OAAtB,EAAO9G,KAAKmL,iBAAU,EAAf,EAAiBrE,yBAAuB,EAAE9G,KAAKoL,KAAK,0BAA0B,CAAKtE,4BAAwBzI,GAAG2B,KAAKqI,KAAK,0BAA0BhK,GAAG2B,KAAKmL,aAAanL,KAAKmL,WAAWrE,wBAAwBzI,EAAE,CAAK0I,sCAAkC,QAAQ/G,KAAKmL,cAAcnL,KAAKqL,YAAYrL,KAAKmL,WAAWpE,gCAAgC,CAAKuE,4BAAuB,QAAC,IAAIjN,EAAE,EAAE,GAAkB,OAAlB,EAAG2B,KAAKmL,aAAL,EAAiBI,SAAS,CAAC,MAAMhM,EAAES,KAAKmL,WAAWK,kBAAkBpM,EAAEqM,KAAKC,IAAI1L,KAAKmL,WAAWQ,cAAc3L,KAAK4K,kBAAkBxL,EAAE,IAAIf,GAAGe,EAAEG,GAAGH,EAAEY,KAAK4K,iBAAiBxL,EAAE,CAAC,IAAIG,EAAE,EAAE,GAAiB,OAAjB,EAAGS,KAAK4L,YAAL,EAAgBL,SAAS,CAAC,MAAMlN,EAAE2B,KAAK4L,UAAUJ,kBAAkBpM,EAAEqM,KAAKC,IAAIrN,EAAE2B,KAAK6K,iBAAiBzL,EAAE,IAAIG,GAAGH,EAAEf,GAAGe,EAAEY,KAAK6K,gBAAgBzL,EAAE,CAAC,MAAM,IAAIf,EAAEkB,EAAE,CAAKsM,mBAAe,IAAI7L,KAAKmL,WAAW,OAAOzC,IAAEoD,MAAM,OAAO9L,KAAKmL,WAAWY,MAAM,IAAI,WAAW,CAAC,MAAM1N,EAAEuH,EAAE5F,KAAKG,MAAMkF,cAAc,OAAO,MAAMhH,GAAG2B,KAAKmL,WAAWa,iBAAiB3N,EAAEqK,IAAEoD,MAAMpD,IAAEuD,IAAI,CAAC,IAAI,QAAQ,OAAOvD,IAAEoD,MAAM,CAAKI,WAAO,MAAM7N,EAAE2B,KAAKG,MAAMZ,EAAElB,EAAE8D,cAAc9D,EAAE8D,aAAaS,KAAK,SAASrD,IAAIA,EAAE4M,aAAa,YAAY9N,GAAG,MAAMA,EAAE4F,QAAQ5F,EAAE4F,QAAQ1E,EAAE4M,UAAU,CAAKC,WAAO,MAAM/N,EAAE2B,KAAKG,MAAMZ,EAAElB,EAAE8D,cAAc9D,EAAE8D,aAAaS,KAAK,SAASrD,IAAIA,EAAE8M,YAAa,YAAYhO,GAAG,MAAMA,EAAE8F,SAAS9F,EAAE8F,OAAQ,CAACmI,cAAcjO,EAAEkB,GAAE,MAAe,OAAd,EAAAS,KAAK4L,YAAL,EAAgBW,sBAAsBlO,EAAEkB,EAAE,CAACoF,cAAc,OAAO3C,MAAM2C,aAAa,CAACpB,cAAclF,EAAEkB,GAAG,MAAMH,EAAE,IAAI4C,MAAMuB,cAAclF,EAAEkB,GAAG,MAAM,SAASS,KAAKG,MAAMkF,aAAarF,KAAKwM,mBAAmBxM,KAAKyM,aAAapO,GAAGe,GAAGA,GAAG,CAACsN,oBAAoBrO,GAAGA,EAAEyI,wBAAwB9G,KAAK8G,uBAAuB,CAAC6F,mBAAmB3M,KAAKkL,gBAAgB,IAAI/H,EAAE,CAACW,UAAU9D,KAAKiE,QAAQjE,KAAKkM,KAAK/H,QAAQnE,KAAKoM,OAAO,MAAM/N,EAAE,IAAImF,IAAE,CAACM,UAAU9D,KAAK4M,QAAQ5M,KAAKkL,gBAAgB2B,SAAS,IAAIvN,IAAEwN,OAAO9M,KAAK+M,iBAAiB,OAAO/M,KAAK+K,gBAAgB7K,KAAK,IAAI7B,EAAE2O,oBAAoB3O,IAAI2B,KAAK4L,YAAY5L,KAAK4L,UAAUqB,WAAW5O,EAAE,GAAGW,KAAGgB,KAAKC,QAAQC,IAAIxB,aAAG,IAAIsB,KAAKqL,YAAY9L,IAAIA,EAAElB,EAAE6O,UAAU7O,EAAE8O,QAAQ,GAAGvO,MAAIoB,KAAK+K,gBAAgB7K,KAAK,kBAAkB,OAAlB,EAAIF,KAAK4L,gBAAS,EAAd,EAAgBwB,mBAAmB,IAAG7N,GAAGlB,EAAE+O,oBAAoB7N,GAAGP,KAAGgB,KAAKC,QAAQC,IAAI/B,aAAG,KAAK6B,KAAKuL,WAAW,KAAKvL,KAAK4K,iBAAiB,EAAE5K,KAAK6K,gBAAgB,CAAC,KAAKxM,CAAC,CAACJ,gBAAgBI,GAAGA,IAAI2B,KAAKqL,WAAWrL,KAAKmL,YAAYnL,KAAKmL,WAAWkC,UAAUrN,KAAK4L,UAAU0B,eAAe,CAACC,gBAAe,YAAC,OAAiC,OAA3B,EAAe,OAAf,EAACvN,KAAK4L,gBAAS,EAAd,EAAgB4B,YAAU,EAAE,IAA4C,OAA3C,EAAkB,OAAlB,EAAGxN,KAAKmL,iBAAU,EAAf,EAAiBsC,yBAAuB,EAAE,EAAE,CAACC,oBAAmB,oBAAC,MAAMrP,EAA2C,OAA1C,EAAe,OAAf,EAAC2B,KAAK4L,gBAAS,EAAd,EAAgB+B,2BAAyB,EAAE,EAAEpO,EAAsC,OAArC,EAAgB,OAAhB,EAACS,KAAKmL,iBAAU,EAAf,EAAiByC,qBAAmB,EAAE,EAAExO,EAAgC,OAA/B,EAAe,OAAf,EAACY,KAAK4L,gBAAS,EAAd,EAAgBiC,gBAAc,EAAE,EAAE,OAAOxP,GAAG,IAAIe,GAAGG,EAAEH,EAAE,GAAG,EAAEG,GAAuC,OAAtC,EAAgB,OAAhB,EAAES,KAAK4L,gBAAS,EAAd,EAAgBkC,sBAAoB,EAAE,GAAG,CAACC,sBAAqB,MAAC,OAAsB,OAAtB,EAAO/N,KAAKmL,iBAAU,EAAf,EAAiB6C,kCAAkC,CAAC/P,yBAAyBI,EAAEkB,SAASS,KAAKiO,2BAA2B5P,GAAG,MAAMe,QAAQG,IAAI,GAAGlB,GAAGA,EAAE6P,eAAe5P,YAAE0B,KAAKmO,qBAAqB,OAAO/O,EAAE,MAAMF,EAAEc,KAAKG,MAAMxB,cAAcD,EAAEsB,KAAKmO,oBAAoBC,6BAA6BpP,EAAE,GAAG,IAAI,MAAMV,KAAKc,EAAEsC,SAAS,GAAGpD,EAAEuD,SAAS,CAAC,MAAMxD,EAAEK,EAAEoJ,IAAIxJ,EAAE+P,WAAWnP,IAAIb,IAAIC,EAAEuD,SAAS/B,YAAEzB,EAAEiQ,QAAQzM,UAAU7C,EAAEQ,KAAKlB,GAAG,MAAMU,EAAEQ,KAAKlB,GAAG,OAAOc,EAAEsC,SAAS1C,EAAEI,CAAC,CAACnB,iCAAiCI,GAAG,IAAIA,EAAE,OAAO,MAAMe,EAAEf,IAAI,MAAM,IAAIkB,IAAE,uCAAwC,6DAA4DlB,KAAK,EAAEC,EAAE,CAAC,yBAAyB,oBAAoB,sBAAsB,IAAI,MAAMiB,KAAKjB,EAAE,MAAMD,EAAEkB,IAAIH,EAAEG,GAAG,YAAYlB,GAAGA,EAAE8F,SAAS/E,EAAE,WAAW,mBAAmBf,GAAGA,EAAEkQ,gBAAgBnP,EAAE,kBAAkBF,YAAEb,EAAEyG,uBAAuBzG,EAAEyG,oBAAoB0J,OAAOxO,KAAKoE,KAAK9C,mBAAmBlC,EAAE,sBAAsB,CAAKqP,sBAAiB,cAAC,MAAMpQ,EAAiB,OAAhB,EAAC2B,KAAKmL,iBAAU,EAAf,EAAiBiC,oBAAoB7N,EAAEL,YAAEb,IAAIA,EAAEqQ,wBAAwBtP,EAAEF,YAAEK,GAAI,KAAIA,EAAEoP,0BAA0BpP,EAAEqP,0BAA0B,MAAMtQ,EAAE,IAAI0B,KAAK6O,mBAAmBC,eAAe,EAAEC,cAAc,EAAEC,QAAQhP,KAAK+G,gCAAgCgF,KAA0B,OAAtB,EAAgB,OAAhB,EAAC/L,KAAKmL,iBAAU,EAAf,EAAiBY,MAAI,EAAE,MAAMkD,iBAAiB7P,EAAE8P,MAA6C,OAAxC,EAAgB,OAAhB,EAAClP,KAAKmL,iBAAU,EAAf,EAAiBgE,gBAAgB1N,QAAM,EAAE,GAAG,GAAGzB,KAAKmL,YAAY7M,EAAE8Q,0BAA0B,CAAC,MAAM/Q,EAAE2B,KAAKmL,WAAWkE,MAAM/Q,EAAEwQ,eAAezQ,EAAEyQ,eAAexQ,EAAEyQ,cAAc1Q,EAAE0Q,aAAa,CAAC,OAAOzQ,CAAC,CAAKgR,WAAM,MAAC,MAAM,CAACzD,aAAa7L,KAAK6L,aAAaV,WAAWnL,KAAKmL,WAAWoE,eAA8B,OAAhB,EAACvP,KAAKmL,iBAAU,EAAf,EAAiB0B,SAAS,GAAGxO,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,aAAQ,GAAQrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,kBAAa,GAAQrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,wBAAmB,GAAQrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,uBAAkB,GAAQrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,0BAA0B,MAAMrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,kCAAkC,MAAMrC,YAAE,CAACS,YAAE6J,MAAIhD,EAAEjF,UAAU,wBAAmB,GAAQrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMsC,EAAEjF,UAAU,wBAAwB,MAAMrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMsC,EAAEjF,UAAU,eAAe,MAAMrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMsC,EAAEjF,UAAU,OAAO,MAAMrC,YAAE,CAACS,YAAE,CAACuE,UAAS,KAAMsC,EAAEjF,UAAU,OAAO,MAAMrC,YAAE,CAACS,eAAK6G,EAAEjF,UAAU,+BAA0B,GAAQiF,EAAEtH,YAAE,CAACgB,YAAE,gDAAgDsG,GAAG,MAAMC,EAAE,CAAC4J,MAAM,IAAIC,QAAQ,IAAIC,SAAS,KAAKvH,EAAExC,C","file":"static/js/7.3c8ea6a1.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{isSome as r}from\"../../../core/maybe.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import s from\"../../../layers/support/Field.js\";class i{constructor(e){this._schedule=e,this._handle=new n(e)}destroy(){this._handle.destroy()}invoke(o,i){return o.buffer&&0!==o.buffer.byteLength?(o.options.sourceSpatialReference&&o.options.sourceSpatialReference instanceof t&&(o.options={...o.options,sourceSpatialReference:o.options.sourceSpatialReference.toJSON()}),this._handle.invoke(o,i).then((o=>this._schedule((()=>{if(o.spatialReference=t.fromJSON(o.spatialReference),o.fields)for(let e=0;e<o.fields.length;e++)o.fields[e]=s.fromJSON(o.fields[e]);const i=o.spatialReference;for(const t of o.features)t.uid=e.generateUID(),r(t.geometry)&&(t.geometry.spatialReference=i);return o}))))):Promise.resolve(null)}}class n extends o{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{i as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as t,isNone as s,destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as u,createAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as c,executeQuery as n}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as l}from\"../../support/PBFDecoder.js\";let d=class extends r{constructor(e){super(e)}get queryFeaturesDehydrated(){const e=this.layer.capabilities,r=e&&e.query;if(r&&r.supportsFormatPBF){s(this._decoder)&&(this._decoder=new l(this.schedule));const e={sourceSpatialReference:this.layer.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeLength:1024};return(r,s)=>c(this.layer.parsedUrl,r,\"pbf\",this._createRequestOptions(s)).then((r=>(u(s),t(this._decoder)?this._decoder.invoke({buffer:r.data,options:e},s.signal):Promise.reject(a()))))}return(e,r)=>n(this.layer.parsedUrl,e,this.layer.spatialReference,this._createRequestOptions(r)).then((e=>p(e.data)))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=o(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([y({constructOnly:!0})],d.prototype,\"layer\",void 0),e([y({constructOnly:!0})],d.prototype,\"schedule\",void 0),e([y({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],d);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([y({constructOnly:!0})],h.prototype,\"layer\",void 0),e([y({readOnly:!0})],h.prototype,\"queryFeaturesDehydrated\",null),h=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],h);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([y({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let f=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(p,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function q(e,r){return\"feature\"===e.type&&\"feature-layer\"===e.source.type?t(e.infoFor3D)?new h({layer:e}):new d({layer:e,schedule:r}):\"feature\"===e.type&&\"memory\"===e.source.type||\"csv\"===e.type||\"geojson\"===e.type||\"oriented-imagery\"===e.type||\"wfs\"===e.type?new f({layer:e,source:e.source}):\"ogc-feature\"===e.type?new m({layer:e}):null}e([y({constructOnly:!0})],f.prototype,\"layer\",void 0),e([y({constructOnly:!0})],f.prototype,\"source\",void 0),f=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],f);export{q as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class a{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const t=this._layerView.view.resourceController;this.query=i(r,(e=>t.schedule(e))),t&&this._memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this._layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this._layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this._layerView.layer,r&&r.message?r.message:r)}}export{a as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{isSome as i,isNone as s}from\"../../core/maybe.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{watch as n,syncAndInitial as a,on as l}from\"../../core/reactiveUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as d}from\"../../layers/support/commonProperties.js\";import f from\"../../layers/support/FeatureEffect.js\";import c from\"../../layers/support/FeatureFilter.js\";import{fixFields as m,unpackFieldNames as y,collectLabelingFields as h,collectElevationFields as F,collectFilterFields as g,collectFeatureReductionFields as w,collectOrderByInfos as E,collectFields as b,collectField as x,featureHasFields as I}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as v}from\"../../layers/support/floorFilterUtils.js\";import R from\"../../rest/support/Query.js\";import{loadArcade as j}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as q,getRequiredFields as P}from\"./support/popupUtils.js\";const _=\"esri.views.layers.FeatureLayerView\",O=r.getLogger(_),A=r=>{let A=class extends r{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.handles.add([n((()=>{const e=this.layer;return[e?.elevationInfo?.featureExpressionInfo,e&&\"displayField\"in e?e.displayField:null,e?.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),a),l((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),l((()=>{const e=this.layer;return e&&\"sublayers\"in e&&e.sublayers}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?m(t,[...y(t,e.outFields),...r]):m(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){O.error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=i(this.filter)?this.filter.createQuery(e):new R(e);if(\"feature\"===this.layer.type){const e=v(this);i(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return i(this.timeExtent)&&(t.timeExtent=i(t.timeExtent)?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new R(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){if(e.get(\"expressionInfos.length\")||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type)))return j()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:s}}=this,n=\"renderer\"in t&&t.renderer,a=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,u=new Set,p=await o([n?n.collectRequiredFields(u,r):null,h(u,t),e?F(u,t):null,i(this.filter)?g(u,t,this.filter):null,i(this.featureEffect)?g(u,t,this.featureEffect.filter):null,l?w(u,t,l):null,a?E(u,t,a):null]);if(t.timeInfo&&this.timeExtent&&b(u,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"feature\"===t.type&&(t.floorInfo&&b(u,t.fieldsIndex,[t.floorInfo.floorField]),e&&i(t.infoFor3D)&&(null==t.globalIdField&&O.error(\"globalIdField missing on 3DObjectFeatureLayer\"),b(u,t.fieldsIndex,[t.globalIdField]))),\"subtype-group\"===t.type){x(u,r,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(u,r),h(u,e)])));await o(e)}for(const i of p)i.error&&O.error(i.error);x(u,r,s),e&&\"displayField\"in t&&t.displayField&&x(u,r,t.displayField);const d=Array.from(u).sort();this._set(\"requiredFields\",d)}validateFetchPopupFeatures(e){if(s(e))return null;for(const r of e.clientGraphics){const i=r.layer;if(\"popupEnabled\"in i&&!i.popupEnabled)return new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i});if(r.isAggregate){const e=\"featureReduction\"in i?i.featureReduction:null;if(!(e&&\"popupTemplate\"in e&&e.popupEnabled&&e.popupTemplate))return new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i})}else if(\"popupTemplate\"in i){if(!q(i,e))return new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:i})}}}async fetchClientPopupFeatures(e){const t=i(e)?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),o=new Map,n=await this.createPopupQuery(e);for(let i=0;i<t.length;i++){const a=t[i];if(a.isAggregate){r[i]=a;continue}const{layer:l}=a;if(!(\"popupEnabled\"in l))continue;const u=y(this.layer.fieldsIndex,n.outFields),p=q(l,e);if(s(p))continue;const d=await this._loadArcadeModules(p);d&&d.arcadeUtils.hasGeometryOperations(p)||!I(u,a)?o.set(a.getObjectId(),i):r[i]=a}if(\"stream\"===this.layer.type||0===o.size)return r.filter(Boolean);n.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(n);for(const t of e.features){r[o.get(t.getObjectId())]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let o=!1;const n=i(e)&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const i of n){if(!(\"popupEnabled\"in i))continue;const t=q(i,e);if(s(t))continue;const n=await this._loadArcadeModules(t),a=n&&n.arcadeUtils.hasGeometryOperations(t);o=!(\"point\"!==this.layer.geometryType&&!a);const l=await P(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=o,t.returnZ=o,t.returnM=o,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,\"feature\"===this.layer.type){const e=v(this);i(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(!i(this.timeExtent)||!this.timeExtent.isEmpty)}};return e([u()],A.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([u({readOnly:!0})],A.prototype,\"availableFields\",null),e([u({type:f})],A.prototype,\"featureEffect\",null),e([u({type:c})],A.prototype,\"filter\",void 0),e([u(d)],A.prototype,\"timeExtent\",void 0),e([u()],A.prototype,\"layer\",void 0),e([u({type:Number})],A.prototype,\"maximumNumberOfFeatures\",null),e([u({readOnly:!0,type:Boolean})],A.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u({readOnly:!0})],A.prototype,\"requiredFields\",void 0),e([u()],A.prototype,\"suspended\",void 0),e([u()],A.prototype,\"view\",void 0),A=e([p(_)],A),A};export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{destroyMaybe as r,isNone as s,isSome as o}from\"../../../core/maybe.js\";import{watch as i,initial as a,when as l,syncAndInitial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as c}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as m}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLikeLayerView3D as h}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as d}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as F}from\"../webgl-engine/lib/basicInterfaces.js\";import x from\"../../layers/FeatureLayerView.js\";import b from\"../../layers/LayerView.js\";import M from\"../../layers/RefreshableLayerView.js\";let _=class extends(M(h(x(d(b))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this.suspendResumeExtentMode=\"data\"}initialize(){this.handles.add(i((()=>this._updatingRequiredFieldsPromise),(e=>this.updatingHandles.addPromise(e)),n))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._fetcherContext=r(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const t=this.controller.updatingRemaining,r=Math.max(this.controller.updatingTotal,this._controllerTotal);r>0&&(e=(r-t)/r,this._controllerTotal=r)}let t=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,r=Math.max(e,this._processorTotal);r>0&&(t=(r-e)/r,this._processorTotal=r)}return.5*(e+t)}get updatePolicy(){if(!this.controller)return F.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=O[this.layer.geometryType];return null==e||this.controller.serviceDataCount>e?F.ASYNC:F.SYNC}case\"tiles\":return F.ASYNC}}get hasZ(){const e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:t.supportsZ)}get hasM(){const e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,t){this.processor?.setObjectIdVisibility(e,t)}createQuery(){return super.createQuery()}queryFeatures(e,t){const r=()=>super.queryFeatures(e,t);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),r):r()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this._fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new m({layerView:this,context:this._fetcherContext,graphics:new f,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),a),this.handles.add(i((()=>this.suspended),(t=>{t?e.suspend():e.resume()}),n)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(t=>e.displayFeatureLimit=t),a),this.handles.add(l((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){e&&!this.suspended&&this.controller&&this.controller.refetch(),this.processor.refreshFilter()}getUsedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}getUnloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,t=this.controller?.expectedFeatureDiff??0,r=this.processor?.loadedFeatures??0;return e+(0===r||t/r>20?0:t*(this.processor?.usedMemoryPerFeature??0))}ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,t){await this._validateQueryFeaturesMesh(e);const r=await t();if(e&&e.outStatistics||s(this.graphics3DProcessor))return r;const o=this.layer.objectIdField,i=this.graphics3DProcessor.graphics3DGraphicsByObjectID,a=[];for(const s of r.features)if(s.geometry){const e=i.get(s.attributes[o]);e&&(s.geometry=c(e.graphic.geometry),a.push(s))}else a.push(s);return r.features=a,r}async _validateQueryFeaturesMesh(e){if(!e)return;const r=e=>{throw new t(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},s=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const t of s)null!=e[t]&&r(t);\"returnM\"in e&&e.returnM&&r(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&r(\"returnCentroid\"),o(e.outSpatialReference)&&!e.outSpatialReference.equals(this.view.spatialReference)&&r(\"outSpatialReference\")}get performanceInfo(){const e=this.controller?.displayFeatureLimit,t=o(e)&&e.averageSymbolComplexity,r=o(t)?`f:${t.primitivesPerFeature},v:${t.primitivesPerCoordinate}`:\"n/a\",s={...this._getResourceInfo(),storedFeatures:0,totalVertices:0,partial:this.maximumNumberOfFeaturesExceeded,mode:this.controller?.mode??\"n/a\",symbolComplexity:r,nodes:this.controller?.tileDescriptors.length??0};if(this.controller&&s.displayedNumberOfFeatures){const e=this.controller.debug;s.storedFeatures=e.storedFeatures,s.totalVertices=e.totalVertices}return s}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller,loadedGraphics:this.controller?.graphics}}};e([u()],_.prototype,\"layer\",void 0),e([u()],_.prototype,\"controller\",void 0),e([u()],_.prototype,\"_controllerTotal\",void 0),e([u()],_.prototype,\"_processorTotal\",void 0),e([u()],_.prototype,\"maximumNumberOfFeatures\",null),e([u()],_.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u(g)],_.prototype,\"updatingProgress\",void 0),e([u({readOnly:!0})],_.prototype,\"updatingProgressValue\",null),e([u({readOnly:!0})],_.prototype,\"updatePolicy\",null),e([u({readOnly:!0})],_.prototype,\"hasZ\",null),e([u({readOnly:!0})],_.prototype,\"hasM\",null),e([u()],_.prototype,\"suspendResumeExtentMode\",void 0),_=e([p(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],_);const O={point:5e3,polygon:500,polyline:1e3},j=_;export{j as default};\n"],"sourceRoot":""}
{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/geographicUtils.js","../node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js","../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/geometry/support/meshUtils/centerAt.js","../node_modules/@arcgis/core/geometry/support/meshUtils/loadExternal.js","../node_modules/@arcgis/core/geometry/support/meshUtils/offset.js","../node_modules/@arcgis/core/geometry/support/meshUtils/primitives.js","../node_modules/@arcgis/core/geometry/support/meshUtils/rotate.js","../node_modules/@arcgis/core/geometry/support/meshUtils/scale.js","../node_modules/@arcgis/core/geometry/Mesh.js","../node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"names":["r","e","isGeographic","isWebMercator","geographic","x","n","t","A","spatialReference","o","O","D","a","Float64Array","position","length","i","y","m","fromTypedArray","F","L","l","f","I","normal","N","tangent","S","B","z","horizontal","s","vertical","C","unit","c","P","k","localMatrix","T","j","Float32Array","E","getOriginPoint","_","useTransform","vertexAttributes","transform","p","origin","b","G","Y","M","equals","h","g","R","BYTES_PER_ELEMENT","w","H","d","U","q","V","u","v","J","constructor","super","this","translation","rotation","scale","localMatrixInverse","applyLocal","applyLocalInverse","project","clone","type","Number","nonNullable","json","write","prototype","Boolean","getLogger","warn","hasZ","vertexAttributesChanged","error","wkid","url","replace","files","get","async","Blob","fromBlob","Array","isArray","Map","map","name","source","dispose","push","test","set","forEach","default","multipart","Promise","all","responseType","data","static","URL","createObjectURL","revokeObjectURL","extent","center","uv","faces","facingAxisOrderSwap","east","west","north","south","up","down","isPlane","width","depth","height","size","components","material","faceDescriptions","axis","uvOrigin","corners","uvScales","faceVertexOffsets","$","Z","LoadableMixin","external","hasM","initialize","loadStatus","when","handles","add","_set","once","sync","hasExtent","loaded","_boundingInfo","xmin","ymin","zmin","xmax","ymax","zmax","Math","min","max","anchor","addComponent","from","notifyChange","declaredClass","removeComponent","indexOf","splice","rotate","W","offset","centerAt","load","addResolvingPromise","loadGLTFMesh","resolveFile","signal","then","resolve","updateExternalSource","cloneWithDeduplication","toBinaryGLTF","Uint32Array","imageFace","round","PI","cos","sin","densificationFactor","facing","abs","shading","reject","constructOnly","readOnly","read","features","geometryType","fromJSON","assetMaps","parentGlobalId","assetName","assetURL","conversionStatus","Error","status","FAILED","flags","projectVertices","COMPLETED","PENDING","globalIdFieldName","outFields","includes","Set","attributes","has","geometry","transformFieldRoles","originX","originY","originZ","translationX","translationY","translationZ","rotationX","rotationY","rotationZ","rotationDeg","scaleX","scaleY","scaleZ","createIncomplete","createWithExternalSource"],"mappings":"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","file":"static/js/89.bd49fc34.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction r(r,e){return r.isGeographic||r.isWebMercator&&(e?.geographic??!0)}export{r as isGeographicMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as n,isSome as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as t,getMetersPerVerticalUnitForSR as o,convertUnit as e}from\"../../../core/unitUtils.js\";import{c as a}from\"../../../chunks/mat3f64.js\";import{a as i,k as l}from\"../../../chunks/mat4.js\";import{c as s}from\"../../../chunks/mat4f64.js\";import{b as f}from\"../../../chunks/mat3.js\";import{computeTranslationToOriginAndRotation as c}from\"../../projection.js\";import{getSphericalPCPF as u}from\"../../projectionEllipsoid.js\";import p from\"../MeshTransform.js\";import{BufferViewVec3f64 as m,BufferViewVec3f as g}from\"../buffer/BufferView.js\";import{t as y,a as h}from\"../../../chunks/vec32.js\";import{isGeographicMesh as A}from\"./geographicUtils.js\";import{transformPosition as T,transformNormal as j,transformTangent as E,projectFromPCPF as F,projectNormalFromPCPF as R,projectTangentFromPCPF as w,projectToPCPF as d,projectNormalToPCPF as z,projectTangentToPCPF as v}from\"./projection.js\";function x(n,r,t){return A(r.spatialReference,t)?B(n,r,t):P(n,r,t)}function k(t,o,e){const{position:a,normal:i,tangent:l}=t;if(n(o))return{position:a,normal:i,tangent:l};const s=o.localMatrix;return x({position:T(a,new Float64Array(a.length),s),normal:r(i)?j(i,new Float32Array(i.length),s):null,tangent:r(l)?E(l,new Float32Array(l.length),s):null},o.getOriginPoint(e),{geographic:o.geographic})}function _(n,r,t){if(t?.useTransform){const{position:o,normal:e,tangent:a}=n;return{vertexAttributes:{position:o,normal:e,tangent:a},transform:new p({origin:[r.x,r.y,r.z??0],geographic:A(r.spatialReference,t)})}}return{vertexAttributes:x(n,r,t),transform:null}}function b(n,r,t){return A(r.spatialReference,t)?G(n,r,t):Y(n,r,t)}function M(r,t,o,e){if(n(t))return b(r,o,e);const a=k(r,t,o.spatialReference);return o.equals(t.getOriginPoint(o.spatialReference))?Y(a,o,e):A(o.spatialReference,e)?G(a,o,e):Y(a,o,e)}function P(n,r,t){const o=new Float64Array(n.position.length),e=n.position,a=r.x,i=r.y,l=r.z||0,{horizontal:s,vertical:f}=C(t?t.unit:null,r.spatialReference);for(let c=0;c<e.length;c+=3)o[c+0]=e[c+0]*s+a,o[c+1]=e[c+1]*s+i,o[c+2]=e[c+2]*f+l;return{position:o,normal:n.normal,tangent:n.tangent}}function B(n,r,t){const o=r.spatialReference,e=O(r,t,D),a=new Float64Array(n.position.length),i=L(n.position,e,o,a),l=f(I,e);return{position:i,normal:N(i,a,n.normal,l,o),tangent:S(i,a,n.tangent,l,o)}}function L(n,r,t,o){y(m.fromTypedArray(o),m.fromTypedArray(n),r);const e=new Float64Array(n.length);return F(o,e,t)}function N(r,t,o,e,a){if(n(o))return null;const i=new Float32Array(o.length);return h(g.fromTypedArray(i),g.fromTypedArray(o),e),R(i,r,t,a,i),i}function S(r,t,o,e,a){if(n(o))return null;const i=new Float32Array(o.length);h(g.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT),g.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT),e);for(let n=3;n<i.length;n+=4)i[n]=o[n];return w(i,r,t,a,i),i}function Y(n,r,t){const o=new Float64Array(n.position.length),e=n.position,a=r.x,i=r.y,l=r.z||0,{horizontal:s,vertical:f}=C(t?t.unit:null,r.spatialReference);for(let c=0;c<e.length;c+=3)o[c+0]=(e[c+0]-a)/s,o[c+1]=(e[c+1]-i)/s,o[c+2]=(e[c+2]-l)/f;return{position:o,normal:n.normal,tangent:n.tangent}}function G(n,r,t){const o=r.spatialReference;O(r,t,D);const e=i(H,D),a=new Float64Array(n.position.length),l=U(n.position,o,e,a),s=f(I,e);return{position:l,normal:q(n.normal,n.position,a,o,s),tangent:V(n.tangent,n.position,a,o,s)}}function O(n,r,t){c(n.spatialReference,[n.x,n.y,n.z||0],t,u(n.spatialReference));const{horizontal:o,vertical:e}=C(r?r.unit:null,n.spatialReference);return l(t,t,[o,o,e]),t}function U(n,r,t,o){const e=d(n,r,o),a=m.fromTypedArray(e),i=new Float64Array(e.length),l=m.fromTypedArray(i);return y(l,a,t),i}function q(r,t,o,e,a){if(n(r))return null;const i=z(r,t,o,e,new Float32Array(r.length)),l=g.fromTypedArray(i);return h(l,l,a),i}function V(r,t,o,e,a){if(n(r))return null;const i=v(r,t,o,e,new Float32Array(r.length)),l=g.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT);return h(l,l,a),i}function C(r,a){if(n(r))return J;const i=a.isGeographic?1:t(a),l=a.isGeographic?1:o(a),s=e(1,r,\"meters\");return{horizontal:s*i,vertical:s*l}}const D=s(),H=s(),I=a(),J={horizontal:1,vertical:1};export{x as georeference,k as georeferenceApplyTransform,_ as georeferenceByTransform,b as ungeoreference,M as ungeoreferenceByTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{g as i,a,m as n,h as l,j as c}from\"../../chunks/mat4.js\";import{c as p,I as m}from\"../../chunks/mat4f64.js\";import{s as h}from\"../../chunks/quat.js\";import{a as u}from\"../../chunks/quatf64.js\";import{m as g,k as f}from\"../../chunks/vec3.js\";import{c as j,f as y,a as x}from\"../../chunks/vec3f64.js\";import v from\"../Point.js\";import{computeTranslationToOriginAndRotation as b,projectBuffer as d}from\"../projection.js\";import{getSphericalPCPF as M}from\"../projectionEllipsoid.js\";import{create as k,angleRad as N,axis as w}from\"./axisAngleDegrees.js\";import{BufferViewVec3f64 as I}from\"./buffer/BufferView.js\";import{t as S}from\"../../chunks/vec32.js\";import{c as A}from\"../../chunks/vec33.js\";var T;let q=T=class extends o{constructor(r){super(r),this.origin=j(),this.translation=j(),this.rotation=k(),this.scale=y(1,1,1),this.geographic=!0}get localMatrix(){const r=p();return h(B,w(this.rotation),N(this.rotation)),i(r,B,this.translation,this.scale),r}get localMatrixInverse(){return a(p(),this.localMatrix)}applyLocal(r,o){return g(o,r,this.localMatrix)}applyLocalInverse(r,o){return g(o,r,this.localMatrixInverse)}project(r,o){const t=new Float64Array(r.length),s=I.fromTypedArray(t),e=I.fromTypedArray(r);if(this.geographic){const r=M(o),i=p();return b(o,this.origin,i,r),n(i,i,this.localMatrix),S(s,e,i),d(t,r,0,t,o,0,t.length/3),t}const{localMatrix:i,origin:a}=this;l(i,m)?A(s,e):S(s,e,i);for(let n=0;n<t.length;n+=3)t[n+0]+=a[0],t[n+1]+=a[1],t[n+2]+=a[2];return t}getOriginPoint(r){const[o,t,s]=this.origin;return new v({x:o,y:t,z:s,spatialReference:r})}equals(r){return t(r)&&this.geographic===r.geographic&&f(this.origin,r.origin)&&c(this.localMatrix,r.localMatrix)}clone(){const r={origin:x(this.origin),translation:x(this.translation),rotation:k(this.rotation),scale:x(this.scale),geographic:this.geographic};return new T(r)}};r([s({type:[Number],nonNullable:!0,json:{write:!0}})],q.prototype,\"origin\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],q.prototype,\"translation\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],q.prototype,\"rotation\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],q.prototype,\"scale\",void 0),r([s({type:Boolean,nonNullable:!0,json:{write:!0}})],q.prototype,\"geographic\",void 0),r([s()],q.prototype,\"localMatrix\",null),r([s()],q.prototype,\"localMatrixInverse\",null),q=T=r([e(\"esri.geometry.support.MeshTransform\")],q);const B=u(),L=q;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{isSome as t}from\"../../../core/maybe.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as i}from\"../../projection.js\";import{isGeographicMesh as o}from\"./geographicUtils.js\";import{ungeoreference as n,georeference as s}from\"./georeference.js\";const a=e.getLogger(\"esri.geometry.support.meshUtils.centerAt\");function c(e,r,i){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const n=i?.origin??e.origin;if(t(e.transform))null!=i?.geographic&&i.geographic!==e.transform.geographic&&a.warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),f(e.transform,r,n);else{o(e.spatialReference,i)?p(e,r,n):g(e,r,n)}}function f(e,t,r){const i=t.x-r.x,o=t.y-r.y,n=t.hasZ&&r.hasZ?t.z-r.z:0,s=e.origin;e.origin=[s[0]+i,s[1]+o,s[2]+n]}function p(e,t,r){const i=n(e.vertexAttributes,r,{geographic:!0}),{position:o,normal:a,tangent:c}=s(i,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=a,e.vertexAttributes.tangent=c,e.vertexAttributesChanged()}function g(e,t,r){const o=h,n=l;if(i(t,n,e.spatialReference)){if(!i(r,o,e.spatialReference)){const t=e.origin;o[0]=t.x,o[1]=t.y,o[2]=t.z,a.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}m(e.vertexAttributes.position,n,o),e.vertexAttributesChanged()}else a.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`)}function m(e,t,r){if(e)for(let i=0;i<e.length;i+=3)for(let o=0;o<3;o++)e[i+o]+=t[o]-r[o]}const l=r(),h=r();export{c as centerAt};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as t,isNone as s}from\"../../../core/maybe.js\";import{whenOrAbort as r,eachAlwaysValues as o,isAborted as n,throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{removeFile as i,makeRelative as l}from\"../../../core/urlUtils.js\";import c from\"../../Point.js\";async function u(e,s,o){const{loadGLTFMesh:n}=await r(import(\"./loadGLTFMesh.js\"),o),a=await m(s,o),i=n(new c({x:0,y:0,z:0,spatialReference:e.spatialReference}),a.url,{resolveFile:f(a),useTransform:!0,signal:t(o)?o.signal:null});i.then((()=>a.dispose()),(()=>a.dispose()));const{vertexAttributes:l,components:u}=await i;e.vertexAttributes=l,e.components=u}function f(e){const t=i(e.url);return s=>{const r=l(s,t,t),o=r?r.replace(/^ *\\.\\//,\"\"):null;return(o?e.files.get(o):null)??s}}async function m(e,t){return e instanceof Blob?y.fromBlob(e):\"string\"==typeof e?new y(e):Array.isArray(e)?p(e,t):w(e,t)}async function p(t,r){const i=new Map;let l=null;const c=await o(t.map((async e=>({name:e.name,source:await m(e instanceof Blob?e:e.source,r)})))),u=[];for(const e of c)e&&(n(r)?e.source.dispose():u.push(e));a(r);for(const{name:e,source:o}of u)(s(l)||/\\.(gltf|glb)/i.test(e))&&(l=o.url),i.set(e,o.url),o.files&&o.files.forEach(((e,t)=>i.set(t,e)));if(s(l))throw new e(\"mesh-load-external:missing-files\",\"Missing files to load external mesh source\");return new y(l,(()=>u.forEach((({source:e})=>e.dispose()))),i)}async function w(e,t){const{default:s}=await r(import(\"../../../request.js\"),t),o=\"string\"==typeof e.multipart[0]?await Promise.all(e.multipart.map((async e=>(await s(e,{responseType:\"array-buffer\"})).data))):e.multipart;return y.fromBlob(new Blob(o))}class y{constructor(e,t=(()=>{}),s=new Map){this.url=e,this.dispose=t,this.files=s}static fromBlob(e){const t=URL.createObjectURL(e);return new y(t,(()=>URL.revokeObjectURL(t)))}}export{u as loadExternal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as r}from\"../../../core/maybe.js\";import{f as e}from\"../../../chunks/mat3.js\";import{c as o}from\"../../../chunks/mat3f64.js\";import{c as i}from\"../../../chunks/mat4f64.js\";import{a as n,t as s}from\"../../../chunks/vec3.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as f}from\"../../projection.js\";import{getSphericalPCPF as m}from\"../../projectionEllipsoid.js\";import{isGeographicMesh as c}from\"./geographicUtils.js\";import{projectToPCPF as p,projectNormalToPCPF as g,projectTangentToPCPF as l,projectFromPCPF as u,projectNormalFromPCPF as h,projectTangentFromPCPF as j}from\"./projection.js\";function x(e,o,i){if(e.vertexAttributes&&e.vertexAttributes.position)if(r(e.transform))null!=i?.geographic&&i.geographic!==e.transform.geographic&&t.getLogger(\"esri.geometry.support.meshUtils.offset\").warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),A(e.transform,o);else{c(e.spatialReference,i)?v(e,o):b(e,o)}}function A(t,r){const e=t.origin;t.origin=n(a(),e,r)}function v(t,o){const i=t.spatialReference,n=t.vertexAttributes.position,a=t.vertexAttributes.normal,c=t.vertexAttributes.tangent,x=new Float64Array(n.length),A=r(a)?new Float32Array(a.length):null,v=r(c)?new Float32Array(c.length):null,b=t.extent.center,F=d;f(i,[b.x,b.y,b.z],k,m(i)),e(w,k),s(F,o,w),p(n,i,x),r(a)&&r(A)&&g(a,n,x,i,A),r(c)&&r(v)&&l(c,n,x,i,v),y(x,F),u(x,n,i),r(a)&&r(A)&&h(A,n,x,i,a),r(c)&&r(v)&&j(v,n,x,i,c),t.vertexAttributesChanged()}function b(t,r){y(t.vertexAttributes.position,r),t.vertexAttributesChanged()}function y(t,r){if(t)for(let e=0;e<t.length;e+=3)for(let o=0;o<3;o++)t[e+o]+=r[o]}const d=a(),k=i(),w=o();export{x as offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{c as e}from\"../../../chunks/mat3f64.js\";import{t as n,n as r}from\"../../../chunks/vec3.js\";import{c as o}from\"../../../chunks/vec3f64.js\";import s from\"../MeshComponent.js\";import{MeshVertexAttributes as a}from\"../MeshVertexAttributes.js\";import{georeferenceByTransform as i}from\"./georeference.js\";function c(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:n}=d,r=4*t.length,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(2*t.length*3);let c=0,l=0,f=0,u=0;for(let h=0;h<t.length;h++){const r=t[h],p=c/3;for(const t of e)i[u++]=p+t;const m=r.corners;for(let t=0;t<4;t++){const e=m[t];let i=0;a[f++]=.25*n[t][0]+r.uvOrigin[0],a[f++]=r.uvOrigin[1]-.25*n[t][1];for(let t=0;t<3;t++)0!==r.axis[t]?(o[c++]=.5*r.axis[t],s[l++]=r.axis[t]):(o[c++]=.5*e[i++],s[l++]=0)}}return{position:o,normal:s,uv:a,faces:i}}function l(e,n){const r=e.components[0],o=r.faces,a=M[n],i=6*a,c=new Array(6),l=new Array(o.length-6);let f=0,u=0;for(let t=0;t<o.length;t++)t>=i&&t<i+6?c[f++]=o[t]:l[u++]=o[t];if(t(e.vertexAttributes.uv)){const t=new Float32Array(e.vertexAttributes.uv),n=4*a*2,r=[0,1,1,1,1,0,0,0];for(let e=0;e<r.length;e++)t[n+e]=r[e];e.vertexAttributes.uv=t}return e.components=[new s({faces:c,material:r.material}),new s({faces:l})],e}function f(t=0){const e=Math.round(8*2**t),n=2*e,r=(e-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*((e-1)*n*2));let c=0,l=0,f=0,u=0;for(let h=0;h<=e;h++){const t=h/e*Math.PI+.5*Math.PI,r=Math.cos(t),p=Math.sin(t);F[2]=p;const m=0===h||h===e,w=m?n-1:n;for(let v=0;v<=w;v++){const t=v/w*2*Math.PI;F[0]=-Math.sin(t)*r,F[1]=Math.cos(t)*r;for(let e=0;e<3;e++)o[c]=.5*F[e],s[c]=F[e],++c;a[l++]=(v+(m?.5:0))/n,a[l++]=h/e,0!==h&&v!==n&&(h!==e&&(i[f++]=u,i[f++]=u+1,i[f++]=u-n),1!==h&&(i[f++]=u,i[f++]=u-n,i[f++]=u-n-1)),u++}}return{position:o,normal:s,uv:a,faces:i}}function u(t=0){const e=5,n=Math.round(16*2**t),r=(e-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*(4*n));let c=0,l=0,f=0,u=0,h=0;for(let p=0;p<=e;p++){const t=0===p||p===e,r=p<=1||p>=e-1,m=2===p||4===p,w=t?n-1:n;for(let v=0;v<=w;v++){const g=v/w*2*Math.PI,A=t?0:.5;F[0]=A*Math.sin(g),F[1]=A*-Math.cos(g),F[2]=p<=2?.5:-.5;for(let t=0;t<3;t++)o[c++]=F[t],s[l++]=r?2===t?p<=1?1:-1:0:2===t?0:F[t]/A;a[f++]=(v+(t?.5:0))/n,a[f++]=p<=1?1*p/3:p<=3?1*(p-2)/3+1/3:1*(p-4)/3+2/3,m||0===p||v===n||(p!==e&&(i[u++]=h,i[u++]=h+1,i[u++]=h-n),1!==p&&(i[u++]=h,i[u++]=h-n,i[u++]=h-n-1)),h++}}return{position:o,normal:s,uv:a,faces:i}}function h(t,e){const n=\"number\"==typeof e?e:null!=e?e.width:1,r=\"number\"==typeof e?e:null!=e?e.height:1;switch(t){case\"up\":case\"down\":return{width:n,depth:r};case\"north\":case\"south\":return{width:n,height:r};case\"east\":case\"west\":return{depth:n,height:r}}}function p(t){const e=g.facingAxisOrderSwap[t],n=g.position,r=g.normal,o=new Float64Array(n.length),s=new Float32Array(r.length);let a=0;for(let i=0;i<4;i++){const t=a;for(let i=0;i<3;i++){const c=e[i],l=Math.abs(c)-1,f=c>=0?1:-1;o[a]=n[t+l]*f,s[a]=r[t+l]*f,a++}}return{position:o,normal:s,uv:new Float32Array(g.uv),faces:new Uint32Array(g.faces),isPlane:!0}}const m=1,w=2,v=3,g={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[v,m,w],west:[-v,-m,w],north:[-m,v,w],south:[m,-v,w],up:[m,w,v],down:[m,-w,-v]}};function A(t,e,n){t.isPlane||y(t),x(t,n?.size);const{vertexAttributes:r,transform:o}=i(t,e,n);return{vertexAttributes:new a({...r,uv:t.uv}),transform:o,components:[new s({faces:t.faces,material:n&&n.material||null})],spatialReference:e.spatialReference}}function y(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5}function x(t,e){if(null==e)return;const o=\"number\"==typeof e?[e,e,e]:[null!=e.width?e.width:1,null!=e.depth?e.depth:1,null!=e.height?e.height:1];O[0]=o[0],O[4]=o[1],O[8]=o[2];for(let r=0;r<t.position.length;r+=3){for(let e=0;e<3;e++)F[e]=t.position[r+e];n(F,F,O);for(let e=0;e<3;e++)t.position[r+e]=F[e]}if(o[0]!==o[1]||o[1]!==o[2]){O[0]=1/o[0],O[4]=1/o[1],O[8]=1/o[2];for(let e=0;e<t.normal.length;e+=3){for(let n=0;n<3;n++)F[n]=t.normal[e+n];n(F,F,O),r(F,F);for(let n=0;n<3;n++)t.normal[e+n]=F[n]}}}const d={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},M={south:0,east:1,north:2,west:3,up:4,down:5},F=o(),O=e();export{M as boxFaceOrder,h as convertPlaneSizeParameter,A as convertUnitGeometry,c as createUnitSizeBox,u as createUnitSizeCylinder,p as createUnitSizePlane,f as createUnitSizeSphere,l as extractSingleFaceOfBox};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as e,isNone as r}from\"../../../core/maybe.js\";import{f as o}from\"../../../chunks/mat3.js\";import{c as i}from\"../../../chunks/mat3f64.js\";import{d as n}from\"../../../chunks/mat4.js\";import{c as s}from\"../../../chunks/mat4f64.js\";import{s as a,b as c,a as f,t as p,m}from\"../../../chunks/vec3.js\";import{c as g,Z as l}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as u,computeTranslationToOriginAndRotation as h}from\"../../projection.js\";import{getSphericalPCPF as j}from\"../../projectionEllipsoid.js\";import{create as v,compose as x,axis as A,angleRad as b}from\"../axisAngleDegrees.js\";import{isGeographicMesh as d}from\"./geographicUtils.js\";import{projectToPCPF as k,projectNormalToPCPF as y,projectTangentToPCPF as w,projectFromPCPF as R,projectNormalFromPCPF as F,projectTangentFromPCPF as L}from\"./projection.js\";const $=t.getLogger(\"esri.geometry.support.meshUtils.rotate\");function z(t,r,o){if(!t.vertexAttributes||!t.vertexAttributes.position||0===r[3])return;const i=t.spatialReference;if(e(t.transform)){null!=o?.geographic&&o.geographic!==t.transform.geographic&&$.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);const e=o?.origin??t.transform.getOriginPoint(i);C(t.transform,r,e)}else{const e=o?.origin??t.origin;d(t.spatialReference,o)?I(t,r,e):U(t,r,e)}}function C(t,e,r){const o=a(E,r.x,r.y,r.z),i=c(E,o,t.origin);t.applyLocalInverse(i,M),t.rotation=x(t.rotation,e,v()),t.applyLocalInverse(i,i),c(i,i,M),t.translation=f(g(),t.translation,i)}function I(t,r,i){const n=t.spatialReference,s=j(n),a=Z;u(i,a,s)||u(t.origin,a,s);const c=t.vertexAttributes.position,f=t.vertexAttributes.normal,m=t.vertexAttributes.tangent,g=new Float64Array(c.length),l=e(f)?new Float32Array(f.length):null,v=e(m)?new Float32Array(m.length):null;h(s,a,P,s),o(S,P);const x=O;p(A(O),A(r),S),x[3]=r[3],k(c,n,g),e(f)&&e(l)&&y(f,c,g,n,l),e(m)&&e(v)&&w(m,c,g,n,v),D(g,x,3,a),R(g,c,n),e(f)&&e(l)&&(D(l,x,3),F(l,c,g,n,f)),e(m)&&e(v)&&(D(v,x,4),L(v,c,g,n,m)),t.vertexAttributesChanged()}function U(t,e,r){const o=Z;if(!u(r,o,t.spatialReference)){const e=t.origin;o[0]=e.x,o[1]=e.y,o[2]=e.z,$.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`)}D(t.vertexAttributes.position,e,3,o),D(t.vertexAttributes.normal,e,3),D(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}function D(t,e,o,i=l){if(!r(t)){n(P,b(e),A(e));for(let e=0;e<t.length;e+=o){for(let r=0;r<3;r++)E[r]=t[e+r]-i[r];m(E,E,P);for(let r=0;r<3;r++)t[e+r]=E[r]+i[r]}}}const E=g(),M=g(),O=v(),P=s(),S=i(),Z=g();export{z as rotate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{isSome as t}from\"../../../core/maybe.js\";import{s as r,b as o,g as i,a as n}from\"../../../chunks/vec3.js\";import{c as s,Z as a}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as c}from\"../../projection.js\";import{getSphericalPCPF as p}from\"../../projectionEllipsoid.js\";import{isGeographicMesh as f}from\"./geographicUtils.js\";import{projectToPCPF as g,projectNormalToPCPF as l,projectTangentToPCPF as m,projectFromPCPF as u,projectNormalFromPCPF as h,projectTangentFromPCPF as j}from\"./projection.js\";const v=e.getLogger(\"esri.geometry.support.meshUtils.scale\");function d(e,r,o){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const i=e.spatialReference;if(t(e.transform)){null!=o?.geographic&&o.geographic!==e.transform.geographic&&v.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`);const t=o?.origin??e.transform.getOriginPoint(i);x(e.transform,r,t)}else{const t=f(e.spatialReference,o),i=o&&o.origin||e.origin;t?A(e,r,i):b(e,r,i)}}function x(e,t,a){const c=r(w,a.x,a.y,a.z),p=o(w,c,e.origin);e.applyLocalInverse(p,k);const f=i(s(),e.scale,t);e.scale=f,e.applyLocalInverse(p,p),o(p,p,k),e.translation=n(s(),e.translation,p)}function A(e,r,o){const i=e.spatialReference,n=p(i),s=R;c(o,s,n)||c(e.origin,s,n);const a=e.vertexAttributes.position,f=e.vertexAttributes.normal,v=e.vertexAttributes.tangent,d=new Float64Array(a.length),x=t(f)?new Float32Array(f.length):null,A=t(v)?new Float32Array(v.length):null;g(a,i,d),t(f)&&t(x)&&l(f,a,d,i,x),t(v)&&t(A)&&m(v,a,d,i,A),y(d,r,s),u(d,a,i),t(f)&&t(x)&&h(x,a,d,i,f),t(v)&&t(A)&&j(A,a,d,i,v),e.vertexAttributesChanged()}function b(e,t,r){const o=R;if(!c(r,o,e.spatialReference)){const t=e.origin;o[0]=t.x,o[1]=t.y,o[2]=t.z,v.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}y(e.vertexAttributes.position,t,o),e.vertexAttributesChanged()}function y(e,t,r=a){if(e)for(let o=0;o<e.length;o+=3){for(let t=0;t<3;t++)w[t]=e[o+t]-r[t];i(w,w,t);for(let t=0;t<3;t++)e[o+t]=w[t]+r[t]}}const w=s(),k=s(),R=s();export{d as scale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Error.js\";import{HandleOwnerMixin as r}from\"../core/HandleOwner.js\";import o from\"../core/Loadable.js\";import n from\"../core/Logger.js\";import{isNone as s,isSome as i}from\"../core/maybe.js\";import{EsriPromiseMixin as a}from\"../core/Promise.js\";import{whenOrAbort as l}from\"../core/promiseUtils.js\";import{watch as c}from\"../core/reactiveUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{f as h,c as f}from\"../chunks/vec3f64.js\";import u from\"./Extent.js\";import d from\"./Geometry.js\";import g from\"./Point.js\";import x from\"./Polygon.js\";import{fromAxisAndAngle as y,compose as b,create as j}from\"./support/axisAngleDegrees.js\";import w from\"./support/MeshComponent.js\";import v from\"./support/MeshTransform.js\";import{MeshVertexAttributes as M}from\"./support/MeshVertexAttributes.js\";import{triangulate as P}from\"./support/triangulationUtils.js\";import{centerAt as L}from\"./support/meshUtils/centerAt.js\";import{loadExternal as R}from\"./support/meshUtils/loadExternal.js\";import{offset as C}from\"./support/meshUtils/offset.js\";import{convertUnitGeometry as A,createUnitSizeBox as z,extractSingleFaceOfBox as F,createUnitSizeSphere as O,createUnitSizeCylinder as U,convertPlaneSizeParameter as E,createUnitSizePlane as S}from\"./support/meshUtils/primitives.js\";import{rotate as T}from\"./support/meshUtils/rotate.js\";import{scale as _}from\"./support/meshUtils/scale.js\";var G;const I=\"esri.geometry.Mesh\";let B=G=class extends(r(o.LoadableMixin(a(d)))){constructor(e){super(e),this.components=null,this.transform=null,this.external=null,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new M,this.type=\"mesh\"}initialize(){(s(this.external)||this.vertexAttributes.position.length)&&(this.loadStatus=\"loaded\"),this.when((()=>{this.handles.add(c((()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map((e=>e.clone()))})),(()=>this._set(\"external\",null)),{once:!0,sync:!0}))}))}get hasExtent(){return!this.loaded&&i(this.external)&&i(this.external.extent)||this.loaded&&this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0)}get _boundingInfo(){const e=this.vertexAttributes.position,t=this.spatialReference;if(0===e.length||this.components&&0===this.components.length)return{extent:new u({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new g({x:0,y:0,z:0,spatialReference:t})};const r=i(this.transform)?this.transform.project(e,t):e;let o=1/0,n=1/0,s=1/0,a=-1/0,l=-1/0,c=-1/0,p=0,m=0,h=0;const f=r.length,d=1/(f/3);let x=0;for(;x<f;){const e=r[x++],t=r[x++],i=r[x++];o=Math.min(o,e),n=Math.min(n,t),s=Math.min(s,i),a=Math.max(a,e),l=Math.max(l,t),c=Math.max(c,i),p+=d*e,m+=d*t,h+=d*i}return{extent:new u({xmin:o,ymin:n,zmin:s,xmax:a,ymax:l,zmax:c,spatialReference:t}),center:new g({x:p,y:m,z:h,spatialReference:t})}}get anchor(){if(i(this.transform))return this.transform.getOriginPoint(this.spatialReference);const e=this._boundingInfo;return new g({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}get origin(){return i(this.transform)?this.transform.getOriginPoint(this.spatialReference):this._boundingInfo.center}get extent(){return!this.loaded&&i(this.external)&&i(this.external.extent)?this.external.extent.clone():this._boundingInfo.extent}addComponent(e){this.loaded?(this.components||(this.components=[]),this.components.push(w.from(e)),this.notifyChange(\"components\")):n.getLogger(this.declaredClass).error(\"addComponent()\",\"Mesh must be loaded before applying operations\")}removeComponent(e){if(this.loaded){if(this.components){const t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange(\"components\")}n.getLogger(this.declaredClass).error(\"removeComponent()\",\"Provided component is not part of the list of components\")}else n.getLogger(this.declaredClass).error(\"removeComponent()\",\"Mesh must be loaded before applying operations\")}rotate(e,t,r,o){return y(k.x,e,D),y(k.y,t,W),y(k.z,r,Z),b(D,W,D),b(D,Z,D),T(this,D,o),this}offset(e,t,r,o){return this.loaded?(H[0]=e,H[1]=t,H[2]=r,C(this,H,o),this):(n.getLogger(this.declaredClass).error(\"offset()\",\"Mesh must be loaded before applying operations\"),this)}scale(e,t){return this.loaded?(_(this,e,t),this):(n.getLogger(this.declaredClass).error(\"scale()\",\"Mesh must be loaded before applying operations\"),this)}centerAt(e,t){return this.loaded?(L(this,e,t),this):(n.getLogger(this.declaredClass).error(\"centerAt()\",\"Mesh must be loaded before applying operations\"),this)}load(e){return i(this.external)&&this.addResolvingPromise(R(this,this.external.source,e)),Promise.resolve(this)}updateExternalSource(e){this._set(\"external\",e)}clone(){let e=null;if(this.components){const t=new Map,r=new Map;e=this.components.map((e=>e.cloneWithDeduplication(t,r)))}const t={components:e,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:i(this.transform)?this.transform.clone():null,external:i(this.external)?{source:this.external.source,extent:i(this.external.extent)?this.external.extent.clone():null}:null};return new G(t)}vertexAttributesChanged(){this.notifyChange(\"vertexAttributes\")}async toBinaryGLTF(e){const t=import(\"./support/meshUtils/exporters/gltf/gltfexport.js\"),r=this.load(),o=await Promise.all([t,r]),{toBinaryGLTF:n}=o[0];return n(this,e)}static createBox(e,t){if(!(e instanceof g))return n.getLogger(I).error(\".createBox()\",\"expected location to be a Point instance\"),null;const r=new G(A(z(),e,t));return t&&t.imageFace&&\"all\"!==t.imageFace?F(r,t.imageFace):r}static createSphere(e,t){return e instanceof g?new G(A(O(t&&t.densificationFactor||0),e,t)):(n.getLogger(I).error(\".createSphere()\",\"expected location to be a Point instance\"),null)}static createCylinder(e,t){return e instanceof g?new G(A(U(t&&t.densificationFactor||0),e,t)):(n.getLogger(I).error(\".createCylinder()\",\"expected location to be a Point instance\"),null)}static createPlane(e,t){if(!(e instanceof g))return n.getLogger(I).error(\".createPlane()\",\"expected location to be a Point instance\"),null;const r=t?.facing??\"up\",o=E(r,t?.size);return new G(A(S(r),e,{...t,size:o}))}static createFromPolygon(e,t){if(!(e instanceof x))return n.getLogger(I).error(\".createFromPolygon()\",\"expected polygon to be a Polygon instance\"),null;const r=P(e);return new G({vertexAttributes:new M({position:r.position}),components:[new w({faces:r.faces,shading:\"flat\",material:t?.material??null})],spatialReference:e.spatialReference})}static async createFromGLTF(e,r,o){if(!(e instanceof g))throw n.getLogger(I).error(\".createfromGLTF()\",\"expected location to be a Point instance\"),new t(\"invalid-input\",\"Expected location to be a Point instance\");const{loadGLTFMesh:s}=await l(import(\"./support/meshUtils/loadGLTFMesh.js\"),o);return new G(await s(e,r,o))}static createWithExternalSource(e,t,r){const o=r?.extent??null,n=r?.transform?.clone()??new v;n.origin=[e.x,e.y,e.z??0];const s=e.spatialReference;return new G({external:{source:t,extent:o},transform:n,spatialReference:s})}static createIncomplete(e,r){const o=r?.transform?.clone()??new v;o.origin=[e.x,e.y,e.z??0];const n=e.spatialReference,s=new G({transform:o,spatialReference:n});return s.addResolvingPromise(Promise.reject(new t(\"mesh-incomplete\",\"Mesh resources are not complete\"))),s}};e([p({type:[w],json:{write:!0}})],B.prototype,\"components\",void 0),e([p({type:v,json:{write:!0}})],B.prototype,\"transform\",void 0),e([p({constructOnly:!0})],B.prototype,\"external\",void 0),e([p({readOnly:!0})],B.prototype,\"hasExtent\",null),e([p({readOnly:!0})],B.prototype,\"_boundingInfo\",null),e([p({readOnly:!0})],B.prototype,\"anchor\",null),e([p({readOnly:!0})],B.prototype,\"origin\",null),e([p({readOnly:!0,json:{read:!1}})],B.prototype,\"extent\",null),e([p({readOnly:!0,json:{read:!1,write:!0,default:!0}})],B.prototype,\"hasZ\",void 0),e([p({readOnly:!0,json:{read:!1,write:!0,default:!1}})],B.prototype,\"hasM\",void 0),e([p({type:M,nonNullable:!0,json:{write:!0}})],B.prototype,\"vertexAttributes\",void 0),B=G=e([m(I)],B);const k={x:h(1,0,0),y:h(0,1,0),z:h(0,0,1)},D=j(),W=j(),Z=j(),H=f(),N=B;export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import{isNone as e,isSome as r}from\"../../core/maybe.js\";import o from\"../../geometry/Extent.js\";import s from\"../../geometry/Mesh.js\";import n from\"../../geometry/Point.js\";import{fromAxisAndAngle as a}from\"../../geometry/support/axisAngleDegrees.js\";import i from\"../../geometry/support/MeshTransform.js\";import u from\"./FeatureSet.js\";function l(o,s,n){const a=n.features;n.features=[],delete n.geometryType;const i=u.fromJSON(n);if(i.geometryType=\"mesh\",!n.assetMaps)return i;const l=E(s,n.assetMaps),m=i.spatialReference,p=n.globalIdFieldName,g=e(o.outFields)||!o.outFields.length?()=>({}):c(o.outFields.includes(\"*\")?null:new Set(o.outFields));for(const e of a){const o=f(e,p,m,s,l);r(o)&&i.features.push(new t({geometry:o,attributes:g(e)}))}return i}function c(t){return({attributes:e})=>{if(!e)return{};if(!t)return e;for(const r in e)t.has(r)||delete e[r];return e}}function f(t,e,r,n,a){const i=t.attributes[e],u=a.get(i);if(null==u||u.status===g.FAILED||null==u.url)return null;const l=m(t,r,n),c=o.fromJSON(t.geometry);c.spatialReference=r;const f=p(t.attributes,n,u.geographic);return u.status===g.PENDING?s.createIncomplete(l,{extent:c,transform:f}):s.createWithExternalSource(l,[{name:u.name,source:u.url}],{extent:c,transform:f})}function m({attributes:t},e,{transformFieldRoles:r}){return new n({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function p(t,{transformFieldRoles:e},r){return new i({translation:[t[e.translationX],t[e.translationY],t[e.translationZ]],rotation:a([t[e.rotationX],t[e.rotationY],t[e.rotationZ]],t[e.rotationDeg]),scale:[t[e.scaleX],t[e.scaleY],t[e.scaleZ]],geographic:r})}var g;function E(t,e){const r=new Map;for(const o of e){const t=o.parentGlobalId;if(null==t)continue;const e=o.assetName,s=o.assetURL,n=o.conversionStatus;let a=r.get(t);if(null!=a)throw new Error(\"multiple asset parts not expected.\");switch(a={name:e,status:g.FAILED,url:s,geographic:D(o.flags).projectVertices},r.set(t,a),n){case\"COMPLETED\":case\"SUBMITTED\":a.status=g.COMPLETED;break;case\"INPROGRESS\":a.status=g.PENDING;break;default:a.status=g.FAILED}}return r}function D(t){return{projectVertices:t.includes(\"PROJECT_VERTICES\")}}!function(t){t[t.FAILED=0]=\"FAILED\",t[t.PENDING=1]=\"PENDING\",t[t.COMPLETED=2]=\"COMPLETED\"}(g||(g={}));export{l as meshFeatureSetFromJSON};\n"],"sourceRoot":""}
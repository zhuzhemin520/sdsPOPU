{"version":3,"sources":["../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/layers/support/capabilities.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/analysis/SlicePlane.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/tilt-rotate-png.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/Factory.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js"],"names":["i","t","o","Blob","type","p","g","a","n","url","e","png","jpeg","jpg","bmp","gif","json","txt","xml","svg","zip","pbf","gz","c","r","origins","s","String","read","write","writer","u","resources","l","y","x","d","verifyItemRelativeUrls","writtenUrls","rootPath","m","NO","this","origin","originIdOf","h","object","propertyName","value","targetUrl","dest","targetPropertyName","context","params","portalItem","resourceFromPath","N","path","f","compress","I","resource","content","updates","toUpdate","U","w","toKeep","push","j","v","filename","prefix","pendingOperations","async","default","data","responseType","P","then","itemRelativeUrl","catch","toAdd","finish","O","JSON","stringify","toJSON","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","Math","floor","rootIndex","nodesPerPage","rootPage","query","token","signal","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","q","C","D","T","plane","action","screenStart","get","R","state","camera","L","screenEnd","renderStart","renderEnd","ray","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","M","b","toMap","include","G","next","J","K","renderCoordsHelper","worldUpAtPosition","eye","E","k","viewingMode","sign","A","F","execute","fromRenderCoords","z","disableDisplay","remove","B","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","spatialReference","map","ground","opacity","add","delete","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","H","TERRAIN","GROUND","OTHER","location","surfaceType","S","constructor","super","arguments","Number","prototype","factor","source","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","opaque","mask","blend","Boolean","none","back","front","reader","index","dds","ktx2","basis","atlas","Float32","UInt64","UInt32","UInt16","UInt8","draco","offset","triangle","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","readOnly","constructOnly","_","getLogger","LoadableMixin","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","attributeStorageInfo","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","layerType","parsedUrl","layer","id","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","layerId","name","displayField","apiKey","fullExtent","version","elevationInfo","minScale","maxScale","effectiveScaleRange","createPopupTemplate","load","_fetchService","addResolvingPromise","Promise","resolve","getField","getFieldDomain","getFeatureType","feature","domains","domain","types","geometryType","profile","capabilities","supportsZ","supportsM","isVersioned","createQuery","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","Q","queryCachedAttributes","length","attributes","getFieldUsageInfo","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","service","enabled","allowNull","target","Point","title","modelName","isEmpty","readTitle","alias","readIdOnlyOnce","ignoreOrigin","analytics","supportsCacheHint","attachment","supportsContentType","supportsExifInfo","supportsKeywords","supportsName","supportsSize","supportsResize","supportsAttachment","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUpdateWithoutM","supportsUploadWithItemId","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryAttachments","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","supportsOrderBy","supportsPagination","queryTopFeatures","maxRecordCount","maxRecordCountFactor","standardMaxRecordCount","supportsCentroid","supportsCompactGeometry","supportsDefaultSpatialReference","supportsFullTextSearch","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsStatistics","tileMaxRecordCount","backgroundColor","gridColor","gridWidth","initializeProgram","rctx","shader","build","configuration","initializePipeline","blending","ONE","ONE_MINUS_SRC_ALPHA","depthTest","func","LESS","colorWrite","_configuration","intersect","createBufferWriter","requiresSlot","Color","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","getConfiguration","ensureTechnique","beginSlot","technique","renderOccluded","Occlude","_material","_renderOccluded","OccludeAndTransparent","_gridWidth","_gridColor","_backgroundColor","applyProps","_updateMaterial","createExternalResources","_materialParameters","destroyExternalResources","forEachExternalMaterial","createGeometries","addGeometry","setParameters","te","Gt","X","we","HORIZONTAL_OR_VERTICAL","abs","W","HORIZONTAL","VERTICAL","viewUp","TILTED","viewForward","Dt","basis1","basis2","Yt","direction","se","re","ie","Zt","width","height","computeRenderPixelSizeAt","Wt","Bt","Rt","qt","Re","HEADING","TILT","zt","ee","NEGATIVE_X","Y","edge","PI","computeScreenPixelSizeAt","position","$","projectToRenderScreen","viewport","$t","Lt","je","modelTransform","renderLocation","Ae","Jt","ne","ye","Kt","POSITIVE_X","be","Qt","POSITIVE_Y","NEGATIVE_Y","oe","_e","CENTER_ON_ARROW","CENTER_ON_CALLOUT","dt","ut","pe","slice","padding","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","Z","part","geometry","me","tubeRadius","tubeFocusMultiplier","flat","transform","Ct","thickness","Nt","normal","focused","de","mt","nt","pt","gt","addCap","ft","Ut","color","_t","Back","vt","Opaque","tt","et","transparent","writeDepth","Front","Transparent","kt","Vt","it","It","view","renderObjects","material","stateMask","Ht","Unfocused","Ie","Focused","autoScaleRenderObjects","collisionType","paths","collisionPriority","radius","ae","wt","customStateMask","texture","ce","jt","attached","rt","st","writeDepthEnabled","le","yt","ot","at","ue","Et","bt","ht","Tt","St","Me","Le","ct","lt","At","cos","sin","Pt","ge","Mt","renderUnitScaleFactor","tilt","heading","headingAtPosition","Te","Ot","elevationProvider","renderWidth","renderHeight","Oe","V","toRenderCoords","worldBasisAtPosition","wkid","he","tiltEnabled","round","Xt","Ft","Custom1","Custom2","ke","initialize","addHandles","analysisViewData","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","tool","activeTool","active","tools","equals","nonNullable","range","max","normalize","extensions","vertex","fragment","varyings","POSITION","UV0","code","uniforms","Object","freeze","defineProperty","__proto__","Symbol","toStringTag","mipmap","preMultiplyAlpha","fromData","_handles","_internalChange","_currentSlicePlane","excludedLayers","on","item","preventDefault","set","all","activeController","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","Error","lastIndexOf","splice","allLayerViews","items","concat","filter","flatMap","sublayerViews","layers","destroyed","slicePlaneEnabled","sublayer","basemapTerrain","Map","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_viewHandles","_frameTask","_pointerMoveTimerMs","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","_intersector","_rotateHeadingImage","toolViewManager","textures","_rotateTiltImage","_updateManipulatorsInteractive","grabbing","inputState","manipulators","events","_onShiftGrab","_createShiftDragPipeline","_onRotateHeadingGrab","_createRotateHeadingDragPipeline","_onRotateTiltGrab","_createRotateTiltDragPipeline","_onResizeGrab","_createResizeDragPipeline","addMany","_updateManipulators","finishToolCreation","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","_creatingPointerId","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","exitExcludeLayerMode","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","emit","hasBeenDragged","pointerType","start","screenPoint","_resetPointerMoveTimeout","_pickPlane","_calculatePickRay","hitTest","graphic","key","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","startPoint","depth","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","rotateAxis","rotateAngle","activeHandleIdx","_resizeDragUpdatePlane","xt","update","deltaTime","_pickMinResult","intersectToolIntersectorScreen","getTransformedNormal","setTimeout","disableEngineLayers","available","testData","setPointerMoveTimerMs","button","_gridVisualElement","_outlineVisualElement","preview","_updatePlane","stipplePattern","analysisVisualization","analysisController","visualization","controller"],"mappings":"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","file":"static/js/53.c7c998a3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function t(i){return o[p(i)]||e}function p(i){return i instanceof Blob?i.type:n(i.url)}function n(t){const p=i(t);return g[p]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const c in g)o[g[c]]=c;export{t as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as t}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as r,isBlobProtocol as e,join as o,getPathExtension as s}from\"../../urlUtils.js\";import{generateUUID as n}from\"../../uuid.js\";import{getOwnPropertyMetadata as i}from\"../metadata.js\";import{nameToId as a}from\"../PropertyOrigin.js\";import{propertyJSONMeta as p}from\"./property.js\";import{getResourceContentExtension as u}from\"../../../portal/support/resourceExtension.js\";import{r as c,t as l,M as m,i as f,p as y,a as d}from\"../../../chunks/persistableUrlUtils.js\";function g(t){const r=t?.origins??[void 0];return(e,o)=>{const s=h(t,e,o);for(const t of r){const r=p(e,t,o);for(const t in s)r[t]=s[t]}}}function h(t,r,e){if(\"resource\"===t?.type)return v(t,r,e);switch(t?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(o,s,n){const p=i(s,n);return{type:String,read:(t,r,e)=>{const o=c(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,i,u,c){if(!c||!c.resources)return\"string\"==typeof s?void(i[u]=l(s,c)):void(i[u]=s.write({},c));const y=x(s),d=l(y,{...c,verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},m.NO),g=p.type!==String&&(!t(this)||c&&c.origin&&this.originIdOf(n)>a(c.origin)),h={object:this,propertyName:n,value:s,targetUrl:d,dest:i,targetPropertyName:u,context:c,params:o};c&&c.portalItem&&d&&!r(d)?g?w(h):j(h):c&&c.portalItem&&(null==d||null!=f(d)||e(d)||g)?U(h):i[u]=d}}}}function U(t){const{targetUrl:r,params:s,value:i,context:a,dest:p,targetPropertyName:c}=t;if(!a.portalItem)return;const l=y(r),m=l?.filename??n(),f=s?.prefix??l?.prefix,d=N(i,r,a),g=o(f,m),h=`${g}.${u(d)}`,v=a.portalItem.resourceFromPath(h);e(r)&&a.resources&&a.resources.pendingOperations.push(P(r).then((t=>{v.path=`${g}.${u(t)}`,p[c]=v.itemRelativeUrl})).catch((()=>{})));const U=s?.compress??!1;a.resources&&I({...t,resource:v,content:d,compress:U,updates:a.resources.toAdd}),p[c]=v.itemRelativeUrl}function w(t){const{context:r,targetUrl:e,params:o,value:n,dest:i,targetPropertyName:a}=t;if(!r.portalItem)return;const p=r.portalItem.resourceFromPath(e),c=N(n,e,r),l=u(c),m=s(p.path),f=o?.compress??!1;l===m?(r.resources&&I({...t,resource:p,content:c,compress:f,updates:r.resources.toUpdate}),i[a]=e):U(t)}function j({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function I({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){e.push({resource:o,content:s,compress:n,finish:e=>{O(t,r,e)}})}function N(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function x(t){return null==t?null:\"string\"==typeof t?t:t.url}function O(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{l as c,c as l,f as i,b as a,e as u,g as p,a as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,create as y,fromPositionAndNormal as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=y();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=i(o,t,a(n,r,e.state.camera.eye));return i(s,s,t),E(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=c(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),i=o=>{if(a(o,o,r),j(t,o,o),\"global\"===e.viewingMode){c(o)*Math.sign(u(t,o))<.001-n&&a(o,p(o,t,.001),r)}return m(o,o,r),o};return e=>(e.renderStart=i(l(o,e.renderStart)),e.renderEnd=i(l(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{isSome as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";const n=n=>{let p=class extends(o(n)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return!r(this.parent)||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({readOnly:!0})],p.prototype,\"type\",void 0),e([i({constructOnly:!0})],p.prototype,\"analysis\",void 0),e([i({constructOnly:!0})],p.prototype,\"parent\",void 0),e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({type:Boolean})],p.prototype,\"interactive\",null),e([i()],p.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],p.prototype,\"updating\",null),e([i()],p.prototype,\"visible\",null),e([i()],p.prototype,\"_interactiveViewModelCount\",void 0),p=e([s(\"esri.views.3d.analysis.AnalysisView3D\")],p),p};export{n as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../Graphic.js\";import t from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as o}from\"../../renderers/support/types.js\";import s from\"../../request.js\";import i from\"../../core/Error.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import n from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{isSome as l,isNone as d}from\"../../core/maybe.js\";import{EsriPromiseMixin as y}from\"../../core/Promise.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as c}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as m}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import f from\"../../geometry/Extent.js\";import g from\"../../geometry/SpatialReference.js\";import j from\"../FeatureLayer.js\";import v from\"./BuildingSublayer.js\";import{zeroCapabilities as b}from\"../support/capabilities.js\";import{popupEnabled as L}from\"../support/commonProperties.js\";import{defineFieldProperties as S}from\"../support/fieldProperties.js\";import I from\"../support/FieldsIndex.js\";import{unpackFieldNames as F}from\"../support/fieldUtils.js\";import{fetchIndexInfo as w}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as x,I3SMaterialDefinition as O,I3STextureSetDefinition as T,I3SGeometryDefinition as q}from\"../support/I3SLayerDefinitions.js\";import R from\"../../rest/support/Query.js\";import{createPopupTemplate as P}from\"../../support/popupUtils.js\";import U from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as D}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as Q,getFetchPopupTemplate as E}from\"../../views/layers/support/popupUtils.js\";const A=\"esri.layers.buildingSublayers.BuildingComponentSublayer\",_=p.getLogger(A),C=S();let N=class extends(n.LoadableMixin(y(v))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new I(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return l(t)&&\"number\"==typeof o?new j({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return l(this.associatedLayer)?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=l(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=w(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,_,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return P(this,e)}async _fetchService(e){const r=(await s(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){const t=this.getFeatureType(r?.feature)?.domains?.[e];return t&&\"inherited\"!==t.type?t:this.getField(e)?.domain??null}getFeatureType(e){return e&&l(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return l(this.associatedLayer)?this.associatedLayer.types??[]:[]}get typeIdField(){return l(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=l(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:b,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new R;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(e?.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}async queryCachedAttributes(e,r){const t=F(this.fieldsIndex,await Q(this,E(this)));return D(this.parsedUrl.path,this.attributeStorageInfo,e,r,t)}async queryCachedFeature(e,t){const o=await this.queryCachedAttributes(e,[t]);if(!o||0===o.length)throw new i(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");const s=new r;return s.attributes=o[0],s.layer=this,s.sourceLayer=this,s}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:l(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return l(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),d(this.associatedLayer))throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([u({readOnly:!0})],N.prototype,\"parsedUrl\",null),e([u({type:x,readOnly:!0})],N.prototype,\"nodePages\",void 0),e([u({type:[O],readOnly:!0})],N.prototype,\"materialDefinitions\",void 0),e([u({type:[T],readOnly:!0})],N.prototype,\"textureSetDefinitions\",void 0),e([u({type:[q],readOnly:!0})],N.prototype,\"geometryDefinitions\",void 0),e([u({readOnly:!0})],N.prototype,\"serviceUpdateTimeStamp\",void 0),e([u({readOnly:!0})],N.prototype,\"store\",void 0),e([u({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],N.prototype,\"rootNode\",void 0),e([u({readOnly:!0})],N.prototype,\"attributeStorageInfo\",void 0),e([u(C.fields)],N.prototype,\"fields\",void 0),e([u({readOnly:!0})],N.prototype,\"fieldsIndex\",null),e([u({readOnly:!0,type:j})],N.prototype,\"associatedLayer\",void 0),e([m(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],N.prototype,\"readAssociatedLayer\",null),e([u(C.outFields)],N.prototype,\"outFields\",void 0),e([u({type:String,readOnly:!0})],N.prototype,\"objectIdField\",null),e([u({readOnly:!0,type:String,json:{read:!1}})],N.prototype,\"displayField\",null),e([u({readOnly:!0,type:String})],N.prototype,\"apiKey\",null),e([u({readOnly:!0,type:f})],N.prototype,\"fullExtent\",null),e([u({readOnly:!0,type:g})],N.prototype,\"spatialReference\",null),e([u({readOnly:!0})],N.prototype,\"version\",null),e([u({readOnly:!0,type:U})],N.prototype,\"elevationInfo\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"minScale\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"maxScale\",null),e([u({readOnly:!0,type:Number})],N.prototype,\"effectiveScaleRange\",null),e([u({type:[\"hide\",\"show\"],json:{write:!0}})],N.prototype,\"listMode\",void 0),e([u({types:o,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],N.prototype,\"renderer\",void 0),e([u({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],N.prototype,\"definitionExpression\",void 0),e([u(L)],N.prototype,\"popupEnabled\",void 0),e([u({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],N.prototype,\"popupTemplate\",void 0),e([u({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],N.prototype,\"normalReferenceFrame\",void 0),e([u({readOnly:!0,json:{read:!1}})],N.prototype,\"defaultPopupTemplate\",null),e([u()],N.prototype,\"types\",null),e([u()],N.prototype,\"typeIdField\",null),e([u({json:{write:!1}}),c(new a({\"3DObject\":\"3d-object\",Point:\"point\"}))],N.prototype,\"layerType\",void 0),e([u()],N.prototype,\"geometryType\",null),e([u()],N.prototype,\"profile\",null),e([u({readOnly:!0,json:{read:!1}})],N.prototype,\"capabilities\",null),N=e([h(A)],N);const M=N;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as a}from\"../support/commonProperties.js\";let l=class extends(r(o)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,r){return\"string\"==typeof r.alias?r.alias:\"string\"==typeof r.name?r.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),e([t()],l.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),e([s(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),e([t(a(String))],l.prototype,\"modelName\",void 0),e([t(a(Boolean))],l.prototype,\"isEmpty\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);const n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}};export{t as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec4f64.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{S as a}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";import{BlendFactor as l,CompareFunction as n}from\"../../../webgl/enums.js\";import{makePipelineState as c,separateBlendingParams as m,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class h extends r{constructor(){super(...arguments),this.backgroundColor=e(1,0,0,.5),this.gridColor=e(0,1,0,.5),this.gridWidth=4}}class u extends o{initializeProgram(e){return new s(e.rctx,u.shader.get().build(this.configuration),t)}initializePipeline(){return c({blending:m(l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:n.LESS},colorWrite:d})}}u.shader=new i(a,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{h as SlicePlaneMaterialPassParameters,u as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as r}from\"../../../../core/maybe.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ShaderTechniqueConfiguration as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import i from\"../lib/GLMaterial.js\";import{Material as o,RenderOccludedFlag as n}from\"../lib/Material.js\";import{RenderSlot as s}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as u,PositionUVLayout as a}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as c}from\"./internal/MaterialUtil.js\";import{SlicePlaneMaterialTechnique as l,SlicePlaneMaterialPassParameters as m}from\"../shaders/SlicePlaneMaterialTechnique.js\";class f extends o{constructor(r){super(r,new d),this._configuration=new t}intersect(r,e,t,i,o,n,s){return c(r,e,i,o,n,void 0,s)}createBufferWriter(){return new u(a)}requiresSlot(r,t){return t===e.Color&&r===s.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(r){return new h(r)}getConfiguration(){return this._configuration}}class h extends i{constructor(r){super(r),this.ensureTechnique(l,null)}beginSlot(){return r(this.technique)}}class d extends m{constructor(){super(...arguments),this.renderOccluded=n.Occlude}}export{d as Parameters,f as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec4.js\";import{f as t}from\"../../../../chunks/vec4f64.js\";import{Object3DVisualElement as i}from\"./Object3DVisualElement.js\";import{createSquareGeometry as a}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as s}from\"../../webgl-engine/lib/Material.js\";import{SlicePlaneMaterial as d}from\"../../webgl-engine/materials/SlicePlaneMaterial.js\";class l extends i{constructor(r){super(r),this._material=null,this._renderOccluded=s.OccludeAndTransparent,this._gridWidth=1,this._gridColor=t(1,0,0,1),this._backgroundColor=t(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){e(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){e(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new d(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){r(this._material)&&e(this._material)}createGeometries(e){if(r(this._material)){const r=a();e.addGeometry(r,this._material)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){r(this._material)&&this._material.setParameters(this._materialParameters)}}export{l as SlicePlaneVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import t from\"../../../../analysis/SlicePlane.js\";import\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{rad2deg as i,deg2rad as n}from\"../../../../core/mathUtils.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as o}from\"../../../../core/screenUtils.js\";import{o as a,b as c,k as l,m as u,r as d,i as m,v as p,D as g}from\"../../../../chunks/mat4.js\";import{c as f}from\"../../../../chunks/mat4f64.js\";import{r as b}from\"../../../../chunks/quat.js\";import{g as h,c as T,e as E,f as O,n as I,a as R,l as w,b as A,s as j,p as y,y as M}from\"../../../../chunks/vec3.js\";import{a as L,c as _,f as k}from\"../../../../chunks/vec3f64.js\";import{tryProjectWithZConversion as C}from\"../../../../geometry/projection.js\";import{Axis as N}from\"../../../../geometry/support/Axis.js\";import{r as P,f as v,i as U,a as V,n as S,u as F}from\"../../../../chunks/boundedPlane.js\";import{fromVectorsAndPoint as H,fromPositionAndNormal as x}from\"../../../../geometry/support/plane.js\";import{create as G}from\"../../../../geometry/support/ray.js\";import{angleAroundAxis as D}from\"../../../../geometry/support/vector.js\";import{sv3d as X,sm4d as Y,sq4d as Z}from\"../../../../geometry/support/vectorStacks.js\";import{VERTICAL_DOT_THRESHOLD as W,SMALL_ANGLE_DOT_THRESHOLD as B,PLANE_MIN_BASIS_SCREEN_LEN2 as q,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as z,SHIFT_RESTART_OFFSET_DISTANCE as $,RESIZE_HANDLE_EDGE_PADDING_FRAC as J,SHIFT_RESTART_ARROW_TIP_COLOR as K,SHIFT_RESTART_ARROW_CAP_COLOR as Q,SHIFT_RESTART_TUBE_COLOR as tt,SHIFT_RESTART_OUTLINE_COLOR as et,SHIFT_RESTART_CALLOUT_COLOR as it,SHIFT_RESTART_TIP_RADIUS as nt,PLANE_OUTLINE_COLOR as rt,PLANE_OUTLINE_WIDTH as st,PLANE_BACKGROUND_COLOR as ot,GRID_COLOR as at,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ct,RESIZE_HANDLE_EDGE_INPUT_RADIUS as lt,SHIFT_RESTART_TIP_LENGTH as ut,SHIFT_RESTART_ARROW_LENGTH as dt,SHIFT_RESTART_TUBE_RADIUS as mt,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as pt,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as gt,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as ft,RESIZE_HANDLE_CORNER_WIDTH as bt,RESIZE_HANDLE_EDGE_WIDTH as ht,DISPLAY_FOCUS_MULTIPLIER as Tt,RESIZE_HANDLE_COLOR as Et}from\"./sliceToolConfig.js\";import{applyProjectionAndElevationAlignment as Ot}from\"../support/projectionUtils.js\";import{Manipulator3D as It}from\"../../interactive/Manipulator3D.js\";import{calculateTranslateRotateFromBases as Rt,createRotateManipulator as wt,worldScaledManipulatorSettings as At}from\"../../interactive/manipulatorUtils.js\";import{LineVisualElement as jt}from\"../../interactive/visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as yt}from\"../../interactive/visualElements/SlicePlaneVisualElement.js\";import{RenderCoordsHelper as Mt}from\"../../support/RenderCoordsHelper.js\";import{fromRender as Lt}from\"../../support/geometryUtils/ray.js\";import{CullFaceOptions as _t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createPolylineGeometry as kt,createExtrudedTriangle as Ct,createConeGeometry as Nt,createPathExtrusionGeometry as Pt}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as vt}from\"../../webgl-engine/lib/Material.js\";import{ColorMaterial as Ut}from\"../../webgl-engine/materials/ColorMaterial.js\";import{NativeLineMaterial as Vt}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as St}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{ManipulatorStateCustomFlags as Ft,ManipulatorStateFlags as Ht}from\"../../../interactive/interfaces.js\";import xt from\"../../../../geometry/Extent.js\";function Gt(t,e,i,n,r,s,o,a){return Dt(e,o.worldUpAtPosition(t,X.get()),r,s,a.basis1,a.basis2),h(a.basis1,a.basis1,i),h(a.basis2,a.basis2,n),T(a.origin,t),H(a.basis2,a.basis1,a.origin,a.plane),a}function Dt(t,e,i,n,r,s){const o=E(t,e),a=X.get(),c=X.get();switch(n===we.HORIZONTAL_OR_VERTICAL?Math.abs(o)>W?we.HORIZONTAL:we.VERTICAL:n){case we.VERTICAL:{const n=Math.abs(o)<=B?t:i.viewUp;O(a,n,e),T(c,e);break}case we.HORIZONTAL:O(a,i.viewUp,e),O(c,e,a);break;case we.TILTED:{const n=Math.abs(o)<=B?e:i.viewUp;O(a,n,t),O(c,t,a);break}}const l=O(X.get(),a,c);E(l,i.viewForward)>0&&h(c,c,-1),I(r,a),I(s,c)}function Xt(t,e,i){const n=e.worldUpAtPosition(t.origin,X.get()),r=t.basis1,s=be(t,n),o=Math.round(s/ye)*ye;return P(t,o-s,r,i)}function Yt(t,e,i,n,r,s){const o=T(X.get(),r.origin);R(o,o,h(X.get(),r.basis1,t.direction[0]<0?1:-1)),R(o,o,h(X.get(),r.basis2,t.direction[1]<0?1:-1));const a=w(r.basis1),c=w(r.basis2),l=A(X.get(),i,o),u=A(X.get(),e,o);let d=0,m=0;if(se(t)){const e=re(r),i=re(s);d=a-.5*t.direction[0]*E(r.basis1,u)/a,m=c-.5*t.direction[1]*E(r.basis2,u)/c;const n=i/e;d*=n,m*=n}const p=d+.5*t.direction[0]*E(r.basis1,l)/a,g=m+.5*t.direction[1]*E(r.basis2,l)/c,f=h(X.get(),r.basis1,p/a),b=h(X.get(),r.basis2,g/c);(p<=0||ie(s.origin,f,n)<=q)&&T(f,s.basis1),(g<=0||ie(s.origin,b,n)<=q)&&T(b,s.basis2);const O=T(X.get(),o);return R(O,O,h(X.get(),f,t.direction[0]<0?-1:1)),R(O,O,h(X.get(),b,t.direction[1]<0?-1:1)),v(O,f,b,s)}function Zt(t,e){return z*Math.min(e.width,e.height)*e.computeRenderPixelSizeAt(t)}function Wt(t,e,i,n){const r=O(X.get(),e,i);return O(r,r,e),x(t,r,n)}function Bt(t,e){return Rt(t.basis1,t.basis2,t.origin,e)}function qt(t,e,i,n){const r=e.worldUpAtPosition(t.origin,X.get()),s=X.get();switch(i){case Re.HEADING:T(s,r);break;case Re.TILT:T(s,t.basis1)}return x(t.origin,s,n)}function zt(t,e,i,n){const r=ee(i,te.NEGATIVE_X),s=Y.get();a(s,e,r.edge*Math.PI/2);const c=I(X.get(),r.basis);let l=h(X.get(),c,r.direction*n.computeScreenPixelSizeAt(r.position)*$);R(l,l,r.position);const u=n.projectToRenderScreen(l,o(X.get())),d=$t(n,u);Lt(n,u,je),I(je.direction,je.direction);const m=X.get();!d&&U(i,je,m)&&(l=m),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=L(l),d?t.state|=Ae:t.state&=~Ae}function $t(t,e){const[i,n,r,s]=t.viewport,o=Math.min(r,s)/16;let a=!0;return e[0]<i+o?(e[0]=i+o,a=!1):e[0]>i+r-o&&(e[0]=i+r-o,a=!1),e[1]<n+o?(e[1]=n+o,a=!1):e[1]>n+s-o&&(e[1]=n+s-o,a=!1),a}function Jt(t,e,i,n){const r=w(n.basis1),s=w(n.basis2),o=ne(n),a=re(n),d=j(X.get(),0,0,0);R(d,h(X.get(),n.basis1,e.direction[0]),h(X.get(),n.basis2,e.direction[1])),R(d,n.origin,d);let m=0,p=1;if(se(e))1===e.direction[0]&&-1===e.direction[1]?m=ye:1===e.direction[0]&&1===e.direction[1]?m=Math.PI:-1===e.direction[0]&&1===e.direction[1]&&(m=3*Math.PI/2),p=a;else{const t=0!==e.direction[0]?1:2;m=1===t?ye:0,p=(1===t?s:r)-o}const g=c(Y.get(),m);l(g,g,j(X.get(),p,p,p)),u(g,i,g),g[12]=0,g[13]=0,g[14]=0,t.modelTransform=g,t.renderLocation=d}function Kt(t,e,i,n){const r=n.worldUpAtPosition(i.origin,X.get()),s=ee(i,te.POSITIVE_X),o=c(Y.get(),s.edge*Math.PI/2);d(o,o,-be(i,r)),u(o,e,o),o[12]=0,o[13]=0,o[14]=0,t.modelTransform=o,t.renderLocation=s.position}function Qt(t,e,i){const n=ee(i,te.POSITIVE_Y),r=c(Y.get(),n.edge*Math.PI/2);d(r,r,ye),u(r,e,r),r[12]=0,r[13]=0,r[14]=0,t.modelTransform=r,t.renderLocation=n.position}var te;function ee(t,e){switch(e){case te.POSITIVE_X:return{basis:t.basis1,direction:1,position:R(X.get(),t.origin,t.basis1),edge:e};case te.POSITIVE_Y:return{basis:t.basis2,direction:1,position:R(X.get(),t.origin,t.basis2),edge:e};case te.NEGATIVE_X:return{basis:t.basis1,direction:-1,position:A(X.get(),t.origin,t.basis1),edge:e};case te.NEGATIVE_Y:return{basis:t.basis2,direction:-1,position:A(X.get(),t.origin,t.basis2),edge:e}}}function ie(t,e,i){const n=i.projectToRenderScreen(R(X.get(),t,e),o(X.get())),r=i.projectToRenderScreen(A(X.get(),t,e),o(X.get()));return y(A(n,n,r))}function ne(t){const e=w(t.basis1),i=w(t.basis2);return J*Math.min(e,i)}function re(t){return ne(t)}function se(t){return 0!==t.direction[0]&&0!==t.direction[1]}function oe(t,e=_e.CENTER_ON_ARROW){const i=e===_e.CENTER_ON_CALLOUT?$:0,n=[k(i,0,-dt/2),k(i,0,dt/2)],r=pe(n,!0),s=(t,e)=>de(n,n,{tubeRadius:mt,tipRadius:nt,tipLength:ut,tubeFocusMultiplier:pt,tipFocusMultiplier:gt,padding:t,bothEnds:!0,flat:null,focusTipLength:!0,addCap:e}),o=s(0,!1),a=s(ft,!0),c=new Ut({color:K,cullFace:_t.Back,renderOccluded:vt.Opaque}),l=new Ut({color:Q,cullFace:_t.Back,renderOccluded:vt.Opaque}),u=new Ut({color:tt,cullFace:_t.Back,renderOccluded:vt.Opaque}),d=new Ut({color:et,transparent:!0,writeDepth:!1,cullFace:_t.Front,renderOccluded:vt.Transparent}),m=kt([[i,0,0],[i-$,0,0]]),p=kt([[i,0,0],[i-$,0,0]]),g=new Vt({color:it,renderOccluded:vt.OccludeAndTransparent});return new It({view:t,renderObjects:[...o.normal.map((({part:t,geometry:e,transform:i})=>({geometry:e,material:\"tip\"===t?c:\"cap\"===t?l:u,transform:i,stateMask:Ht.Unfocused|Ie}))),...a.normal.map((({geometry:t,transform:e})=>({geometry:t,material:d,transform:e,stateMask:Ht.Unfocused|Ie}))),{geometry:m,material:g,stateMask:Ht.Unfocused|Ie|Ae},...o.focused.map((({part:t,geometry:e,transform:i})=>({geometry:e,material:\"tip\"===t?c:\"cap\"===t?l:u,transform:i,stateMask:Ht.Focused|Ie}))),...a.focused.map((({geometry:t,transform:e})=>({geometry:t,material:d,transform:e,stateMask:Ht.Focused|Ie}))),{geometry:p,material:g,stateMask:Ht.Focused|Ie|Ae}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[r]},collisionPriority:1,radius:nt,state:Ie})}function ae(t,e){const i=wt(t,{customStateMask:Ie,texture:e});return i.state=Ie,i}function ce(t){const e=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new jt({view:t,attached:!1,color:rt,width:st,writeDepthEnabled:!1,renderOccluded:vt.OccludeAndTransparent,geometry:[e]})}function le(t){return new yt({view:t,attached:!1,backgroundColor:[...ot],gridColor:at,gridWidth:4,renderOccluded:vt.OccludeAndTransparent})}function ue(t,e){const i=se(e),n=i?[k(1,0,0),k(0,0,0),k(0,1,0)]:[k(1,0,0),k(-1,0,0)],r=kt(n),s=Et,o=t=>new St({color:s,width:t,renderOccluded:vt.OccludeAndTransparent}),a=()=>new Vt({color:s,renderOccluded:vt.OccludeAndTransparent}),c=i?bt:ht,l=c*Tt,u=ht,d=t=>t>1?o(t):a(),m=[{geometry:r,material:d(c),stateMask:Ht.Unfocused|Me},{geometry:r,material:d(l),stateMask:Ht.Focused|Me},{geometry:r,material:d(u),stateMask:Le}],p=new It({view:t,renderObjects:m,collisionType:{type:\"line\",paths:[n]},radius:i?ct:lt,...At});return p.state=Me,p}function de(t,e,i){const n=n=>{const r=(n?e:t).slice(0),o=A(X.get(),r[0],r[1]);I(o,o);const a=A(X.get(),r[r.length-1],r[r.length-2]);if(I(a,a),i.padding>0){const t=h(_(),a,-i.padding);if(r[r.length-1]=R(t,t,r[r.length-1]),i.bothEnds){const t=h(_(),o,-i.padding);r[0]=R(t,t,r[0])}}const c=n?i.tipFocusMultiplier:1,d=i.tipLength*(i.focusTipLength?c:1),T=i.tipRadius*c,E=m(Y.get());if(i.padding>0){const t=d/4,e=j(X.get(),0,t,0),n=1+i.padding/t;p(E,E,e),l(E,E,j(X.get(),n,n,n)),p(E,E,h(e,e,-1/n))}const O=m(f()),w=k(0,1,0),y=g(f(),b(Z.get(),w,a));y[12]=r[r.length-1][0],y[13]=r[r.length-1][1],y[14]=r[r.length-1][2],u(y,y,E);const M=[{part:\"tube\",geometry:me(i.tubeRadius*(n?i.tubeFocusMultiplier:1)+i.padding,i.flat,r),transform:O}];let L,C;if(s(i.flat)?L=Ct(d,T,T,i.flat.thickness):(L=Nt(d,T,24,!1,!1,!0),C=Nt(d,T,24,!1,!0,!1)),M.push({part:\"tip\",geometry:L,transform:y}),C&&M.push({part:\"cap\",geometry:C,transform:y}),i.bothEnds){const t=g(f(),b(Z.get(),w,o));t[12]=r[0][0],t[13]=r[0][1],t[14]=r[0][2],u(t,t,E),M.push({part:\"tip\",geometry:L,transform:t}),C&&M.push({part:\"cap\",geometry:C,transform:t})}return M};return{normal:n(!1),focused:n(!0)}}function me(t,e,i){const n=[];if(s(e))n.push([t,e.thickness/2],[-t,e.thickness/2],[-t,-e.thickness/2],[t,-e.thickness/2]);else{const e=12;for(let i=0;i<e;i++){const r=i/e*2*Math.PI;n.push([Math.cos(r)*t,Math.sin(r)*t])}}return Pt(n,i,[],[],!1)}function pe(t,e){const i=A(_(),t[t.length-1],t[t.length-2]);if(I(i,i),h(i,i,ut),R(i,i,t[t.length-1]),e){const e=A(_(),t[0],t[1]);return I(e,e),h(e,e,ut),R(e,e,t[0]),[e,...t,i]}return[...t,i]}function ge(e,n,s,o=new t){if(r(e))return null;const{renderCoordsHelper:a}=n,c=a.fromRenderCoords(e.origin,n.spatialReference);if(r(c))return null;const l=C(c,s);if(r(l))return null;o.position=l;const u=2*w(e.basis1),d=2*w(e.basis2),m=Mt.renderUnitScaleFactor(n.spatialReference,s);o.width=u*m,o.height=d*m;const p=a.worldUpAtPosition(e.origin,X.get());return o.tilt=i(be(e,p)),o.heading=a.headingAtPosition(e.origin,e.basis1)-90,o}function fe(t,e,i){if(r(t))return null;const n=t.origin,s=X.get(),o=X.get(),a=X.get(),c=X.get();let l,u,d,m,p,g;R(s,n,t.basis1),R(s,s,t.basis2),R(o,n,t.basis1),M(o,o,t.basis2),M(a,n,t.basis1),M(a,a,t.basis2),M(c,n,t.basis1),R(c,c,t.basis2);for(const f of[s,o,a,c]){const t=e.fromRenderCoords(f,f,i);if(r(t))return null;l=null==l?t[0]:Math.min(l,t[0]),u=null==u?t[0]:Math.max(u,t[0]),d=null==d?t[1]:Math.min(d,t[1]),m=null==m?t[1]:Math.max(m,t[1]),p=null==p?t[2]:Math.min(p,t[2]),g=null==g?t[2]:Math.max(g,t[2])}return new xt({xmin:l,xmax:u,ymin:d,ymax:m,zmin:p,zmax:g,spatialReference:i})}function be(t,e){return D(e,t.basis2,t.basis1)+ye}function he(t,i,r,s,o,a,c=V()){return a.toRenderCoords(t,c.origin)?(a.worldBasisAtPosition(c.origin,N.X,c.basis1),a.worldBasisAtPosition(c.origin,N.Y,c.basis2),H(c.basis2,c.basis1,c.origin,c.plane),P(c,-n(i),S(c),c),P(c,n(r),c.basis1,c),h(c.basis1,c.basis1,s/2),h(c.basis2,c.basis2,o/2),F(c),c):(e.getLogger(\"esri.views.3d.analysis.Slice.sliceToolUtils\").error(`Failed to project slice plane position, projection from ${t.spatialReference.wkid} is not supported`),null)}function Te(t,e){if(r(t)||r(t.position))return null;const i=Ot(t.position,e.spatialReference,e.elevationProvider);if(r(i))return null;const n=Mt.renderUnitScaleFactor(t.position.spatialReference,e.spatialReference),s=t.width*n,o=t.height*n;return{position:i,heading:t.heading,tilt:t.tilt,renderWidth:s,renderHeight:o}}function Ee(t,e,i,n=V()){const s=Te(t,e);return r(s)?null:Oe(s,e,i,n)}function Oe(t,e,i,n=V()){if(r(t))return null;const o=he(t.position,t.heading,t.tilt,t.renderWidth,t.renderHeight,e.renderCoordsHelper,n);return!i.tiltEnabled&&s(o)&&Xt(o,e.renderCoordsHelper,o),o}!function(t){t[t.POSITIVE_X=0]=\"POSITIVE_X\",t[t.POSITIVE_Y=1]=\"POSITIVE_Y\",t[t.NEGATIVE_X=2]=\"NEGATIVE_X\",t[t.NEGATIVE_Y=3]=\"NEGATIVE_Y\"}(te||(te={}));const Ie=Ft.Custom1;var Re,we;!function(t){t[t.HEADING=1]=\"HEADING\",t[t.TILT=2]=\"TILT\"}(Re||(Re={})),function(t){t[t.HORIZONTAL_OR_VERTICAL=0]=\"HORIZONTAL_OR_VERTICAL\",t[t.HORIZONTAL=1]=\"HORIZONTAL\",t[t.VERTICAL=2]=\"VERTICAL\",t[t.TILTED=3]=\"TILTED\"}(we||(we={}));const Ae=Ft.Custom2,je=G(),ye=Math.PI/2,Me=Ft.Custom1,Le=Ft.Custom2;var _e;function ke(t){const e=\"building-scene-3d\"===t.type?t:null;return s(e)}!function(t){t[t.CENTER_ON_CALLOUT=0]=\"CENTER_ON_CALLOUT\",t[t.CENTER_ON_ARROW=1]=\"CENTER_ON_ARROW\"}(_e||(_e={}));export{Ie as DidPointerMoveRecentlyFlag,Ae as IsShiftEdgeOnScreenFlag,_e as OffsetMode,Re as RotationAxis,we as SliceOrientation,pe as addArrowTips,Bt as calculateBoundedPlaneTranslateRotate,re as calculateDiagonalResizeHandleScale,Zt as calculatePlaneHalfSize,ne as calculateResizeHandlePadding,ie as calculateScreenSpaceBasisLength2,de as createArrowGeometry,le as createGridVisualElement,ce as createOutlineVisualElement,Gt as createPlane,ue as createResizeManipulator,ae as createRotateManipulator,qt as createRotatePlane,oe as createShiftManipulator,Wt as createShiftPlane,Xt as forceHorizontalOrVertical,se as isDiagonalResizeHandle,ke as isIBuildingSceneLayerView3D,Dt as normalToBases,fe as planeToExtent,ge as planeToShape,Te as projectAndElevationAlignShape,Oe as projectedShapeToPlane,Me as resizeNormal,Le as resizeOutlineOnly,Yt as resizePlane,Ee as shapeToPlane,Jt as updateResizeHandle,Kt as updateRotateHeadingHandle,Qt as updateRotateTiltHandle,zt as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let a=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};s([r({constructOnly:!0})],a.prototype,\"analysis\",void 0),s([r()],a.prototype,\"analysisViewData\",void 0),a=s([o(\"esri.views.interactive.AnalysisToolBase\")],a);export{a as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t,isNone as i}from\"../../core/maybe.js\";import{onAbort as e}from\"../../core/promiseUtils.js\";import{whenOnce as n,watch as r,syncAndInitial as a}from\"../../core/reactiveUtils.js\";function c(r,a){r.interactive=!0;const{tool:c,view:s}=r;s.activeTool=c;let l=e(a,(()=>{s.activeTool===c&&(s.activeTool=null)}));return o((async o=>{await n((()=>i(c)||!c.active),o),l=t(l)}),a)}function s(o,t){return r((()=>o.interactive),(()=>l(o,t)),a)}function l(o,t){o.interactive?v(o,t):m(o)}function v(o,t){m(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function m(o){const{view:t,tool:e}=o;i(e)||(t.tools.remove(e),o.tool=null)}export{c as activateAnalysisViewTool,s as connectAnalysisViewToTool,m as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import{cyclicalDegrees as r}from\"../core/Cyclical.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as l}from\"../core/accessorSupport/ensureType.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import n from\"../geometry/Point.js\";let c=class extends(t(e)){constructor(o){super(o),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(o){return this.heading===o.heading&&this.tilt===o.tilt&&i(this.position,o.position)&&this.width===o.width&&this.height===o.height}};o([s({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),o([s({type:n}),m()],c.prototype,\"position\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),p((o=>r.normalize(l(o),0,!0)))],c.prototype,\"heading\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),p((o=>r.normalize(l(o),0,!0)))],c.prototype,\"tilt\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"width\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"height\",void 0),c=o([a(\"esri.analysis.SlicePlane\")],c);const h=c;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{f as s}from\"../../../../chunks/vec3f64.js\";import{b as t,f as r}from\"../../../../chunks/vec4f64.js\";const c=has(\"mac\")?\"Meta\":\"Control\",m=\"Shift\",a=2,f=1.15,h=1.15,e=2500,i=.02,p=Math.cos(o(45)),j=Math.cos(o(5)),n=.95,M=.3,k=.7,l=s(1,.5,0),u=2,v=1,b=t([...l,k]),x=[0,0,0,.04],C=t([...l,.5]),S=r(1,1,1,1),U=r(1,.8,.6,1),d=r(1,.93,.86,1),g=t([...l,1]),q=t([...l,1]),w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=t([...l,1]),F=4,G=1,H=.3,I=6,J=4,K=1600,L=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,C as GRID_COLOR,i as INITIAL_DEPTH_OFFSET_FRAC,L as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,x as PLANE_BACKGROUND_COLOR,K as PLANE_MIN_BASIS_SCREEN_LEN2,b as PLANE_OUTLINE_COLOR,v as PLANE_OUTLINE_WIDTH,u as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,n as PREVIEW_FADE_DOT_THRESHOLD,M as PREVIEW_FADE_DURATION_SECONDS,E as RESIZE_HANDLE_COLOR,I as RESIZE_HANDLE_CORNER_INPUT_RADIUS,F as RESIZE_HANDLE_CORNER_WIDTH,J as RESIZE_HANDLE_EDGE_INPUT_RADIUS,H as RESIZE_HANDLE_EDGE_PADDING_FRAC,G as RESIZE_HANDLE_EDGE_WIDTH,U as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,S as SHIFT_RESTART_ARROW_TIP_COLOR,g as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,q as SHIFT_RESTART_OUTLINE_COLOR,h as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,d as SHIFT_RESTART_TUBE_COLOR,f as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,j as SMALL_ANGLE_DOT_THRESHOLD,p as VERTICAL_DOT_THRESHOLD,c as forceHorizontalModifier,m as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as a}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function t(t){const g=new i;g.extensions.add(\"GL_OES_standard_derivatives\");const{vertex:l,fragment:s,attributes:n,varyings:c}=g;return e(l,t),n.add(a.POSITION,\"vec3\"),n.add(a.UV0,\"vec2\"),c.add(\"vUV\",\"vec2\"),l.code.add(o`void main(void) {\nvUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);\n}`),s.uniforms.add([new r(\"backgroundColor\",(e=>e.backgroundColor)),new r(\"gridColor\",(e=>e.gridColor)),new d(\"gridWidth\",(e=>e.gridWidth))]),s.code.add(o`void main() {\nconst float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\ngl_FragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;\n}`),g}const g=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{g as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst A=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC\";export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst D=\"data:image/png;base64,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\";export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"./heading-rotate-png.js\";import r from\"./tilt-rotate-png.js\";import{Texture as e}from\"../../../webgl-engine/lib/Texture.js\";const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(t,(()=>new e(t,n)))}function i(t){return t.fromData(r,(()=>new e(r,n)))}export{o as getRotateHeadingTexture,i as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{isNone as l,isSome as n}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../../../chunks/boundedPlane.js\";import d from\"../../../../layers/Layer.js\";import u from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as p,projectAndElevationAlignShape as y,projectedShapeToPlane as w,planeToShape as v}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as f}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as m}from\"../../terrain/isTerrainSurfaceLayer.js\";const _=\"esri.views.3d.analysis.Slice.SliceController\",V=s.getLogger(_);let g=class extends a{constructor(e){super(e),this._handles=new t,this._internalChange=!1,this._currentSlicePlane=null}initialize(){this._handles.add(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof d||i instanceof u)?i instanceof d&&m(i)?(V.error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(V.error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),L(this.view,this),this._handles.add([r((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),r((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),r((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),r((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this._handles.add([r((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null),D(this.view,this),this._handles.destroy(),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(p).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(l(i)&&l(e)||n(i)&&n(e)&&e.equals(i))return;let a=null,t=null;if(n(e)&&n(e.position)){const i=e.position.spatialReference,s=y(e,this.view);l(s)&&f(this.analysis,i,V),a=w(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},h()),n(a)&&(t={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=t,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=v(e,this.view,this.view.spatialReference,new i);let t=null;n(a)&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(S)return;const e=C(this.view);if(this.analysisViewData.active)n(e.activeController)&&e.activeController!==this?(S=!0,e.activeController.analysisViewData.active=!1,S=!1):n(e.activeController)&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(n(e.activeController)&&e.activeController!==this)return;n(e.activeController)&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){P(this.view)}_updateLayerViews(){const e=n(this.analysisViewData.plane)&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([o()],g.prototype,\"view\",void 0),e([o()],g.prototype,\"analysis\",void 0),e([o()],g.prototype,\"analysisViewData\",void 0),e([o()],g.prototype,\"_allLayerAndSubLayerViews\",null),g=e([c(_)],g);const b=new Map;let S=!1;function P(e){const i=C(e).activeController;n(i)&&n(i.analysisViewData.plane)&&i.analysisViewData.visible?e.slicePlane=i.analysisViewData.plane:e.slicePlane=null}function L(e,i){b.has(e)||b.set(e,{all:[],activeController:null}),b.get(e).all.push(i)}function C(e){return b.get(e)}function D(e,i){if(!b.has(e))throw new Error(\"view expected in global slice register\");const a=b.get(e),t=a.all.lastIndexOf(i);if(-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&b.delete(e)}export{g as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function s(s){switch(s.type){case\"building-scene\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(s.type),!1}}export{s as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import a from\"../../../../core/Handles.js\";import{releaseMaybe as s,destroyMaybe as n,isSome as r,isNone as l,removeMaybe as o}from\"../../../../core/maybe.js\";import{watch as h,sync as p,syncAndInitial as u}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as c}from\"../../../../core/scheduling.js\";import{createScreenPoint as d,screenPointObjectToArray as _,createScreenPointArray as v}from\"../../../../core/screenUtils.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as m,C as g,m as w}from\"../../../../chunks/mat4.js\";import{e as f,l as M,c as D,g as T,a as V,m as b,n as k,s as E}from\"../../../../chunks/vec3.js\";import{a as S,c as H}from\"../../../../chunks/vec3f64.js\";import{a as x,c as I,n as R,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as O,create as C,intersectRay as z,normal as G}from\"../../../../geometry/support/plane.js\";import{create as U}from\"../../../../geometry/support/ray.js\";import{sv3d as L,sm4d as K,sv2d as A}from\"../../../../geometry/support/vectorStacks.js\";import{POINTER_MOVE_TIMER_MS as B,PLANE_PREVIEW_OUTLINE_WIDTH as F,forceVerticalModifier as N,forceHorizontalModifier as q,PLANE_OUTLINE_COLOR as Z,PLANE_BACKGROUND_COLOR as J,PREVIEW_FADE_DOT_THRESHOLD as Q,PREVIEW_FADE_DURATION_SECONDS as W,INITIAL_DEPTH_OFFSET_FRAC as X}from\"./sliceToolConfig.js\";import{createShiftManipulator as Y,createRotateManipulator as $,createResizeManipulator as tt,createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{getRotateHeadingTexture as yt,getTiltRotateTexture as mt}from\"./images/Factory.js\";import{calculateInputRotationTransform as gt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as wt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreen as ft}from\"../../support/geometryUtils/ray.js\";import{newIntersector as Mt}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as Dt}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as Tt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as Vt}from\"../../../interactive/dragEventPipeline.js\";import{createScreenPointFromEvent as bt}from\"../../../support/screenUtils.js\";var kt;let Et=kt=class extends Tt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this.layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._handles=new a,this._viewHandles=new a,this._frameTask=null,this._pointerMoveTimerMs=B,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=x(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=d(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode),this._intersector.options.store=Dt.MIN}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this._rotateHeadingImage=yt(this.view.toolViewManager.textures),this._rotateTiltImage=mt(this.view.toolViewManager.textures);const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(r(this.analysisViewData.plane)&&I(this.analysisViewData.plane,this._startPlane),this.inputState=null)};this.shiftManipulator=Y(this.view),this.manipulators.add(this.shiftManipulator),this.shiftManipulator.events.on(\"grab-changed\",(e=>{this._onShiftGrab(e),t(this.shiftManipulator)})),this._handles.add(this._createShiftDragPipeline(this.shiftManipulator)),this.rotateHeadingManipulator=$(this.view,this._rotateHeadingImage.texture),this.manipulators.add(this.rotateHeadingManipulator),this.rotateHeadingManipulator.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(this.rotateHeadingManipulator)})),this._handles.add(this._createRotateHeadingDragPipeline(this.rotateHeadingManipulator)),this.rotateTiltManipulator=$(this.view,this._rotateTiltImage.texture),this.manipulators.add(this.rotateTiltManipulator),this.rotateTiltManipulator.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(this.rotateTiltManipulator)})),this._handles.add(this._createRotateTiltDragPipeline(this.rotateTiltManipulator)),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=tt(this.view,e);return a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)})),this._handles.add(this._createResizeDragPipeline(a)),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=F,this._handles.add(h((()=>this.analysisViewData.plane),(()=>this._updateManipulators()),p));const e=h((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),u);this._handles.add([e,h((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._rotateHeadingImage=s(this._rotateHeadingImage),this._rotateTiltImage=s(this._rotateTiltImage),this._handles=n(this._handles),this._viewHandles=n(this._viewHandles),this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=n(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=n(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":r(this._creatingPointerId)?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this._handles.remove(\"analysis\"),this._set(\"analysis\",t)}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=r(t)&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return r(this.inputState)&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){l(this.analysisViewData.plane)||(this._set(\"layersMode\",\"exclude\"),this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){l(this.analysisViewData.plane)||(this._set(\"layersMode\",\"none\"),this.active&&(this.view.activeTool=null))}onDeactivate(){this._set(\"layersMode\",\"none\"),this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!Ht(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!Ht(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!Ht(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&r(e)&&\"shift\"===e.type){const i=bt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(bt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&r(this.analysisViewData.plane)){const e=bt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),I(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=bt(t),a=x();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(I(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),\"pointer-drag\"===t.type){const e=this._calculatePickRay(i);this.inputState=St(e,t.pointerId,a.origin,a)}return!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(bt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this._set(\"layersMode\",\"none\"),this.active&&(this.view.activeTool=null),!0)}_onKeyDown(t){return(t.key===N||t.key===q)&&(this._activeKeyModifiers[t.key]=!0,r(this._previewPlane)&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==N&&t.key!==q||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],r(this._previewPlane)&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane))return;const e=this._calculatePickRay(t.screenPoint);I(this.analysisViewData.plane,this._startPlane),this.inputState=St(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"shift\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(l(this.analysisViewData.plane))return null;const i=.001,a=Math.min((1-Math.abs(f(R(this.analysisViewData.plane),e.ray.direction)/M(e.ray.direction)))/i,1),s=-O(this._startPlane.plane,e.renderEnd),n=-O(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(l(this.analysisViewData.plane))return;const e=D(L.get(),this._startPlane.origin),i=D(L.get(),R(this._startPlane));T(i,i,-t.depth),V(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,x());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane))return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=this._calculatePickRay(t.screenPoint),a=H();z(e,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"rotate\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane))return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=this._calculatePickRay(t.screenPoint),a=H();z(e,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"rotate\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(l(this.analysisViewData.plane))return null;const i=G(t.rotatePlane),a=gt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(l(this.analysisViewData.plane))return;const e=m(K.get(),t.rotateAngle,t.rotateAxis);if(l(e))return;const i=b(L.get(),this._startPlane.basis1,e),a=b(L.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,x());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||l(this.analysisViewData.plane))return;const i=this._calculatePickRay(t.screenPoint),a=L.get();z(this.analysisViewData.plane.plane,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:S(a)})}_createResizeDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"resize\"!==a.type||l(this.analysisViewData.plane))return;const s=I(this.analysisViewData.plane,x());e.next(wt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(l(this.analysisViewData.plane))return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,I(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(!r(e))throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,l(t))return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=r(i)?i:x();if(i=r(i)?I(i,xt):null,this._pickPlane(t,!0,e,a)){const t=Q;let e=!1;r(i)&&(e=f(i.plane,a.plane)<t||f(k(L.get(),i.basis1),k(L.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}r(this._previewPlane)&&l(this._frameTask)&&0===this._previewPlaneOpacity?this._frameTask=c({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*W),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):l(this._previewPlane)&&r(this._frameTask)?this._removeFrameTask():r(this._previewPlane)&&this._updateManipulators()}_removeFrameTask(){this._frameTask=o(this._frameTask)}_calculatePickRay(t){const e=U(),i=_(t,It);return ft(this.view.state.camera,i,e),k(e.direction,e.direction),e}_pickMinResult(t){const e=_(t,A.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=L.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(L.get()),l=this.view.state.camera;f(r,l.viewForward)>0&&T(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*X,p=T(L.get(),r,h);V(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[N]?ot.VERTICAL:i[q]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=o(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(kt.disableEngineLayers)return;let t=null,e=!1;if(r(this.analysisViewData.plane))t=this.analysisViewData.plane,e=!1;else{if(!r(this._previewPlane))return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,K.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=E(L.get(),M(t.basis1),M(t.basis2),1),s=g(K.get(),a),n=w(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=[Z[0],Z[1],Z[2],Z[3]*this._previewPlaneOpacity];this._previewPlaneOutlineVisualElement.color=t;const e=[J[0],J[1],J[2],J[3]*this._previewPlaneOpacity],i=[0,0,0,0];this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=i}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}testData(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};function St(t,e,i,a){const s=Pt(i,R(a),t.direction,C()),n=H();return z(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function Ht(t){return\"mouse\"!==t.pointerType||0===t.button}Et.disableEngineLayers=!1,t([P()],Et.prototype,\"_clock\",void 0),t([P({constructOnly:!0})],Et.prototype,\"view\",void 0),t([P()],Et.prototype,\"analysisViewData\",void 0),t([P({readOnly:!0})],Et.prototype,\"state\",null),t([P({readOnly:!0})],Et.prototype,\"cursor\",null),t([P()],Et.prototype,\"analysis\",null),t([P()],Et.prototype,\"removeIncompleteOnCancel\",void 0),t([P({readOnly:!0})],Et.prototype,\"layersMode\",void 0),t([P({value:null})],Et.prototype,\"inputState\",null),t([P()],Et.prototype,\"_isPlacingSlicePlane\",null),t([P()],Et.prototype,\"_creatingPointerId\",null),Et=kt=t([y(\"esri.views.3d.analysis.Slice.SliceTool\")],Et);const xt=x(),It=v(),Rt=Et;export{Rt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{isNone as t,isSome as r,destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as l,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{C as p,m as u}from\"../../../../chunks/mat4.js\";import{s as h,l as c}from\"../../../../chunks/vec3.js\";import{Z as d}from\"../../../../chunks/vec4f64.js\";import{sv3d as v,sm4d as _}from\"../../../../geometry/support/vectorStacks.js\";import{PLANE_OUTLINE_COLOR as w,PLANE_PREVIEW_OUTLINE_WIDTH as V,PLANE_OUTLINE_WIDTH as f,PLANE_BACKGROUND_COLOR as E,GRID_COLOR as g}from\"./sliceToolConfig.js\";import{createGridVisualElement as y,createOutlineVisualElement as j,calculateBoundedPlaneTranslateRotate as b}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as S}from\"../../webgl-engine/materials/lineStippleUtils.js\";let k=class extends e{constructor(i){super(i),this._handles=new s,this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(t(i))throw new Error(\"expected internal object to be valid\");this._gridVisualElement=y(this.view),this._outlineVisualElement=j(this.view),this._handles.add([l((()=>({visible:r(i.plane)&&this.analysisViewData.visible,active:this.analysisViewData.active,preview:this.preview,showGrid:this.showGrid})),(i=>this._updateMaterials(i)),a),l((()=>i.plane),(i=>this._updatePlane(i)),a)],\"internal\")}destroy(){this._handles.destroy(),this._gridVisualElement=o(this._gridVisualElement),this._outlineVisualElement=o(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(t(i))return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=h(v.get(),c(i.basis1),c(i.basis2),1),s=p(_.get(),e),r=b(i,_.get()),o=u(s,r,s);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:s,showGrid:t}){this._outlineVisualElement.color=w,this._outlineVisualElement.width=s?V:f,this._outlineVisualElement.stipplePattern=e?null:S(5),this._gridVisualElement.backgroundColor=E,this._gridVisualElement.gridColor=t?g:d,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([n()],k.prototype,\"view\",void 0),i([n()],k.prototype,\"analysis\",void 0),i([n()],k.prototype,\"analysisViewData\",void 0),i([n()],k.prototype,\"showGrid\",void 0),i([n()],k.prototype,\"preview\",void 0),k=i([m(\"esri.views.3d.analysis.Slice.SliceVisualization\")],k);export{k as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{destroyMaybe as t,unwrap as a}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as e}from\"./AnalysisView3D.js\";import{SliceController as r}from\"./Slice/SliceController.js\";import n from\"./Slice/SliceTool.js\";import{SliceVisualization as y}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as h}from\"../../analysis/analysisViewUtils.js\";let c=class extends(e(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new y({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new r({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,n))}destroy(){h(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){return{visualization:this.analysisVisualization,controller:this.analysisController,tool:a(this.tool)}}};s([o({readOnly:!0})],c.prototype,\"type\",void 0),s([o({constructOnly:!0,nonNullable:!0})],c.prototype,\"analysis\",void 0),s([o()],c.prototype,\"tool\",void 0),s([o()],c.prototype,\"plane\",void 0),s([o()],c.prototype,\"active\",void 0),s([o()],c.prototype,\"showGrid\",null),s([o()],c.prototype,\"editable\",null),c=s([l(\"esri.views.3d.analysis.SliceAnalysisView3D\")],c);const u=c;export{u as default};\n"],"sourceRoot":""}
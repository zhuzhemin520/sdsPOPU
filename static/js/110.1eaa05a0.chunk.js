(this["webpackJsonppopulation-arcgis"]=this["webpackJsonppopulation-arcgis"]||[]).push([[110],{1104:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var s=i(0),a=i(28),n=i(108),l=i(243),r=i(509),o=i(22),c=i(2),y=i(446),d=i(1),h=(i(17),i(12),i(10));let u=class extends(Object(l.b)(Object(r.b)(Object(y.b)(n.a.EventedMixin(a.a))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",i=this.layer&&this.layer.title||"no title";o.a.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${t}')`,e)}}))}get fullOpacity(){return Object(c.u)(this.get("layer.opacity"),1)*Object(c.u)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null==(e=this.layer)?void 0:e.legendEnabled)}get updating(){var e;return!((null==(e=this.updatingHandles)||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}canResume(){var e,t,i;return this.visible&&(null==(e=this.layer)?void 0:e.loaded)&&!(null!=(t=this.parent)&&t.suspended)&&(null==(i=this.view)?void 0:i.ready)||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};Object(s.a)([Object(d.b)()],u.prototype,"fullOpacity",null),Object(s.a)([Object(d.b)()],u.prototype,"layer",void 0),Object(s.a)([Object(d.b)()],u.prototype,"parent",void 0),Object(s.a)([Object(d.b)({readOnly:!0})],u.prototype,"suspended",null),Object(s.a)([Object(d.b)({readOnly:!0})],u.prototype,"suspendInfo",null),Object(s.a)([Object(d.b)({readOnly:!0})],u.prototype,"legendEnabled",null),Object(s.a)([Object(d.b)({type:Boolean,readOnly:!0})],u.prototype,"updating",null),Object(s.a)([Object(d.b)({readOnly:!0})],u.prototype,"updatingProgress",null),Object(s.a)([Object(d.b)()],u.prototype,"visible",null),Object(s.a)([Object(d.b)()],u.prototype,"view",void 0),u=Object(s.a)([Object(h.a)("esri.views.layers.LayerView")],u);const b=u},1106:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var s=i(0),a=i(226),n=i(23),l=i(13),r=i(1),o=(i(17),i(12),i(10)),c=i(868);const y=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),Object(c.c)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.handles.add(Object(a.c)((()=>e.abort()))),await Object(l.h)((()=>{var e;return null==(e=this.view.defaultsFromMap)?void 0:e.heightModelInfoReady}),t),Object(n.q)(t);const i=Object(c.b)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return Object(s.a)([Object(r.b)()],t.prototype,"view",void 0),Object(s.a)([Object(r.b)()],t.prototype,"slicePlaneEnabled",void 0),t=Object(s.a)([Object(o.a)("esri.views.3d.layers.LayerView3D")],t),t}},1561:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return p}));var s=i(0),a=i(157),n=i(16),l=i(2),r=i(23),o=i(13),c=i(1),y=i(10),d=i(1106),h=i(1104);const u="analysis-view-handles";let b=class extends(Object(d.a)(h.a)){constructor(e){super(e),this.type="line-of-sight-3d",this._analysisModule=null}initialize(){this.handles.add(Object(o.f)((()=>this.layer.analysis),(e=>{this._destroyAnalysisView(),Object(l.l)(e)&&this._createAnalysisView(e)}),o.e),u)}destroy(){this.handles.remove(u),this._destroyAnalysisView()}async whenAnalysisView(){if(Object(l.l)(this.analysisView))return this.analysisView;if(Object(l.l)(this._createAnalysisViewTask))return this._createAnalysisViewTask.promise;throw new n.a("layerview:no-analysisview-for-analysis","The analysis has not been set on the LineOfSightLayer of this layer view")}isUpdating(){return Object(l.l)(this._createAnalysisViewTask)||Object(l.l)(this.analysisView)&&this.analysisView.updating}_createAnalysisView(e){const t=Object(a.b)((async i=>(this.analysisView=await this._createAnalysisViewPromise(e,i),this._createAnalysisViewTask===t&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=t}_destroyAnalysisView(){this.analysisView=Object(l.e)(this.analysisView),this._createAnalysisViewTask=Object(l.a)(this._createAnalysisViewTask)}async _createAnalysisViewPromise(e,t){let i=this._analysisModule;if(Object(l.k)(i)){const e=await this._loadAnalysisModule();this._analysisModule=e,i=e}const s=new i.default({analysis:e,view:this.view,parent:this});if(await s.when(),Object(r.k)(t))throw s.destroy(),new n.a("layerview:no-analysisview-for-analysis","The analysis has not been added to the LineOfSightLayer of this layer view",{analysis:e});return s}_loadAnalysisModule(){return Promise.all([i.e(4),i.e(5),i.e(26)]).then(i.bind(null,1499))}};Object(s.a)([Object(c.b)()],b.prototype,"type",void 0),Object(s.a)([Object(c.b)()],b.prototype,"layer",void 0),Object(s.a)([Object(c.b)()],b.prototype,"analysisView",void 0),Object(s.a)([Object(c.b)()],b.prototype,"_createAnalysisViewTask",void 0),b=Object(s.a)([Object(y.a)("esri.views.3d.layers.LineOfSightLayerView3D")],b);const p=b}}]);
//# sourceMappingURL=110.1eaa05a0.chunk.js.map
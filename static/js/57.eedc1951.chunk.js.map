{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/renderers/support/pointCloud/ColorModulation.js","../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeAlgorithm.js","../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm.js","../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeSplatAlgorithm.js","../node_modules/@arcgis/core/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils.js","../node_modules/@arcgis/core/renderers/PointCloudRenderer.js","../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/renderers/support/pointCloud/ColorClassBreakInfo.js","../node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js","../node_modules/@arcgis/core/renderers/support/pointCloud/ColorUniqueValueInfo.js","../node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js"],"names":["d","s","i","l","r","EventedMixin","t","constructor","e","super","this","layer","parent","initialize","when","catch","name","id","title","o","getLogger","declaredClass","error","fullOpacity","n","get","suspended","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingHandles","isUpdating","updatingProgress","visible","_overrideIfSome","loaded","view","ready","viewNotReady","layerNotLoaded","layerInvisible","a","prototype","readOnly","type","Boolean","p","u","c","arguments","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","async","AbortController","signal","handles","add","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","effectiveScaleRange","minScale","maxScale","outsideScaleRange","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","f","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","field","minValue","maxValue","clone","String","json","write","Number","nonNullable","pointCloudFixedSizeAlgorithm","pointCloudSplatAlgorithm","apiValues","jsonValues","read","size","useRealWorldSymbolSizes","scaleFactor","value","key","base","typeMap","splat","pointCloudClassBreaksRenderer","pointCloudRGBRenderer","pointCloudStretchRenderer","pointCloudUniqueValueRenderer","pointSizeAlgorithm","colorModulation","pointsPerInch","console","warn","cloneProperties","types","fieldTransformTypeKebabDict","none","lowFourBit","highFourBit","absoluteValue","moduloTen","y","w","clipBox","useFixedSizes","minSizePx","sizePx","fixedSize","drawScreenSpace","screenMinSize","O","g","origin","isLeaf","splatSize","_","j","output","m","Color","Depth","Highlight","vertex","fragment","extensions","include","attributes","P","POSITION","COLOR","uniforms","b","R","camera","viewMatrix","M","projectionMatrix","h","L","pixelRatio","F","v","fullHeight","clippingEnabled","x","B","constants","varyings","code","z","drawScreenSize","S","C","Object","freeze","defineProperty","__proto__","PointRendererPassParameters","PointRendererDrawParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","legendOptions","fieldTransformType","stops","_validateFetchPopupFeatures","popupEnabled","clientGraphics","length","associatedLayer","prepareFetchPopupFeatures","Set","whenGraphicAttributes","then","concat","description","label","color","source","target","colorClassBreakInfos","values","colorUniqueValueInfos","rendererJSON","isRGBRenderer","fromJSON","Uint8Array","encoding","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","Float64Array","result","attributeInfo","useElevation","storageInfo","buffer","filterJSON","mode","requiredSetBits","requiredClearBits","includedReturns","Math","abs","transform","_getTransferList","geometryBuffer","primaryAttributeData","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","remove","pop","load","_pages","pageSize","_nodeSR","_renderSR","addPage","obb","obbs","nodes","renderObbs","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","getRenderCenter","center","setRenderObb","hasNodes","forEachNodeId","createVisibilityTraverse","index","queue","masks","tempAabb","clippingBox","frustum","predicate","pageMiss","renderer","toJSON","attributeStorageInfo","primaryAttribute","modulationAttribute","filters","map","attributeValues","valueType","valuesPerElement","toLowerCase","constructOnly","clonable","_context","_highlights","hasHighlights","destroy","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Map","_add","nodeId","pointId","set","initializeProgram","rctx","shader","configuration","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","hasSlicePlane","count","COUNT","constValue","W","positions","V","E","D","FLOAT","colors","UNSIGNED_BYTE","k","_params","PCL","isGround","_passParameters","H","_addHighlight","_removeHighlight","canRender","layerUid","_slicePlaneEnabled","_techniqueConfig","_nodes","needsHighlight","initializeRenderContext","_techniqueRep","shaderTechniqueRepository","requestRender","uninitializeRenderContext","intersect","A","perScreenPixelRatio","near","ee","Array","N","forAll","q","K","dist","J","I","T","coordinates","point","Q","normal","node","options","store","MIN","ALL","graphicUid","createGraphic","te","results","min","max","all","prepareTechnique","vao","_initNode","bindParameters","_clippingEnabled","releaseAndAcquire","_technique","render","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","POINTS","component","_requestRender","addNode","removeNode","filterInPlace","clear","highlight","X","Z","filter","$","createVertex","U","STATIC_DRAW","rgb","G","pointIdFilterMap","ge","fe","se","he","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","baseUrl","parsedUrl","path","pointScale","pointSize","inverseDensity","availableFields","outFields","from","_clippingBox","clippingArea","renderSpatialReference","oe","_elevationOffset","elevationInfo","spatialReference","unit","offset","resourceController","_worker","schedule","promise","_tmpPoint","_indexRequester","createStreamDataRequester","ne","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","state","contentCamera","basemapTerrain","on","_scaleUpdateHandler","memoryFactor","scheduler","registerTask","_e","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","_clearNodeState","_updateLoading","cancelLoading","_destroyRenderer","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","computeMapPointFromVec3d","_createGraphicAttributes","pointCloudMetadata","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","_stage","addRenderPlugin","le","OPAQUE_MATERIAL","removeRenderPlugin","ue","extent","we","scale","_displayNodes","viewForward","sort","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","abortController","cancelAll","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","done","_scheduleWorkEntry","_processWorkEntry","madeProgress","find","Promise","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","domain","queryCachedStatistics","ok","labels","isArray","codedValues","_populateClassCodeCodedDomain","_splitGraphicsPerNode","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","_loadAttribute","vertexCount","defaultGeometrySchema","Y","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","updatingProgressValue","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","pointCount","lodThreshold","effectiveArea","_getLodMemoryFactor","_computeNodesForMinimumDensity","_computePointCount","eye","pe","_getScale","ce","_computeAveragePixelArea","getScale","ae","_loadNodeAsync","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","elevationOffset","inSR","outSR","invoke","_requestData","token","apiKey","request","query","put","be","hasOwnProperty","ie","halfSize","re","points","getUsedMemory","Ne","getUnloadedMemory","reduce","ignoresMemoryFactor","performanceInfo","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","test","visibleNodes","de","ye"],"mappings":"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","file":"static/js/57.eedc1951.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let i=s=class extends o{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new s({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};e([r({type:String,json:{write:!0}})],i.prototype,\"field\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,\"minValue\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,\"maxValue\",void 0),i=s=e([t(\"esri.renderers.support.pointCloud.ColorModulation\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONMap as r}from\"../../../core/jsonMap.js\";import{JSONSupport as e}from\"../../../core/JSONSupport.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=new r({pointCloudFixedSizeAlgorithm:\"fixed-size\",pointCloudSplatAlgorithm:\"splat\"});let i=class extends e{};o([s({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],i.prototype,\"type\",void 0),i=o([t(\"esri.renderers.support.pointCloud.PointSizeAlgorithm\")],i);const a=i;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as r}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./PointSizeAlgorithm.js\";var i;let p=i=class extends t{constructor(){super(...arguments),this.type=\"fixed-size\",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};e([r({pointCloudFixedSizeAlgorithm:\"fixed-size\"})],p.prototype,\"type\",void 0),e([o({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"size\",void 0),e([o({type:Boolean,json:{write:!0}})],p.prototype,\"useRealWorldSymbolSizes\",void 0),p=i=e([s(\"esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./PointSizeAlgorithm.js\";var p;let c=p=class extends s{constructor(){super(...arguments),this.type=\"splat\",this.scaleFactor=1}clone(){return new p({scaleFactor:this.scaleFactor})}};o([t({pointCloudSplatAlgorithm:\"splat\"})],c.prototype,\"type\",void 0),o([r({type:Number,value:1,nonNullable:!0,json:{write:!0}})],c.prototype,\"scaleFactor\",void 0),c=p=o([e(\"esri.renderers.support.pointCloud.PointSizeSplatAlgorithm\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport i from\"./PointSizeAlgorithm.js\";import t from\"./PointSizeFixedSizeAlgorithm.js\";import o from\"./PointSizeSplatAlgorithm.js\";const e={key:\"type\",base:i,typeMap:{\"fixed-size\":t,splat:o}};export{e as pointSizeAlgorithmTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{strict as e,JSONMap as t}from\"../core/jsonMap.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{clone as i}from\"../core/lang.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./support/pointCloud/ColorModulation.js\";import{pointSizeAlgorithmTypes as p}from\"./support/pointCloud/pointSizeAlgorithmTypeUtils.js\";const u=e()({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\",pointCloudRGBRenderer:\"point-cloud-rgb\",pointCloudStretchRenderer:\"point-cloud-stretch\",pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"});let c=class extends r{constructor(o){super(o),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(\".clone() is not implemented for \"+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:i(this.pointSizeAlgorithm),colorModulation:i(this.colorModulation),pointsPerInch:i(this.pointsPerInch)}}};o([n({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],c.prototype,\"type\",void 0),o([n({types:p,json:{write:!0}})],c.prototype,\"pointSizeAlgorithm\",void 0),o([n({type:l,json:{write:!0}})],c.prototype,\"colorModulation\",void 0),o([n({json:{write:!0},nonNullable:!0,type:Number})],c.prototype,\"pointsPerInch\",void 0),c=o([s(\"esri.renderers.PointCloudRenderer\")],c),function(o){o.fieldTransformTypeKebabDict=new t({none:\"none\",lowFourBit:\"low-four-bit\",highFourBit:\"high-four-bit\",absoluteValue:\"absolute-value\",moduloTen:\"modulo-ten\"})}(c||(c={}));const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{NUMBER_MAX_FLOAT32 as e}from\"../core/mathUtils.js\";import{m as i,f as o}from\"./mat4.js\";import{c as r}from\"./mat4f64.js\";import{s as t}from\"./vec2.js\";import{a}from\"./vec2f64.js\";import{s}from\"./vec3.js\";import{c as n}from\"./vec3f64.js\";import{create as c,POSITIVE_INFINITY as l}from\"../geometry/support/aaBoundingBox.js\";import{addNearFar as d,addCalculateLinearDepth as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{ShaderOutput as m}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as g,SliceDraw as f}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as u}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as S}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as w,glsl as z}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as j}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as P}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class y extends w{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class O extends g{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function _(r){const a=new j,n=r.output===m.Color,c=r.output===m.Depth,l=r.output===m.Highlight,{vertex:g,fragment:w}=a;return a.extensions.add(\"GL_OES_standard_derivatives\"),a.include(f,r),a.attributes.add(P.POSITION,\"vec3\"),a.attributes.add(P.COLOR,\"vec3\"),g.uniforms.add([new b(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new M(\"proj\",((e,i)=>i.camera.projectionMatrix)),new h(\"screenMinMaxSize\",((e,i,o)=>t(L,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,F(e.isLeaf)*i.camera.pixelRatio)))]),g.uniforms.add(r.useFixedSizes?new v(\"pointScale\",((e,i)=>t(L,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new h(\"pointScale\",((e,i,o)=>t(L,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?g.uniforms.add([new x(\"clipMin\",((e,i,o)=>s(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new x(\"clipMax\",((e,i,o)=>s(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))]):(g.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),g.constants.add(\"clipMax\",\"vec3\",[e,e,e])),c?(d(a),p(a),a.varyings.add(\"depth\",\"float\")):r.output!==m.Highlight&&a.varyings.add(\"vColor\",\"vec3\"),g.code.add(z`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${r.drawScreenSize?z`\n      float clampedScreenSize = pointSize;`:z`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${c?z`depth = calculateLinearDepth(nearFar, camera.z);`:\"\"}\n     ${n?z`vColor = color;`:\"\"}\n    }\n  `),w.include(S,r),l&&a.include(u,r),w.code.add(z`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${c?z`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${l?z`outputHighlight();`:\"\"}\n      ${n?z`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),a}function F(e){return e?256:64}const R=r(),B=n(),L=a(),C=Object.freeze(Object.defineProperty({__proto__:null,PointRendererPassParameters:y,PointRendererDrawParameters:O,build:_,getMaxPointSizeScreenspace:F},Symbol.toStringTag,{value:\"Module\"}));export{y as P,O as a,C as b,_ as c,F as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"./PointCloudRenderer.js\";import{LegendOptions as i}from\"./support/LegendOptions.js\";import n from\"./visualVariables/support/ColorStop.js\";var l;let d=l=class extends p{constructor(e){super(e),this.type=\"point-cloud-stretch\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),stops:o(this.stops),legendOptions:o(this.legendOptions)})}};e([t({pointCloudStretchRenderer:\"point-cloud-stretch\"})],d.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],d.prototype,\"field\",void 0),e([r({type:i,json:{write:!0}})],d.prototype,\"legendOptions\",void 0),e([r({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],d.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:!0}})],d.prototype,\"stops\",void 0),d=l=e([s(\"esri.renderers.PointCloudStretchRenderer\")],d);const a=d;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as p,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:t}=this,{popupEnabled:s}=t;if(!s)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:t});return p(t,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:t})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const s=this._validateFetchPopupFeatures(r);if(s)throw s;const c=t(r)?r.clientGraphics:null;if(!c||0===c.length)return[];const u=\"scene\"===this.layer.type&&t(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,n=o(this.layer.fieldsIndex,await i(u,p(this.layer,r)));await this.prepareFetchPopupFeatures(n);const l=new Set,h=[],y=[];for(const t of c)a(n,t,l)?y.push(t):h.push(t);return 0===y.length?h:this.whenGraphicAttributes(y,[...l]).catch((()=>y)).then((e=>h.concat(e)))}};return u=e([s(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Color.js\";import{JSONSupport as e}from\"../../../core/JSONSupport.js\";import{clone as t}from\"../../../core/lang.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";var a;let p=a=class extends e{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new a({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:t(this.color)})}};o([s({type:String,json:{write:!0}})],p.prototype,\"description\",void 0),o([s({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),o([s({type:Number,json:{read:{source:\"classMinValue\"},write:{target:\"classMinValue\"}}})],p.prototype,\"minValue\",void 0),o([s({type:Number,json:{read:{source:\"classMaxValue\"},write:{target:\"classMaxValue\"}}})],p.prototype,\"maxValue\",void 0),o([s({type:r,json:{type:[i],write:!0}})],p.prototype,\"color\",void 0),p=a=o([l(\"esri.renderers.support.pointCloud.ColorClassBreakInfo\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PointCloudRenderer.js\";import{LegendOptions as p}from\"./support/LegendOptions.js\";import n from\"./support/pointCloud/ColorClassBreakInfo.js\";var l;let a=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-class-breaks\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new l({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:o(this.colorClassBreakInfos),legendOptions:o(this.legendOptions)})}};e([s({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\"})],a.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],a.prototype,\"field\",void 0),e([r({type:p,json:{write:!0}})],a.prototype,\"legendOptions\",void 0),e([r({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],a.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:!0}})],a.prototype,\"colorClassBreakInfos\",void 0),a=l=e([t(\"esri.renderers.PointCloudClassBreaksRenderer\")],a);const d=a;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Color.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";import{clone as e}from\"../../../core/lang.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{Integer as p}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var l;let c=l=class extends t{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new l({description:this.description,label:this.label,values:e(this.values),color:e(this.color)})}};o([s({type:String,json:{write:!0}})],c.prototype,\"description\",void 0),o([s({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),o([s({type:[String],json:{write:!0}})],c.prototype,\"values\",void 0),o([s({type:r,json:{type:[p],write:!0}})],c.prototype,\"color\",void 0),c=l=o([i(\"esri.renderers.support.pointCloud.ColorUniqueValueInfo\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PointCloudRenderer.js\";import{LegendOptions as n}from\"./support/LegendOptions.js\";import p from\"./support/pointCloud/ColorUniqueValueInfo.js\";var l;let u=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-unique-value\",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),colorUniqueValueInfos:o(this.colorUniqueValueInfos),legendOptions:o(this.legendOptions)})}};e([t({pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"})],u.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],u.prototype,\"field\",void 0),e([r({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],u.prototype,\"fieldTransformType\",void 0),e([r({type:[p],json:{write:!0}})],u.prototype,\"colorUniqueValueInfos\",void 0),e([r({type:n,json:{write:!0}})],u.prototype,\"legendOptions\",void 0),u=l=e([s(\"esri.renderers.PointCloudUniqueValueRenderer\")],u);const a=u;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import l from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as n,createTypedView as s,readBinaryAttribute as i}from\"./I3SBinaryReader.js\";import{decodeXYZ as u}from\"./LEPCC.js\";function f(e,o,n,s){const{rendererJSON:i,isRGBRenderer:u}=e;let f=null,c=null;if(o&&u)f=o;else if(o&&\"pointCloudUniqueValueRenderer\"===i.type){c=l.fromJSON(i);const e=c.colorUniqueValueInfos;f=new Uint8Array(3*s);const r=p(c.fieldTransformType);for(let t=0;t<s;t++){const l=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.includes(l)){f[3*t]=e[o].color.r,f[3*t+1]=e[o].color.g,f[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===i.type){c=t.fromJSON(i);const e=c.stops;f=new Uint8Array(3*s);const r=p(c.fieldTransformType);for(let t=0;t<s;t++){const l=r?r(o[t]):o[t],n=e.length-1;if(l<e[0].value)f[3*t]=e[0].color.r,f[3*t+1]=e[0].color.g,f[3*t+2]=e[0].color.b;else if(l>=e[n].value)f[3*t]=e[n].color.r,f[3*t+1]=e[n].color.g,f[3*t+2]=e[n].color.b;else for(let o=1;o<e.length;o++)if(l<e[o].value){const r=(l-e[o-1].value)/(e[o].value-e[o-1].value);f[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),f[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),f[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===i.type){c=r.fromJSON(i);const e=c.colorClassBreakInfos;f=new Uint8Array(3*s);const t=p(c.fieldTransformType);for(let r=0;r<s;r++){const l=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(l>=e[o].minValue&&l<=e[o].maxValue){f[3*r]=e[o].color.r,f[3*r+1]=e[o].color.g,f[3*r+2]=e[o].color.b;break}}}else{f=new Uint8Array(3*s);for(let e=0;e<f.length;e++)f[e]=255}if(n&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<s;t++){const l=n[t],s=l>=o?1:l<=e?r:r+(1-r)*(l-e)/(o-e);f[3*t]=s*f[3*t],f[3*t+1]=s*f[3*t+1],f[3*t+2]=s*f[3*t+2]}}return f}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=n(r,o);if(e(t.vertexAttributes.position))return;const l=s(r,t.vertexAttributes.position),i=t.header.fields,u=[i.offsetX,i.offsetY,i.offsetZ],f=[i.scaleX,i.scaleY,i.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*f[0]+u[0],a[3*e+1]=l[3*e+1]*f[1]+u[1],a[3*e+2]=l[3*e+2]*f[2]+u[2];return a}if(\"lepcc-xyz\"===o.encoding)return u(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?d(r,t):o(e)?i(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,l){const n=e.length/3;let s=0;for(let i=0;i<n;i++){let n=!0;for(let e=0;e<t.length&&n;e++){const{filterJSON:o}=t[e],r=l[e].values[i];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;o.values.includes(r)===e&&(n=!1);break}case\"pointCloudBitfieldFilter\":{const e=b(o.requiredSetBits),t=b(o.requiredClearBits);(r&e)===e&&0==(r&t)||(n=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,l=t>1,s=1===e,i=e===t;let u=!1;for(const r of o.includedReturns)if(\"last\"===r&&i||\"firstOfMany\"===r&&s&&l||\"lastOfMany\"===r&&i&&l||\"single\"===r&&!l){u=!0;break}u||(n=!1);break}}}n&&(r[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],o[3*s]=o[3*i],o[3*s+1]=o[3*i+1],o[3*s+2]=o[3*i+2],s++)}return s}function p(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function b(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,f as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>this._getTransferList(t)},t)}_getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const a of r.filterAttributesData)t(a)&&a.buffer&&e.push(a.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r)}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"pointCloudMetadata\",void 0),t=r([e(\"esri.views.3d.layers.i3s.PointGraphic\")],t);export{t as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DState as i}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as h}from\"../../webgl-engine/lib/Object3DStateID.js\";class s{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new o(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class o{constructor(e){this.id=new h(i.Highlight),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this._add(i.nodeId,i.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{s as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{b as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new t(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as t,disposeMaybe as s,isSome as i}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{b as n,l as o,g as a,o as h,e as l,p as c}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{s as u}from\"../../../../chunks/vec4.js\";import{create as p,offset as g,contains as m,containsPoint as _,set as f,POSITIVE_INFINITY as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PointHighlights as z}from\"./PointHighlights.js\";import{minimumDistancePlane as R,maximumDistancePlane as q,intersectLine as w,toAaBoundingBox as y}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as A}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{Default3D as j}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as I}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as F,StoreResults as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{VertexArrayObject as C}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as E}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as H,a as N,g as O}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as T}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as L}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as B}from\"../../../webgl/BufferObject.js\";import{DataType as D,PrimitiveType as M,Usage as U}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as V}from\"../../../webgl/VertexElementDescriptor.js\";const W={positions:[new V(E.POSITION,3,D.FLOAT,0,12)],colors:[new V(E.COLOR,3,D.UNSIGNED_BYTE,0,3,!0)]};class k{constructor(e){this._params=e,this.type=F.PCL,this.isGround=!1,this._passParameters=new H,this._highlights=new z({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.canRender=!0,this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new L,this._nodes=new r}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),z=S(),A=e.camera.perScreenPixelRatio/2,j=e.camera.near;n(f,i,s);const F=1/o(f);a(f,f,F),h(P,f),u(z,f[0],f[1],f[2],-l(f,s));const C=new ee,E=new ee,H=new Array,N=p(),O=p(this._passParameters.clipBox);g(O,-s[0],-s[1],-s[2],O),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let h=R(o.obb,z),d=q(o.obb,z);h-=K(a,h+j,this._passParameters,A,o.isLeaf),d-=K(a,d+j,this._passParameters,A,o.isLeaf);const u=d<0,p=null!=C.dist&&null!=E.dist&&C.dist<h*F&&E.dist>d*F;if(u||p)return;const S=J(a,d+j,this._passParameters,A,o.isLeaf);if(!w(o.obb,s,f,S))return;const x=S*S;y(o.obb,N),g(N,-s[0],-s[1],-s[2],N);const I=!m(O,N);n(b,o.origin,s);const T=o.coordinates.length/3;for(let n=0;n<T;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],I&&!_(O,r))continue;const h=l(r,f),d=c(r)-h*h;if(d>x)continue;let u=h+j;const p=K(a,u,this._passParameters,A,o.isLeaf);if(h-p<0)continue;u-=p;const g=J(a,u,this._passParameters,A,o.isLeaf);if(d>g*g)continue;const m=(h-p)*F,S=e=>(e.point=Q(o,n,e.point),e.dist=m,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==C.dist||m<C.dist)&&(null==t||t(s,i,m))&&S(C),e.options.store!==v.MIN&&(null==E.dist||m>E.dist)&&(null==t||t(s,i,m))&&S(E),e.options.store===v.ALL&&(null==t||t(s,i,m))){const e=new ee;H.push(S(e))}}}));const T=e=>{const{layerUid:t,node:s,pointId:i}=e;return{point:e.point,layerUid:t,graphicUid:i,createGraphic:()=>this._params.createGraphic(s,i,e.point)}},L=(e,t)=>{const s=T(t);e.set(this.type,s,t.dist,t.normal)};if(te(C)){const t=e.results.min;(null==t.dist||C.dist<t.dist)&&L(t,C)}if(te(E)&&e.options.store!==v.MIN){const t=e.results.max;(null==t.dist||E.dist>t.dist)&&L(t,E)}if(e.options.store===v.ALL){const t=x(s,i);for(const s of H){const i=I(t);L(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==A.Color&&e.output!==A.Depth&&e.output!==A.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output===A.Depth?A.Depth:e.output===A.Highlight?A.Highlight:A.Color,this._techniqueRep.releaseAndAcquire(T,this._techniqueConfig,this._technique))}render(e,t){const s=e.rctx,i=s.bindTechnique(t,this._passParameters,e.bindParameters),r=e.output===A.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(M.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(s,i){const r=i.highlights;if(e(r))return;let n=t(r[0].component),o=n+1;for(let e=1;e<r.length;e++){const i=t(r[e].component);if(i!==o){const e=o-n;e>0&&s.drawArrays(M.POINTS,n,e),n=i}o=i+1}const a=o-n;a>0&&s.drawArrays(M.POINTS,n,a)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=s(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=Z(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=$(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new C(s,j,W,{positions:B.createVertex(s,U.STATIC_DRAW,t.coordinates),colors:B.createVertex(s,U.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}}class G extends N{constructor(e,t,s,i,r,n,o,a,h=null,l=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=h,this.highlights=l}}function Y(e){return e.hasOwnProperty(\"splatSize\")}function J(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=O(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function K(e,t,s,i,r){return s.drawScreenSpace?0:J(e,t,s,i,r)}function Q(t,s,i){return e(i)&&(i=d()),i[0]=t.origin[0]+t.coordinates[3*s],i[1]=t.origin[1]+t.coordinates[3*s+1],i[2]=t.origin[2]+t.coordinates[3*s+2],i}function X(e){return i(e.component)?e.component:-1}function Z(t,s,i){e(t)&&(t=[]);const r={component:s,id:i};t.push(r);const n=X(r);let o=t.length-1;for(;o>0&&n<X(t[o-1]);)[t[o-1],t[o]]=[t[o],t[o-1]],--o;return t}function $(t,s){if(e(t))return t;const i=t.filter((e=>e.id!==s));return 0===i.length?null:i}class ee{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function te(e){return i(e.dist)&&i(e.point)&&i(e.pointId)&&i(e.node)}export{k as PointRenderer,G as PointRendererNode,Y as isInstanceOfNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{result as t,forEach as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{unwrapOr as o,isSome as n,isNone as a,mapSome as d}from\"../../../core/maybe.js\";import{eachAlways as l,isAbortError as h,eachAlwaysValues as u,throwIfAborted as p}from\"../../../core/promiseUtils.js\";import{initial as c,watch as _,sync as m}from\"../../../core/reactiveUtils.js\";import{pt2px as g}from\"../../../core/screenUtils.js\";import{estimateSize as f,isArrayBuffer as y}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{property as w}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as N}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as P,c as x}from\"../../../chunks/vec3.js\";import{b as v}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as C}from\"../../../geometry/projection.js\";import{create as S}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as A,create as I}from\"../../../geometry/support/aaBoundingRect.js\";import{create as k,fromNormalAndOffset as V}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as R}from\"../../../layers/graphics/dehydratedFeatures.js\";import{CodedValue as L}from\"../../../layers/support/CodedValue.js\";import\"../../../core/has.js\";import j from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as U}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as Q}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as D}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as F}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as z}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as M,checkPointCloudLayerCompatibleWithView as W}from\"./i3s/I3SUtil.js\";import{nodeDiff as E,sortFrontToBack as O,splitWorkEntries as B}from\"./i3s/LoDUtil.js\";import G from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as H,getFixedSizeAlgorithm as q,getRendererInfo as T,getFilterInfo as $,rendererUsesFixedSizes as J,getAttributeInfo as K}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as X,readGeometry as Y,elevationFromPositions as Z}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as ee}from\"./i3s/PointGraphic.js\";import{PointRenderer as te,isInstanceOfNode as ie,PointRendererNode as re}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as se}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as oe}from\"../support/extentUtils.js\";import{ClientType as ne}from\"../support/index.js\";import{minimumDistancePlane as ae}from\"../support/orientedBoundingBox.js\";import{updatingProgress as de}from\"../support/updatingProperties.js\";import{RenderSlot as le}from\"../webgl-engine/lib/RenderSlot.js\";import he from\"../../layers/LayerView.js\";import{isScaleRangeActive as ue,extractSafeScaleBounds as pe,scaleBoundsPredicate as ce}from\"../../support/layerViewUtils.js\";import{TaskPriority as _e}from\"../../support/Scheduler.js\";const me=8,ge=k();let fe=class extends(se(F(he))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new Q,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=H(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=q(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=q(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=T(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.primaryAttribute.name);const i=$(this.layer);if(i)for(const r of i)t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of U(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=S(),t=this.view.renderSpatialReference;return oe(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=b(this.layer.spatialReference),i=D(e.unit);return o(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController;this._worker=new z((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._tmpPoint=R(0,0,0,this.layer.spatialReference),M(this.layer),W(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(ne.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(ne.I3S_DATA),this._initRenderer();const t=this._initNodePages(),i=this.view.resourceController.memoryController;this._memCache=i.newCache(this.layer.uid),this.updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),c),this.updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),c),this.updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),c),this.updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),c),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this.updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),_((()=>i.memoryFactor),(()=>this._setUpdateViewNeeded()),m)]),this.addResolvingPromise(t),this.when((()=>{this.handles.add([e.scheduler.registerTask(_e.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),c)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker&&(this._worker.destroy(),this._worker=null),this._destroyRenderer(),this._memCache.destroy(),this._memCache=null,this._codedDomainPopulationAbortController&&(this._codedDomainPopulationAbortController.abort(),this._codedDomainPopulationAbortController=null),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new te({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),c),this.updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),c),this.updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),c),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),c),this.updatingHandles.add((()=>this.pointSize),(e=>{const t=g(e);this._renderer.size=e,this._renderer.sizePx=t}),c),this.updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),c),this.updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),c)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=n(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new ee({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo&&e.storageInfo.attributeValues,o=s?s.valuesPerElement:1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([le.OPAQUE_MATERIAL],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=J(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;ue(t.minScale,t.maxScale)?C(e.extent,e.spatialReference,we,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);A(we,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=E([...this._renderedNodes],e,this._index),O(this._workQueue,this.view.state.contentCamera.viewForward,this._index),B(this._workQueue,me,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(a(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return n(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,i){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await t(this.layer.queryCachedStatistics(r,{signal:i}));if(!1===o.ok)return;const n=o.value,a=n&&n.labels&&n.labels.labels;a&&Array.isArray(a)&&(s.domain=new j({name:\"CLASS_CODE\",codedValues:a.map((e=>new L({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),s=this.layer.attributeStorageInfo,o=t.map((e=>K(s,e))),n=async(e,t)=>{const r=this._index.getNode(t);await i(o,(async t=>{const i=t.useElevation?await this._loadElevationAttributeFromGeometry(r.resourceId):await this._loadAndParseAttribute(r,t);if(i)for(const r of e)if(this._isValidPointGraphic(r)){const e=r.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,i,e,r.attributes)}}))},a=[];return r.forEach(((e,t)=>{a.push(n(e,t))})),await l(a),e}_isValidPointGraphic(e){return e instanceof ee&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return n(i)?X({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=Y(t,await this._loadGeometry(e,null));return Z(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=r.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new G(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:null!=t.vertexCount?t.vertexCount:t.pointCount,lodThreshold:null!=t.lodThreshold?t.lodThreshold:t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this._displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=P(s,t.eye),n=V(s,-o,ge),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=pe(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);ce(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,ae(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw h(i)||s.getLogger(this.declaredClass).error(i),i}}async _loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const s=U(this.layer.fieldsIndex,r),o=new Set(e.map((e=>n(e)?e.name:null))),a=this.layer.attributeStorageInfo,l=[];for(const n of s){if(o.has(n))continue;const e=K(a,n);e&&l.push(t(e))}const h=await u(l);return p(i),d(h,(e=>e))}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=T(this.layer),s=$(this.layer),o=i.resourceId,d=async e=>{if(a(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return n(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:n,modulationAttribute:a}=r,l=d(n),h=d(a),u=s.map((e=>e.attributeInfo)),c=u.map((e=>d(e))),_=this._loadAdditionalUserAttributes([n,a,...u],d,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);p(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(a(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,be(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),o=this._index.getRenderObb(e);if(ie(t))return t.splatSize=r,t.obb=o,x(t.origin,t.obb.center),t;const n=.01*Math.max(o.halfSize[0],o.halfSize[1],o.halfSize[2]);if(t.obb.halfSize[0]>o.halfSize[0]+n||t.obb.halfSize[1]>o.halfSize[1]+n||t.obb.halfSize[2]>o.halfSize[2]+n){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;s.getLogger(this.declaredClass).warn(`Node ${e} reported bounding box too small. got ${i(o)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&s.getLogger(this.declaredClass).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return new re(e,r,v(o.center),o,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}getUsedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Ne,e+=f(t.coordinates);for(const i of t.attributes){const t=i.values;y(t.buffer)&&(e+=f(t))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*Ne)/t)+i*Ne}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([w()],fe.prototype,\"layer\",void 0),e([w()],fe.prototype,\"baseUrl\",null),e([w()],fe.prototype,\"pointScale\",null),e([w()],fe.prototype,\"useRealWorldSymbolSizes\",null),e([w()],fe.prototype,\"pointSize\",null),e([w()],fe.prototype,\"inverseDensity\",null),e([w()],fe.prototype,\"maximumPointCount\",void 0),e([w({readOnly:!0})],fe.prototype,\"availableFields\",null),e([w({readOnly:!0})],fe.prototype,\"_clippingBox\",null),e([w({readOnly:!0})],fe.prototype,\"_elevationOffset\",null),e([w({type:Boolean})],fe.prototype,\"slicePlaneEnabled\",void 0),e([w()],fe.prototype,\"updating\",void 0),e([w(de)],fe.prototype,\"updatingProgress\",void 0),e([w({readOnly:!0})],fe.prototype,\"updatingProgressValue\",null),fe=e([N(\"esri.views.3d.layers.PointCloudLayerView3D\")],fe);const ye=fe;function be(e){return 5*e.coordinates.length+128}const we=I(),Ne=160;export{ye as default};\n"],"sourceRoot":""}
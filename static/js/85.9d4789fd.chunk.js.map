{"version":3,"sources":["../node_modules/@arcgis/core/analysis/dimensionUtils.js","../node_modules/@arcgis/core/analysis/LengthDimension.js","../node_modules/@arcgis/core/analysis/Analysis.js","../node_modules/@arcgis/core/analysis/DimensionSimpleStyle.js","../node_modules/@arcgis/core/analysis/DimensionAnalysis.js","../node_modules/@arcgis/core/layers/DimensionLayer.js"],"names":["t","Horizontal","Vertical","Direct","r","l","i","constructor","o","super","this","type","startPoint","endPoint","measureType","offset","orientation","p","json","write","isRequired","prototype","c","e","nonNullable","Number","n","s","normalize","a","m","u","id","Date","now","toString","title","parent","_get","releaseAnalysis","analyses","includes","remove","_set","isEditable","requiredPropertiesForEditing","every","String","constructOnly","clonable","value","readOnly","color","lineSize","fontSize","textColor","textBackgroundColor","cast","range","min","h","ofType","g","style","extent","initialize","addHandles","_computeExtent","pending","dimensions","spatialReference","reduce","push","async","f","geometries","y","fromPoint","union","clear","removeAll","types","key","base","typeMap","simple","d","j","operationalLayerType","source","opacity","addResolvingPromise","waitComputeExtent","fullExtent","analysis","writeDimensions","filter","map","toJSON","read","ignoreOrigin","origins","service"],"mappings":"gIAIA,IAAIA,EAJJ,oEAIO,SAASA,GAAGA,EAAEC,WAAW,aAAaD,EAAEE,SAAS,WAAWF,EAAEG,OAAO,QAAQ,CAA7E,CAA+EH,IAAIA,EAAE,CAAC,IAAI,MAAMI,EAAE,CAACJ,EAAEC,WAAWD,EAAEE,SAASF,EAAEG,O,oCCJpI,yIAI+pB,IAAIE,EAAE,cAAcC,YAAEF,MAAIG,YAAYC,GAAGC,MAAMD,GAAGE,KAAKC,KAAK,SAASD,KAAKE,WAAW,KAAKF,KAAKG,SAAS,KAAKH,KAAKI,YAAYd,IAAEG,OAAOO,KAAKK,OAAO,EAAEL,KAAKM,YAAY,CAAC,GAAGR,YAAE,CAACS,YAAE,CAACN,KAAK,CAAC,UAAUO,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQf,EAAEgB,UAAU,YAAO,GAAQb,YAAE,CAACS,YAAE,CAACN,KAAKW,IAAEJ,KAAK,CAACC,OAAM,MAAOd,EAAEgB,UAAU,kBAAa,GAAQb,YAAE,CAACS,YAAE,CAACN,KAAKW,IAAEJ,KAAK,CAACC,OAAM,MAAOd,EAAEgB,UAAU,gBAAW,GAAQb,YAAE,CAACS,YAAE,CAACN,KAAKY,IAAEC,aAAY,EAAGN,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQf,EAAEgB,UAAU,mBAAc,GAAQb,YAAE,CAACS,YAAE,CAACN,KAAKc,OAAOD,aAAY,EAAGN,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQf,EAAEgB,UAAU,cAAS,GAAQb,YAAE,CAACS,YAAE,CAACN,KAAKc,OAAOD,aAAY,EAAGN,KAAK,CAACC,MAAM,CAACC,YAAW,MAAOM,aAAGlB,GAAGmB,IAAEC,UAAUC,YAAErB,GAAG,GAAE,MAAOH,EAAEgB,UAAU,mBAAc,GAAQhB,EAAEG,YAAE,CAACsB,YAAE,kCAAkCzB,GAAG,MAAM0B,EAAE1B,C,oCCJ54C,mHAIkgB,IAAIqB,EAAE,EAAErB,EAAE,cAAcG,YAAEJ,YAAEuB,YAAE3B,QAAMO,YAAYgB,GAAGd,MAAMc,GAAGb,KAAKsB,GAAI,GAAEC,KAAKC,MAAMC,SAAS,gBAAgBT,MAAMhB,KAAK0B,MAAM,IAAI,CAAKC,aAAS,OAAO3B,KAAK4B,KAAK,SAAS,CAAKD,WAAOd,GAAG,MAAMvB,EAAEU,KAAK2B,OAAO,GAAG/B,YAAEN,GAAG,OAAOA,EAAEW,MAAM,IAAI,gBAAgB,IAAI,YAAYX,EAAEuC,gBAAgB7B,MAAM,MAAM,IAAI,KAAK,IAAI,KAAKV,EAAEwC,SAASC,SAAS/B,OAAOV,EAAEwC,SAASE,OAAOhC,MAAMA,KAAKiC,KAAK,SAASpB,EAAE,CAAKqB,iBAAa,OAAOlC,KAAKmC,6BAA6BC,MAAMxC,IAAE,GAAGiB,YAAE,CAACN,YAAE,CAACN,KAAKoC,OAAOC,eAAc,EAAGC,UAAS,KAAM5C,EAAEgB,UAAU,UAAK,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKoC,UAAU1C,EAAEgB,UAAU,aAAQ,GAAQE,YAAE,CAACN,YAAE,CAAC+B,eAAc,KAAM3C,EAAEgB,UAAU,YAAO,GAAQE,YAAE,CAACN,YAAE,CAACgC,UAAS,EAAGC,MAAM,QAAQ7C,EAAEgB,UAAU,SAAS,MAAME,YAAE,CAACN,YAAE,CAACkC,UAAS,KAAM9C,EAAEgB,UAAU,aAAa,MAAME,YAAE,CAACN,YAAE,CAACkC,UAAS,KAAM9C,EAAEgB,UAAU,oCAA+B,GAAQhB,EAAEkB,YAAE,CAACM,YAAE,2BAA2BxB,GAAG,MAAMiB,EAAEjB,C,wKCAj4B,IAAIiB,EAAE,cAActB,YAAEI,MAAIG,YAAYgB,GAAGd,MAAMc,GAAGb,KAAKC,KAAK,SAASD,KAAK0C,MAAM,IAAI5C,IAAE,SAASE,KAAK2C,SAAS,EAAE3C,KAAK4C,SAAS,GAAG5C,KAAK6C,UAAU,IAAI/C,IAAE,SAASE,KAAK8C,oBAAoB,IAAIhD,IAAE,CAAC,IAAI,IAAI,IAAI,IAAI,GAAGe,YAAE,CAACN,YAAE,CAACN,KAAK,CAAC,UAAUwC,UAAS,EAAGjC,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,YAAO,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKH,IAAEgB,aAAY,EAAGN,KAAK,CAACP,KAAK,CAACN,KAAGc,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,aAAQ,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKc,OAAOgC,KAAK9B,IAAEH,aAAY,EAAGkC,MAAM,CAACC,IAAIrD,YAAE,IAAIY,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,gBAAW,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKc,OAAOgC,KAAK9B,IAAEH,aAAY,EAAGN,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,gBAAW,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKH,IAAEgB,aAAY,EAAGN,KAAK,CAACP,KAAK,CAACN,KAAGc,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,iBAAY,GAAQE,YAAE,CAACN,YAAE,CAACN,KAAKH,IAAEgB,aAAY,EAAGN,KAAK,CAACP,KAAK,CAACN,KAAGc,MAAM,CAACC,YAAW,OAAQE,EAAED,UAAU,2BAAsB,GAAQC,EAAEC,YAAE,CAACG,YAAE,uCAAuCJ,GAAG,MAAMO,EAAEP,E,8DCAxnB,MAAMsC,EAAEjC,IAAEkC,OAAOrD,KAAG,IAAIsD,EAAE,cAAc9D,IAAEO,YAAYgB,GAAGd,MAAMc,GAAGb,KAAKC,KAAK,YAAYD,KAAKqD,MAAM,IAAIrC,EAAEhB,KAAKsD,OAAO,IAAI,CAACC,aAAavD,KAAKwD,WAAWnC,aAAG,IAAIrB,KAAKyD,mBAAmB5C,KAAKlB,YAAEkB,IAAIlB,YAAEkB,EAAE6C,WAAW1D,KAAKiC,KAAK,SAAS1B,YAAEM,GAAGA,EAAEyC,OAAO,KAAK,GAAGnC,KAAG,CAAKwC,iBAAa,OAAO3D,KAAK4B,KAAK,eAAe,IAAIsB,CAAC,CAAKS,eAAW9C,GAAGb,KAAKiC,KAAK,aAAarC,YAAEiB,EAAEb,KAAK2D,WAAWT,GAAG,CAAKU,uBAAmB,IAAI,MAAM/C,KAAKb,KAAK2D,WAAW,CAAC,GAAGpD,YAAEM,EAAEX,YAAY,OAAOW,EAAEX,WAAW0D,iBAAiB,GAAGrD,YAAEM,EAAEV,UAAU,OAAOU,EAAEV,SAASyD,gBAAgB,CAAC,OAAO,IAAI,CAAKzB,mCAA+B,OAAOnC,KAAK2D,WAAWE,QAAQ,CAAChD,EAAEvB,KAAKuB,EAAEiD,KAAKxE,EAAEY,WAAWZ,EAAEa,UAAUU,IAAI,GAAG,CAACkD,0BAA0B,MAAMlD,EAAEb,KAAKyD,iBAAiB,OAAOlD,YAAEM,GAAGO,YAAEP,EAAE6C,SAAS,IAAI,CAACD,iBAAiB,MAAM5C,EAAEb,KAAK4D,iBAAiB,GAAGjE,YAAEkB,GAAG,MAAM,CAAC6C,QAAQ,KAAKJ,OAAO,MAAM,MAAMhE,EAAE,GAAG,IAAI,MAAM2B,KAAKjB,KAAK2D,WAAWpD,YAAEU,EAAEf,aAAaZ,EAAEwE,KAAK7C,EAAEf,YAAYK,YAAEU,EAAEd,WAAWb,EAAEwE,KAAK7C,EAAEd,UAAU,MAAMa,EAAEgD,YAAE1E,EAAEuB,GAAG,GAAGN,YAAES,EAAE0C,SAAS,MAAM,CAACA,QAAQ1C,EAAE0C,QAAQJ,OAAO,MAAM,IAAIxD,EAAE,KAAK,OAAOS,YAAES,EAAEiD,cAAcnE,EAAEkB,EAAEiD,WAAWJ,QAAQ,CAAChD,EAAEvB,IAAIK,YAAEkB,GAAGN,YAAEjB,GAAG4E,IAAEC,UAAU7E,GAAG,KAAKiB,YAAEjB,GAAGuB,EAAEuD,MAAMF,IAAEC,UAAU7E,IAAIuB,GAAG,OAAO,CAAC6C,QAAQ,KAAKJ,OAAOxD,EAAE,CAACuE,QAAQrE,KAAK2D,WAAWW,WAAW,GAAGzD,YAAE,CAACD,YAAE,CAACX,KAAK,CAAC,gBAAgBmD,EAAEzC,UAAU,YAAO,GAAQE,YAAE,CAACD,YAAE,CAACmC,KAAKrD,IAAEO,KAAKiD,EAAEpC,aAAY,KAAMsC,EAAEzC,UAAU,aAAa,MAAME,YAAE,CAACD,YAAE,CAAC6B,UAAS,KAAMW,EAAEzC,UAAU,mBAAmB,MAAME,YAAE,CAACD,YAAE,CAAC2D,MAAM,CAACC,IAAI,OAAOC,KAAK,KAAKC,QAAQ,CAACC,OAAO3D,IAAIF,aAAY,KAAMsC,EAAEzC,UAAU,aAAQ,GAAQE,YAAE,CAACD,YAAE,CAAC4B,MAAM,KAAKC,UAAS,KAAMW,EAAEzC,UAAU,cAAS,GAAQE,YAAE,CAACD,YAAE,CAAC6B,UAAS,KAAMW,EAAEzC,UAAU,+BAA+B,MAAMyC,EAAEvC,YAAE,CAAC+D,YAAE,oCAAoCxB,GAAG,MAAMyB,EAAEzB,E,uCCA3kD,IAAIF,EAAE,cAAc0B,YAAErE,YAAEc,OAAKxB,YAAYgB,GAAG,GAAGd,MAAMc,GAAGb,KAAKC,KAAK,YAAYD,KAAK8E,qBAAqB,uBAAuB9E,KAAK+E,OAAO,IAAI9D,EAAEjB,KAAKgF,QAAQ,EAAEnE,EAAE,CAAC,MAAMkE,OAAO9D,EAAEoC,MAAM3D,GAAGmB,EAAEI,GAAGvB,IAAIuB,EAAEoC,MAAM3D,EAAE,CAAC,CAAC6D,aAAavD,KAAKwD,WAAW,CAACrC,aAAG,IAAInB,KAAK+E,SAAS,CAAClE,EAAEI,KAAKD,YAAEC,IAAIA,EAAEU,SAAS3B,OAAOiB,EAAEU,OAAO,MAAMX,YAAEH,KAAKA,EAAEc,OAAO3B,KAAK,GAAGL,MAAI,CAACoE,aAAa,OAAO/D,KAAKiF,oBAAoBjF,KAAK+E,OAAOG,qBAAqBlF,IAAI,CAAK4D,uBAAmB,OAAOhE,YAAEI,KAAK+E,OAAOnB,iBAAiB,CAAKP,YAAQ,OAAOrD,KAAK+E,OAAO1B,KAAK,CAAKA,UAAMxC,GAAGb,KAAK+E,OAAO1B,MAAMxC,CAAC,CAAKsE,iBAAa,OAAOnF,KAAK+E,OAAOzB,MAAM,CAACzB,gBAAgBhB,GAAGb,KAAK+E,SAASlE,IAAIb,KAAK+E,OAAO,IAAI9D,EAAE,CAAKmE,eAAW,OAAOpF,KAAK+E,MAAM,CAAKK,aAASvE,GAAGb,KAAK+E,OAAOlE,CAAC,CAAK8C,iBAAa,OAAO3D,KAAK+E,OAAOpB,UAAU,CAAKA,eAAW9C,GAAGb,KAAK+E,OAAOpB,WAAW9C,CAAC,CAACwE,gBAAgBxE,EAAEI,EAAEvB,EAAEJ,GAAG2B,EAAE0C,WAAW9C,EAAEyE,QAAQ,EAAEpF,WAAWW,EAAEV,SAASc,KAAKD,YAAEH,IAAIG,YAAEC,KAAKsE,KAAK1E,GAAGA,EAAE2E,OAAOlG,KAAKkG,QAAQ,GAAG3E,YAAE,CAACD,YAAE,CAACJ,KAAK,CAACiF,MAAK,GAAIhD,UAAS,KAAMS,EAAEvC,UAAU,YAAO,GAAQE,YAAE,CAACD,YAAE,CAACX,KAAK,CAAC,2BAA2BiD,EAAEvC,UAAU,4BAAuB,GAAQE,YAAE,CAACD,YAAE,CAACE,aAAY,KAAMoC,EAAEvC,UAAU,cAAS,GAAQE,YAAE,CAACD,YAAE,CAAC6B,UAAS,KAAMS,EAAEvC,UAAU,mBAAmB,MAAME,YAAE,CAACD,YAAE,CAAC2D,MAAM,CAACC,IAAI,OAAOC,KAAK,KAAKC,QAAQ,CAACC,OAAOjF,IAAIc,KAAK,CAACC,MAAM,CAACiF,cAAa,OAAQxC,EAAEvC,UAAU,QAAQ,MAAME,YAAE,CAACD,YAAE,CAAC6B,UAAS,KAAMS,EAAEvC,UAAU,aAAa,MAAME,YAAE,CAACD,YAAE,CAAC6B,UAAS,EAAGjC,KAAK,CAACiF,MAAK,EAAGhF,OAAM,EAAGkF,QAAQ,CAACC,QAAQ,CAACH,MAAK,EAAGhF,OAAM,GAAI,cAAc,CAACgF,MAAK,EAAGhF,OAAM,GAAI,eAAe,CAACgF,MAAK,EAAGhF,OAAM,QAASyC,EAAEvC,UAAU,eAAU,GAAQE,YAAE,CAACD,YAAE,CAACX,KAAK,CAAC,OAAO,WAAWiD,EAAEvC,UAAU,gBAAW,GAAQE,YAAE,CAACD,YAAE,CAACX,KAAKH,IAAEqD,OAAO7D,KAAGkB,KAAK,CAACC,MAAM,CAACiF,cAAa,GAAIC,QAAQ,CAAC,YAAY,CAAClF,MAAM,CAACiF,cAAa,SAAUxC,EAAEvC,UAAU,aAAa,MAAME,YAAE,CAACO,YAAE,YAAY,eAAe8B,EAAEvC,UAAU,kBAAkB,MAAMuC,EAAErC,YAAE,CAACqD,YAAE,+BAA+BhB,GAAG,MAAMc,EAAEd,C","file":"static/js/85.9d4789fd.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar t;!function(t){t.Horizontal=\"horizontal\",t.Vertical=\"vertical\",t.Direct=\"direct\"}(t||(t={}));const r=[t.Horizontal,t.Vertical,t.Direct];export{t as LengthDimensionMeasureType,r as lengthDimensionMeasureType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{LengthDimensionMeasureType as t,lengthDimensionMeasureType as e}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as s}from\"../core/Cyclical.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let l=class extends(i(r)){constructor(o){super(o),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.measureType=t.Direct,this.offset=0,this.orientation=0}};o([p({type:[\"length\"],json:{write:{isRequired:!0}}})],l.prototype,\"type\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"startPoint\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"endPoint\",void 0),o([p({type:e,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"measureType\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"offset\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((o=>s.normalize(a(o),0,!0)))],l.prototype,\"orientation\",void 0),l=o([m(\"esri.analysis.LengthDimension\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as r}from\"../core/Clonable.js\";import{IdentifiableMixin as s}from\"../core/Identifiable.js\";import{JSONSupportMixin as o}from\"../core/JSONSupport.js\";import{isSome as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let n=0,l=class extends(o(r(s(t)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${n++}`,this.title=null}get parent(){return this._get(\"parent\")}set parent(e){const t=this.parent;if(i(t))switch(t.type){case\"line-of-sight\":case\"dimension\":t.releaseAnalysis(this);break;case\"2d\":case\"3d\":t.analyses.includes(this)&&t.analyses.remove(this)}this._set(\"parent\",e)}get isEditable(){return this.requiredPropertiesForEditing.every(i)}};e([p({type:String,constructOnly:!0,clonable:!1})],l.prototype,\"id\",void 0),e([p({type:String})],l.prototype,\"title\",void 0),e([p({constructOnly:!0})],l.prototype,\"type\",void 0),e([p({clonable:!1,value:null})],l.prototype,\"parent\",null),e([p({readOnly:!0})],l.prototype,\"isEditable\",null),e([p({readOnly:!0})],l.prototype,\"requiredPropertiesForEditing\",void 0),l=e([a(\"esri.analysis.Analysis\")],l);const c=l;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import o from\"../Color.js\";import{Clonable as r}from\"../core/Clonable.js\";import{JSONSupportMixin as t}from\"../core/JSONSupport.js\";import{toPt as s,px2pt as i}from\"../core/screenUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{Integer as l}from\"../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";let c=class extends(t(r)){constructor(e){super(e),this.type=\"simple\",this.color=new o(\"black\"),this.lineSize=2,this.fontSize=10,this.textColor=new o(\"black\"),this.textBackgroundColor=new o([255,255,255,.6])}};e([p({type:[\"simple\"],readOnly:!0,json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),e([p({type:o,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"color\",void 0),e([p({type:Number,cast:s,nonNullable:!0,range:{min:i(1)},json:{write:{isRequired:!0}}})],c.prototype,\"lineSize\",void 0),e([p({type:Number,cast:s,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,\"fontSize\",void 0),e([p({type:o,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"textColor\",void 0),e([p({type:o,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"textBackgroundColor\",void 0),c=e([n(\"esri.analysis.DimensionSimpleStyle\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import n from\"./DimensionSimpleStyle.js\";import o from\"./LengthDimension.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as r}from\"../core/collectionUtils.js\";import{isNone as l,isSome as p,unwrap as m}from\"../core/maybe.js\";import{watch as u,syncAndInitial as a}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"../geometry/Extent.js\";import{projectOrLoadMany as f}from\"../geometry/projection.js\";const h=s.ofType(o);let g=class extends t{constructor(e){super(e),this.type=\"dimension\",this.style=new n,this.extent=null}initialize(){this.addHandles(u((()=>this._computeExtent()),(e=>{(l(e)||l(e.pending))&&this._set(\"extent\",p(e)?e.extent:null)}),a))}get dimensions(){return this._get(\"dimensions\")||new h}set dimensions(e){this._set(\"dimensions\",i(e,this.dimensions,h))}get spatialReference(){for(const e of this.dimensions){if(p(e.startPoint))return e.startPoint.spatialReference;if(p(e.endPoint))return e.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce(((e,t)=>(e.push(t.startPoint,t.endPoint),e)),[])}async waitComputeExtent(){const e=this._computeExtent();return p(e)?m(e.pending):null}_computeExtent(){const e=this.spatialReference;if(l(e))return{pending:null,extent:null};const t=[];for(const s of this.dimensions)p(s.startPoint)&&t.push(s.startPoint),p(s.endPoint)&&t.push(s.endPoint);const n=f(t,e);if(p(n.pending))return{pending:n.pending,extent:null};let o=null;return p(n.geometries)&&(o=n.geometries.reduce(((e,t)=>l(e)?p(t)?y.fromPoint(t):null:p(t)?e.union(y.fromPoint(t)):e),null)),{pending:null,extent:o}}clear(){this.dimensions.removeAll()}};e([c({type:[\"dimension\"]})],g.prototype,\"type\",void 0),e([c({cast:r,type:h,nonNullable:!0})],g.prototype,\"dimensions\",null),e([c({readOnly:!0})],g.prototype,\"spatialReference\",null),e([c({types:{key:\"type\",base:null,typeMap:{simple:n}},nonNullable:!0})],g.prototype,\"style\",void 0),e([c({value:null,readOnly:!0})],g.prototype,\"extent\",void 0),e([c({readOnly:!0})],g.prototype,\"requiredPropertiesForEditing\",null),g=e([d(\"esri.analysis.DimensionAnalysis\")],g);const j=g;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../analysis/DimensionAnalysis.js\";import r from\"../analysis/DimensionSimpleStyle.js\";import t from\"../analysis/LengthDimension.js\";import o from\"../core/Collection.js\";import{unwrap as i,isSome as n}from\"../core/maybe.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{watch as a,syncAndInitial as l}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import u from\"./Layer.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";let h=class extends(d(p(u))){constructor(e){if(super(e),this.type=\"dimension\",this.operationalLayerType=\"ArcGISDimensionLayer\",this.source=new s,this.opacity=1,e){const{source:s,style:r}=e;s&&r&&(s.style=r)}}initialize(){this.addHandles([a((()=>this.source),((e,s)=>{n(s)&&s.parent===this&&(s.parent=null),n(e)&&(e.parent=this)}),l)])}async load(){return this.addResolvingPromise(this.source.waitComputeExtent()),this}get spatialReference(){return i(this.source.spatialReference)}get style(){return this.source.style}set style(e){this.source.style=e}get fullExtent(){return this.source.extent}releaseAnalysis(e){this.source===e&&(this.source=new s)}get analysis(){return this.source}set analysis(e){this.source=e}get dimensions(){return this.source.dimensions}set dimensions(e){this.source.dimensions=e}writeDimensions(e,s,r,t){s.dimensions=e.filter((({startPoint:e,endPoint:s})=>n(e)&&n(s))).map((e=>e.toJSON(t))).toJSON()}};e([c({json:{read:!1},readOnly:!0})],h.prototype,\"type\",void 0),e([c({type:[\"ArcGISDimensionLayer\"]})],h.prototype,\"operationalLayerType\",void 0),e([c({nonNullable:!0})],h.prototype,\"source\",void 0),e([c({readOnly:!0})],h.prototype,\"spatialReference\",null),e([c({types:{key:\"type\",base:null,typeMap:{simple:r}},json:{write:{ignoreOrigin:!0}}})],h.prototype,\"style\",null),e([c({readOnly:!0})],h.prototype,\"fullExtent\",null),e([c({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],h.prototype,\"opacity\",void 0),e([c({type:[\"show\",\"hide\"]})],h.prototype,\"listMode\",void 0),e([c({type:o.ofType(t),json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{ignoreOrigin:!0}}}}})],h.prototype,\"dimensions\",null),e([m(\"web-scene\",\"dimensions\")],h.prototype,\"writeDimensions\",null),h=e([y(\"esri.layers.DimensionLayer\")],h);const f=h;export{f as default};\n"],"sourceRoot":""}
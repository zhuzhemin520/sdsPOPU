(this["webpackJsonppopulation-arcgis"]=this["webpackJsonppopulation-arcgis"]||[]).push([[123],{1104:function(e,i,t){"use strict";t.d(i,"a",(function(){return u}));var s=t(0),l=t(28),r=t(108),a=t(243),n=t(509),y=t(22),d=t(2),o=t(446),b=t(1),h=(t(17),t(12),t(10));let p=class extends(Object(a.b)(Object(n.b)(Object(o.b)(r.a.EventedMixin(l.a))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const i=this.layer&&this.layer.id||"no id",t=this.layer&&this.layer.title||"no title";y.a.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${t}', id: '${i}')`,e)}}))}get fullOpacity(){return Object(d.u)(this.get("layer.opacity"),1)*Object(d.u)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null==(e=this.layer)?void 0:e.legendEnabled)}get updating(){var e;return!((null==(e=this.updatingHandles)||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}canResume(){var e,i,t;return this.visible&&(null==(e=this.layer)?void 0:e.loaded)&&!(null!=(i=this.parent)&&i.suspended)&&(null==(t=this.view)?void 0:t.ready)||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};Object(s.a)([Object(b.b)()],p.prototype,"fullOpacity",null),Object(s.a)([Object(b.b)()],p.prototype,"layer",void 0),Object(s.a)([Object(b.b)()],p.prototype,"parent",void 0),Object(s.a)([Object(b.b)({readOnly:!0})],p.prototype,"suspended",null),Object(s.a)([Object(b.b)({readOnly:!0})],p.prototype,"suspendInfo",null),Object(s.a)([Object(b.b)({readOnly:!0})],p.prototype,"legendEnabled",null),Object(s.a)([Object(b.b)({type:Boolean,readOnly:!0})],p.prototype,"updating",null),Object(s.a)([Object(b.b)({readOnly:!0})],p.prototype,"updatingProgress",null),Object(s.a)([Object(b.b)()],p.prototype,"visible",null),Object(s.a)([Object(b.b)()],p.prototype,"view",void 0),p=Object(s.a)([Object(h.a)("esri.views.layers.LayerView")],p);const u=p},1559:function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return h}));var s=t(0),l=t(59),r=t(339),a=t(2),n=t(13),y=t(1),d=(t(17),t(12),t(10)),o=t(1104);let b=class extends o.a{constructor(e){super(e),this.type="group",this.layerViews=new l.a}_allLayerViewVisibility(e){this.layerViews.forEach((i=>{i.visible=e}))}initialize(){this.handles.add([this.layerViews.on("change",(e=>this._layerViewsChangeHandler(e))),Object(n.f)((()=>this.layer.visibilityMode),(()=>this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))),n.d),Object(n.f)((()=>this.visible),(e=>{this._applyVisibility((()=>this._allLayerViewVisibility(e)),(()=>{}))}),n.d)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(e){this._set("layerViews",Object(r.b)(e,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((e,i)=>e+i.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((e=>e.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((e=>e._isOverridden("visible")))}_findLayerViewForLayer(e){return e&&this.layerViews.find((i=>i.layer===e))}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find((e=>{var i;return null==(i=this._findLayerViewForLayer(e))?void 0:i.visible}));return e&&this._findLayerViewForLayer(e)}_applyExclusiveVisibility(e){Object(a.k)(e)&&(e=this._firstVisibleOnLayerOrder(),Object(a.k)(e)&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.getItemAt(0)))),this.layerViews.forEach((i=>{i.visible=i===e}))}_layerViewsChangeHandler(e){this.handles.remove("grouplayerview:visible"),this.handles.add(this.layerViews.map((e=>Object(n.f)((()=>e.visible),(i=>this._applyVisibility((()=>{i!==this.visible&&(e.visible=this.visible)}),(()=>this._applyExclusiveVisibility(i?e:null)))),n.d))).toArray(),"grouplayerview:visible");const i=e.added[e.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null!=i&&i.visible?i:null)))}_applyVisibility(e,i){var t,s;this._hasLayerViewVisibleOverrides()&&("inherited"===(null==(t=this.layer)?void 0:t.visibilityMode)?e():"exclusive"===(null==(s=this.layer)?void 0:s.visibilityMode)&&i())}};Object(s.a)([Object(y.b)({cast:r.a})],b.prototype,"layerViews",null),Object(s.a)([Object(y.b)({readOnly:!0})],b.prototype,"updatingProgress",null),Object(s.a)([Object(y.b)()],b.prototype,"view",void 0),b=Object(s.a)([Object(d.a)("esri.views.layers.GroupLayerView")],b);const h=b}}]);
//# sourceMappingURL=123.264b7f38.chunk.js.map
{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/views/3d/analysis/interfaces.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","../node_modules/@arcgis/core/views/support/colorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/support/viewUtils.js","../node_modules/@arcgis/core/core/analysisThemeUtils.js","../node_modules/@arcgis/core/properties/defaultUnit.js","../node_modules/@arcgis/core/views/3d/analysis/support/UnitNormalizer.js"],"names":["n","i","constructor","e","super","view","this","_resources","_transform","t","object","transform","s","r","transformation","recreate","attached","createResources","recreateGeometry","_stage","removeMany","geometries","removeAllGeometries","createGeometries","visible","setVisible","addMany","destroyResources","c","isPickable","updatePolicy","o","SYNC","add","a","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","dispose","destroyExternalResources","updateVisibility","p","arguments","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","suspended","_overrideIfSome","forceInteractiveForViewModel","readOnly","prototype","constructOnly","type","Boolean","hasZ","z","warnOnce","id","wkid","_hasExternalMaterial","_renderOccluded","d","OccludeAndTransparent","_width","_color","h","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_writeDepthEnabled","_falloff","_polygonOffset","_material","applyProps","setGeometryFromRenderSpacePoint","push","geometry","setGeometryFromExtent","spatialReference","renderCoordsHelper","toRenderCoords","setGeometryFromFrustum","lines","forEach","origin","endpoint","setGeometryFromBoundedPlane","basis1","basis2","l","m","setGeometryFromSegment","endRenderSpace","g","points","createRenderGeometry","setGeometryFromSegments","map","getTransformedGeometry","_geometry","renderOccluded","parameters","setParameters","width","color","innerWidth","innerColor","stipplePattern","stippleOffColor","stipplePreferContinuous","writeDepthEnabled","writeDepth","falloff","polygonOffset","hasPolygonOffset","u","isClosed","_","f","addGeometry","vnodeSelector","properties","children","text","toString","domNode","length","Array","isArray","hasOwnProperty","Error","_attached","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","console","error","destroy","startRenderSpace","eval","worldUpAtPosition","R","get","normals","static","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","S","Auto","Euclidean","Geodesic","bottom","top","center","right","left","x","y","fontSize","anchor","backgroundColor","textColor","_textShadowSize","position","_set","_textShadowColor","_textShadow","toCss","_padding","_borderRadius","render","classes","_cssClasses","styles","Math","floor","visibility","lineHeight","padding","borderRadius","textShadow","renderCanvas","font","replace","measureText","textAlign","textBaseline","_roundedRect","fillStyle","fill","_renderTextShadow","fillText","lineJoin","b","beginPath","moveTo","arcTo","lineTo","closePath","cos","PI","sin","startX","startY","endX","endY","startPosition","endPosition","_strokeStyle","_lineCap","height","x1","x2","y1","y2","_calculateCoordinates","style","strokeStyle","lineWidth","lineCap","stroke","min","max","_handles","_textItem","_calloutItem","_showCallout","_showText","_text","_fontSize","_backgroundColor","_textColor","_distance","_anchor","updatePositionOnCameraMove","updateLabelPosition","textItem","distance","overlaps","overlay","_computeLabelPositionFromPoint","point","callout","state","camera","L","offset","renderToScreen","T","pixelRatio","_updatePosition","_computeLabelPositionFromCorner","_computeLabelPositionFromSegment","projectToRenderScreen","w","k","P","segment","V","sampleLocation","j","abs","v","items","destroyed","removeAll","C","F","O","U","M","I","start","end","round","analysisTheme","accentColor","_spatialReference","_updateNormalizationFactors","normalizeDistance","_metersPerDistanceUnit","normalizeElevation","_metersPerElevationUnit","normalizeArea","_squareMetersPerAreaUnit"],"mappings":"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","file":"static/js/23.f63d27b3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{isSome as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";const n=n=>{let p=class extends(o(n)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return!r(this.parent)||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({readOnly:!0})],p.prototype,\"type\",void 0),e([i({constructOnly:!0})],p.prototype,\"analysis\",void 0),e([i({constructOnly:!0})],p.prototype,\"parent\",void 0),e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({type:Boolean})],p.prototype,\"interactive\",null),e([i()],p.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],p.prototype,\"updating\",null),e([i()],p.prototype,\"visible\",null),e([i()],p.prototype,\"_interactiveViewModelCount\",void 0),p=e([s(\"esri.views.3d.analysis.AnalysisView3D\")],p),p};export{n as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as o,isSome as e,unwrapOr as r}from\"../../../../core/maybe.js\";import{tryProjectWithZConversion as t}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as i}from\"../../support/ElevationProvider.js\";function n(n,a,p,s=!1){const c=t(n,a);return o(c)?null:(c.hasZ&&!s||!e(p)||(c.z=r(i(p,c),0)),c)}function a(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{n as applyProjectionAndElevationAlignment,a as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as r}from\"../../../../core/maybe.js\";import{f as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as a,m as o}from\"../../../../chunks/vec3.js\";import{Z as l,c as n}from\"../../../../chunks/vec3f64.js\";import{f as h,a as m}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as _,createGeometry as f}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as d}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class c extends p{constructor(t,r){super(t),this._hasExternalMaterial=!1,this._renderOccluded=d.OccludeAndTransparent,this._width=1,this._color=h(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this._material=r,this._hasExternalMaterial=e(r),this.applyProps(t)}setGeometryFromRenderSpacePoint(e,t=1e3){const r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n(),s=n(),i=100,o=[];a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),this.geometry=[o]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,a=.5,o=n(),l=n(),h=n(),m=n();o[0]=r[0]-s[0]*a-i[0]*a,o[1]=r[1]-s[1]*a-i[1]*a,o[2]=r[2]-s[2]*a-i[2]*a,l[0]=r[0]-s[0]*a+i[0]*a,l[1]=r[1]-s[1]*a+i[1]*a,l[2]=r[2]-s[2]*a+i[2]*a,h[0]=r[0]+s[0]*a+i[0]*a,h[1]=r[1]+s[1]*a+i[1]*a,h[2]=r[2]+s[2]*a+i[2]*a,m[0]=r[0]+s[0]*a-i[0]*a,m[1]=r[1]+s[1]*a-i[1]*a,m[2]=r[2]+s[2]*a-i[2]*a,t.push([o[0],o[1],o[2]]),t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([m[0],m[1],m[2]]),t.push([o[0],o[1],o[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=s(g,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=l){this.transform=s(g,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return t(this._geometry)?null:this._geometry.map((e=>e.map((e=>o(n(),e,this.transform)))))}get renderOccluded(){return e(this._material)?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(t){this._renderOccluded=t,e(this._material)&&this._material.setParameters({renderOccluded:t})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return e(this._material)?this._material.parameters.width:this._width}set width(t){this._width=t,e(this._material)&&this._material.setParameters({width:t})}get color(){return e(this._material)?this._material.parameters.color:this._color}set color(t){this._color=m(t),e(this._material)&&this._material.setParameters({color:this._color})}get innerWidth(){return e(this._material)?this._material.parameters.innerWidth:this._innerWidth}set innerWidth(t){this._innerWidth=t,e(this._material)&&this._material.setParameters({innerWidth:t})}get innerColor(){return e(this._material)?this._material.parameters.innerColor:this._innerColor}set innerColor(t){this._innerColor=e(t)?m(t):t,e(this._material)&&this._material.setParameters({innerColor:this._innerColor})}get stipplePattern(){return e(this._material)?this._material.parameters.stipplePattern:this._stipplePattern}set stipplePattern(t){this._stipplePattern=t,e(this._material)&&this._material.setParameters({stipplePattern:t})}get stippleOffColor(){return e(this._material)?this._material.parameters.stippleOffColor:this._stippleOffColor}set stippleOffColor(t){this._stippleOffColor=e(t)?m(t):null,e(this._material)&&this._material.setParameters({stippleOffColor:this._stippleOffColor})}get stipplePreferContinuous(){return e(this._material)?this._material.parameters.stipplePreferContinuous:this._stipplePreferContinuous}set stipplePreferContinuous(t){this._stipplePreferContinuous=t,e(this._material)&&this._material.setParameters({stipplePreferContinuous:t})}get writeDepthEnabled(){return e(this._material)?this._material.parameters.writeDepth:this._writeDepthEnabled}set writeDepthEnabled(t){this._writeDepthEnabled=t,e(this._material)&&this._material.setParameters({writeDepth:t})}get falloff(){return e(this._material)?this._material.parameters.falloff:this._falloff}set falloff(t){this._falloff=t,e(this._material)&&this._material.setParameters({falloff:t})}get polygonOffset(){return e(this._material)?this._material.parameters.hasPolygonOffset:this._polygonOffset}set polygonOffset(t){this._polygonOffset=t,e(this._material)&&this._material.setParameters({hasPolygonOffset:t})}createExternalResources(){this._hasExternalMaterial||(this._material=new u({width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of _(this.geometry)){const s=f(t);e.addGeometry(s,r(this._material))}}forEachExternalMaterial(e){this._hasExternalMaterial||e(r(this._material))}}const g=i();export{c as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this._handle=e((()=>this.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProps(e){let t=!1;for(const s in e)s in this?\"attached\"===s?t=e[s]:this[s]=e[s]:console.error(\"Cannot set unknown property\",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{h as t,b as e,n as s,g as r,a as i,c as n}from\"../../../../../chunks/vec3.js\";import{c as o,a as p}from\"../../../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as c,projectVectorToVector as a}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as h}from\"../../../../../geometry/projectionEllipsoid.js\";import{sv3d as d}from\"../../../../../geometry/support/vectorStacks.js\";import{slerpTangent as _,slerp as f}from\"../../../support/mathUtils.js\";class l{constructor(t=o(),e=o()){this.startRenderSpace=t,this.endRenderSpace=e,this.type=\"euclidean\"}eval(r,i,n){return t(i,this.startRenderSpace,this.endRenderSpace,r),n&&(e(n,this.endRenderSpace,this.startRenderSpace),s(n,n)),i}createRenderGeometry(t,s){const r=[],i=[],n=(s,n)=>{const o=u;e(o,s,t),r.push([o[0],o[1],o[2]]),i.push([n[0],n[1],n[2]])},o=s.worldUpAtPosition(this.eval(.5,R),d.get());return n(this.startRenderSpace,o),n(this.endRenderSpace,o),{points:r,normals:i}}static fromPositionAndVector(t,e,s=1){return r(R,e,s),i(R,t,R),new l(p(t),p(R))}}class m{constructor(t,e,s){this.startRenderSpace=t,this.endRenderSpace=e,this.renderSpatialReference=s,this.type=\"geodesic\",this._start=o(),this._end=o(),this._pcpf=h(s),this._project=c(s,this._pcpf),this._projectIn(t,this._start),this._projectIn(e,this._end)}_projectIn(t,e){this._project?a(t,this.renderSpatialReference,e,this._pcpf):n(e,t)}eval(r,n,o){if(this._project)if(o){const t=u;_(this._start,this._end,r,n,t),i(S,n,t),a(n,this._pcpf,n,this.renderSpatialReference),a(S,this._pcpf,S,this.renderSpatialReference),e(o,S,n),s(o,o)}else f(this._start,this._end,r,n),a(n,this._pcpf,n,this.renderSpatialReference);else t(n,this._start,this._end,r),o&&(e(o,this._end,this._start),s(o,o));return n}createRenderGeometry(t,s){const r=[],i=[],n=(s,n)=>{const o=S;e(o,s,t),r.push([o[0],o[1],o[2]]),i.push([n[0],n[1],n[2]])},o=128+1&-2;for(let e=0;e<o;++e){const t=e/(o-1),r=R,i=u;this.eval(t,r),s.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}const R=o(),u=o(),S=o();export{l as EuclideanSegment,m as GeodesicSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Auto=0]=\"Auto\",e[e.Euclidean=1]=\"Euclidean\",e[e.Geodesic=2]=\"Geodesic\"}(e||(e={}));export{e as MeasurementMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import o from\"../../core/Accessor.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as s}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const l={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let n=class extends o{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=new e([0,0,0,.6]),this.textColor=new e([255,255,255]),this._textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get _textShadowColor(){return this.backgroundColor}get _textShadow(){const t=this._textShadowColor.toCss(!1);return`0 0 ${this._textShadowSize}px ${t}`}get _padding(){return.5*this.fontSize}get _borderRadius(){return this._padding}render(){return s(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",lineHeight:this.fontSize+\"px\",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this._padding+\"px\",borderRadius:this._borderRadius+\"px\",textShadow:this._textShadow}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this._padding,i=this._borderRadius,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,p=this.y+l.y*a;this._roundedRect(t,x,p,n,a,i),t.fillStyle=this.backgroundColor.toCss(!0),t.fill();const d=this.x+(l.x+.5)*n,c=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,d,c),t.fillStyle=this.textColor.toCss(!0),t.fillText(this.text,d,c)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/a.length})`;const r=this._textShadowSize;for(const[s,l]of a)t.fillText(e,o+r*s,i+r*l)}_roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in l)t[l[e]]=this.anchor===e;return t}};t([i()],n.prototype,\"x\",void 0),t([i()],n.prototype,\"y\",void 0),t([i()],n.prototype,\"position\",null),t([i()],n.prototype,\"text\",void 0),t([i()],n.prototype,\"fontSize\",void 0),t([i()],n.prototype,\"anchor\",void 0),t([i()],n.prototype,\"visible\",void 0),t([i()],n.prototype,\"backgroundColor\",void 0),t([i()],n.prototype,\"textColor\",void 0),t([i()],n.prototype,\"_textShadowSize\",void 0),t([i()],n.prototype,\"_textShadowColor\",null),t([i()],n.prototype,\"_textShadow\",null),t([i()],n.prototype,\"_padding\",null),t([i()],n.prototype,\"_borderRadius\",null),n=t([r(\"esri.views.overlay.TextOverlayItem\")],n);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},a=[];{const t=16;for(let e=0;e<360;e+=360/t)a.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}const x=n;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends e{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get _strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:a,y2:l}=this._calculateCoordinates(h),p=`stroke: ${this._strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this._lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:a,x2:n,y2:l,style:p})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this._strokeStyle,t.lineWidth=this.width,t.lineCap=this._lineCap;const e=this._calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}_calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([s()],r.prototype,\"startX\",void 0),t([s()],r.prototype,\"startY\",void 0),t([s()],r.prototype,\"endX\",void 0),t([s()],r.prototype,\"endY\",void 0),t([s()],r.prototype,\"startPosition\",null),t([s()],r.prototype,\"endPosition\",null),t([s()],r.prototype,\"width\",void 0),t([s()],r.prototype,\"color\",void 0),t([s()],r.prototype,\"visible\",void 0),t([s({readOnly:!0})],r.prototype,\"_strokeStyle\",null),r=t([i(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},n=r;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import e from\"../../../../core/Handles.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray as s,createRenderScreenPointArray3 as r,createScreenPointArray as a}from\"../../../../core/screenUtils.js\";import{j as n,s as h,b as c,n as l,f as m,i as _,a as u}from\"../../../../chunks/vec2.js\";import{a as d}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{VisualElement as x}from\"./VisualElement.js\";import{renderScreenSpaceTangent as b}from\"../../../interactive/support/viewUtils.js\";import f from\"../../../overlay/LineOverlayItem.js\";import v from\"../../../overlay/TextOverlayItem.js\";class g extends x{constructor(o){super(o.view),this._handles=new e,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=\"-\",this._fontSize=14,this._backgroundColor=new t([0,0,0,.6]),this._textColor=new t([255,255,255]),this._distance=25,this._anchor=\"right\",this.updatePositionOnCameraMove=!0,this.applyProps(o)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this.updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.attached&&(this._textItem.backgroundColor=this._backgroundColor)}get textColor(){return this._textColor}set textColor(t){this._textColor=t,this.attached&&(this._textItem.textColor=this._textColor)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this.updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this.updateLabelPosition())}overlaps(t){return!!this.attached&&(this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem))}updateLabelPosition(){if(!this.attached)return;this._showText=!1,this._showCallout=!1;const{geometry:t,view:e,visible:i}=this;if(o(t)&&e._stage)switch(t.type){case\"point\":if(!this._computeLabelPositionFromPoint(t.point,R))break;if(t.callout){const o=e.state.camera,i=t.callout.distance;n(L,L,[0,t.callout.offset]),o.renderToScreen(L,R),h(T,0,1),c(T,T,i*o.pixelRatio),n(T,T,L),o.renderToScreen(T,z),this._showCallout=this._updatePosition(R,z)}else this._textItem.position=[R[0],R[1]],this._textItem.anchor=\"center\";this._showText=!0;break;case\"corner\":if(!this._computeLabelPositionFromCorner(t,this._distance,R,z))break;this._showCallout=this._updatePosition(R,z),this._showText=!0;break;case\"segment\":{if(!this._computeLabelPositionFromSegment(t,this._distance,this._anchor,R,z))break;this._showText=!0;const e=this._updatePosition(R,z);this._showCallout=!1!==t.callout&&e,this._showCallout||(this._textItem.anchor=\"center\")}}this.updateVisibility(i)}_computeLabelPositionFromPoint(t,e){const o=this.view.state.camera;return o.projectToRenderScreen(t,L),!(L[2]<0||L[2]>1)&&(o.renderToScreen(L,e),!0)}_computeLabelPositionFromCorner(t,e,o,i){if(!t)return!1;const s=this.view.state.camera;return w(t.left,1,s,k),l(k,k),w(t.right,0,s,P),n(T,k,P),l(T,T),m(T,T),s.projectToRenderScreen(t.left.endRenderSpace,L),!(L[2]<0||L[2]>1)&&(s.renderToScreen(L,o),c(T,T,e*s.pixelRatio),n(T,T,L),s.renderToScreen(T,i),!0)}_computeLabelPositionFromSegment(t,e,o,i,s){if(!t)return!1;const r=t.segment,a=this.view.state.camera;b(r.startRenderSpace,r.endRenderSpace,a,k),h(T,-k[1],k[0]);let m=!1;switch(o){case\"top\":m=T[1]<0;break;case\"bottom\":m=T[1]>0;break;case\"left\":m=T[0]>0;break;case\"right\":m=T[0]<0}if(m&&l(T,T),0===_(T))switch(o){case\"top\":T[1]=1;break;case\"bottom\":T[1]=-1;break;case\"left\":T[0]=-1;break;case\"right\":T[0]=1}return r.eval(V[t.sampleLocation],j),a.projectToRenderScreen(j,L),!(L[2]<0||L[2]>1)&&(a.renderToScreen(L,i),c(T,T,e*a.pixelRatio),n(T,T,L),a.renderToScreen(T,s),!0)}_updatePosition(t,e){if(e){const o=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(o)>Math.abs(i)?o>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new v({visible:!0,text:this._text,fontSize:this._fontSize,backgroundColor:this._backgroundColor,textColor:this._textColor}),this._calloutItem=new f({visible:!0,width:2}),this.updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this.updatePositionOnCameraMove&&this._handles.add(i((()=>this.view.state.camera),(()=>this.updateLabelPosition())))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,o,i){t.eval(e,C,y),d(S,C,y),o.projectToRenderScreen(C,F),o.projectToRenderScreen(S,O),u(i,U,M),m(i,i)}function I(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const C=p(),S=p(),y=p(),k=s(),P=s(),T=s(),j=p(),L=r(),R=a(),z=a(),F=r(),M=F,O=r(),U=O,V={start:0,center:.5,end:1};export{g as LabelVisualElement,I as mirrorPosition,w as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{createRenderScreenPointArray3 as e}from\"../../../../core/screenUtils.js\";import{a as o,f as r}from\"../../../../chunks/vec2.js\";import{s as n,a as s,g as t}from\"../../../../chunks/vec3.js\";function c(e,o){if(n(o,0,0,0),e.length>0){for(let r=0;r<e.length;++r)s(o,o,e[r]);t(o,o,1/e.length)}}function f(e,n,s,t){t.projectToRenderScreen(e,a),t.projectToRenderScreen(n,m),o(s,p,i),r(s,s)}const a=e(),i=a,m=e(),p=m;export{c as midpoint,f as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport n from\"../Color.js\";import o from\"../config.js\";import{getColorLuminance as r}from\"../views/support/colorUtils.js\";function t(o,t){const e=o.a*t;return r(o)>225?new n([0,0,0,e]):new n([255,255,255,e])}function e(o,r){const t=new n(o);return t.a*=r,t}function i(n=1){return e(o.analysisTheme.accentColor,n)}function u(n=1){return t(i(),n)}function c(n=1){return e(o.analysisTheme.textColor,n)}function s(n=1){return t(c(),n)}export{i as getAccentColor,u as getContrastColor,c as getTextColor,s as getTextHaloColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{getDefaultUnitForView as t}from\"../core/unitUtils.js\";const r={readOnly:!0,get(){return t(this.view)}};export{r as defaultUnitPropertyMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export{t as UnitNormalizer};\n"],"sourceRoot":""}
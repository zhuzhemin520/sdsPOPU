{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js","../node_modules/@arcgis/core/arcade/functions/hash.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js","../node_modules/@arcgis/core/chunks/Heatmap.glsl.js","../node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js"],"names":["d","s","i","l","r","EventedMixin","t","constructor","e","super","this","layer","parent","initialize","when","catch","name","id","title","o","getLogger","declaredClass","error","fullOpacity","n","get","suspended","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingHandles","isUpdating","updatingProgress","visible","_overrideIfSome","loaded","view","ready","viewNotReady","layerNotLoaded","layerInvisible","a","prototype","readOnly","type","Boolean","p","u","c","arguments","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","async","AbortController","signal","handles","add","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","effectiveScaleRange","minScale","maxScale","outsideScaleRange","minX","minY","maxX","maxY","search","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","has","_loadIndex","Array","size","forEach","clear","load","length","filter","fullBounds","values","Math","min","max","valid","delete","remove","forEachInBounds","invalidateIndex","set","push","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","h","geometryType","hasM","hasZ","numFeatures","storeStatistics","geometry","coords","featureCount","vertexCount","_add","_emitChanged","addMany","removeById","_remove","removeManyById","forEachBounds","objectId","getFeature","toArray","from","startMarkingUsedFeatures","sweep","emit","feature","displayId","onFeatureAdd","onFeatureRemove","spatialReference","fullExtent","Promise","resolve","equals","clone","state","isLocal","portalItem","then","destroyed","toLowerCase","_set","REMOVE","added","removed","ADD","removeMany","find","charCodeAt","Uint8Array","_seed","_totallen","_bufs","init","updateFloatArray","isNaN","toString","update","join","updateIntArray","Int32Array","buffer","updateUint8Array","updateWithString","digest","_xxHash32","f","m","elevationProvider","j","renderCoordsHelper","y","elevationInfo","v","I","g","x","w","points","isDraped","graphic","setFromElevationInfo","updateFeatureExpressionInfoContext","z","elevations","drapedObjectIds","failedObjectIds","WGS84","_dataQueryEngineInstance","context","_queryGeometryType","defaultQueryJSON","outSpatialReference","toJSON","_dataQueryEngine","_ensureDataQueryEngine","destroy","executeQueryForIdSet","_ensureQueryJSON","executeQueryForCount","count","extent","executeQueryForExtent","fromJSON","executeQueryForIds","executeQueryForLatestObservations","features","sourceLayer","executeQuery","geometries","map","reduce","rings","concat","sceneFilter","timeInfo","objectIdField","fields","priority","featureStore","scheduler","constructOnly","candidates","graphics3DGraphicsByObjectID","graphics3DGraphics","renderer","arcadeRequired","graphics3DSymbol","getRenderingInfoAsync","queryForSnapping","symbologySnappingSupported","all","b","sourceCandidateIndices","include","usesHalfFloat","fragment","uniforms","densityMap","colorRamp","maxDensity","minDensity","searchRadius","PI","constants","code","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","vertex","isAttributeDriven","attributes","POSITION","UV0","FEATUREATTRIBUTE","varyings","resolutionForScale","camera","screenToWorldRatio","pixelRatio","fullViewport","U","_randomRotationRenderers","elevationFeatureExpressionEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","timeExtentEnabled","setUidToIdOnAdd","dataExtent","drapeSourceType","Features","preferredUpdatePolicy","A","ASYNC","_suspendResumeExtent","owner","V","graphicSymbolSupported","componentFactories","deconflictor","addGraphicsOwner","labeler","elevationAlignment","S","graphicsCoreOwner","graphicsCore","queryGraphicUIDsInExtent","scaleVisibility","O","basemapTerrain","filterVisibility","_","layerView","objectStates","R","addPromise","elevationInfoChange","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","_initializeAsync","initializePromise","rendererChange","opacityChange","_setupSuspendResumeExtent","updateClippingExtent","clippingArea","_updateClippingExtent","startCreateGraphics","labelsEnabled","removeAll","frustumVisibility","visualVariables","findIndex","valueExpression","axis","rotationType","splice","WeakMap","suspendResumeExtentMode","scaleVisibilitySuspended","outsideOfView","updatingRemaining","loadedGraphics","updatePolicy","featureSpatialReference","symbolUpdateType","displayFeatureLimit","resourceController","memoryController","memoryFactor","ceil","maximumNumberOfFeatures","maximumTotalNumberOfFeatures","minimumTotalNumberOfFeatures","usedMemory","loadedFeatures","numberOfGraphics","usedMemoryPerFeature","usedMemoryPerGraphic","unprocessedMemoryEstimate","performanceInfo","core","elevationUpdating","visibilityFrustum","visibilityScale","maskOccludee","handle","acquireSet","P","MaskOccludee","setUid","uid","highlight","Highlight","queryObjectIds","setObjectIds","isArray","G","fieldsIndex","setUids","T","whenGraphicBounds","computeAttachmentOrigin","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","getRenderingInfo","E","arcade","color","heading","C","getSymbolLayerSize","setObjectIdVisibility","refreshFilter","reapply","getGraphics3DGraphicByObjectId","setClippingExtent","recreateAllGraphics","M","computedExtent","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","setExtent","F","pause","resume","_updateTask","_frameTask","_queryEngine","_updateRequested","_updateVisibility","_compositedFeatureFilter","_sceneFilter","getFeatureCount","schedule","updateFeatureVisibilities","warn","setAllFeaturesVisibility","FILTER_VISIBILITY","_layerView","registerTask","running","finished","defaultVisibility","_featureFilter","layerFilter","_floorFilter","_timeExtent","timeExtent","intersection","where","clearFeaturesVisibility","runTask","madeProgress","processQueue","fieldTotal","initializeProgram","rctx","shader","configuration","initializePipeline","blending","colorWrite","depthTest","depthWrite","primitiveType","TRIANGLE_STRIP","_colorRampData","Uint8ClampedArray","_heatmapParameters","colorTarget","TEXTURE","depthStencilTarget","NONE","width","height","target","TEXTURE_2D","pixelFormat","internalFormat","dataType","samplingMode","wrapMode","CLAMP_TO_EDGE","_densityMap","D","_quad","RGBA","UNSIGNED_BYTE","LINEAR","_colorRamp","FLOAT","_technique","viewingMode","Local","colorTexture","addHandles","colorRampData","rendererContext","notifyContentChanged","notifyChange","descriptor","resize","setData","hasHighlights","hasWater","rendersOccluded","render","_sortedMaterialRenderers","getBoundFramebufferObject","getViewport","bindFramebuffer","setViewport","COLOR_BUFFER_BIT","getItemAt","material","shouldRender","materialRenderer","output","bindVAO","bindTechnique","bindParameters","drawArrays","Screen","World","ONE","usesHalfFloats","_configuration","requiresSlot","DRAPED_MATERIAL","Color","getConfiguration","parameters","createGLMaterial","intersect","vertexAttributes","data","dist","normal","createBufferWriter","beginSlot","ensureTechnique","vertexBufferLayout","allocate","createBuffer","elementCount","indices","write","position","uv0","setValues","featureAttribute","vec3f","vec2f","f32","k","q","J","N","_renderGeometries","_fieldTotal","_drapeSourceRenderer","_dataType","B","HALF_FLOAT","_pixelFormat","Z","_featureStore","textureFloat","colorBufferFloat","capabilities","textureFloatLinear","textureHalfFloat","textureHalfFloatLinear","floatBlend","floatBufferBlendWorking","driverTest","L","R32F","R16F","warnOnce","NEAREST","RED","$","_renderView","renderingContext","overlayManager","registerDrapeSource","_rendererParameters","_material","_materialWithField","_filterVisibility","_loadedPointGraphics","_setAllFeaturesVisibility","_updateFeatureVisibilities","addOnCollectionChange","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","field","unregisterDrapeSource","qualitySettings","heatmap","maxTotalNumberOfFeatures","maximumTotalNumberOfPrimitives","_isScaleRangeActive","scale","_overlayRenderer","overlays","resolution","_densityMapPixelRatio","_visibleFeatures","missing","pending","_heatmapRenderer","_overlaySpatialReference","_radiusParameter","_densityParameters","_colorRampParameter","_pixelRatioParameter","_resolutionForScaleParameter","radius","_clampSearchRadius","referenceScale","colorStops","sqrt","_stage","renderView","_featuresArePoints","W","instanceParameters","K","centroid","_computeFieldTotalChange","_pointGraphicToRenderGeometry","removeGeometries","addGeometries","requestRender","H","Point","layerUid","graphicUid","boundingSphere","modifyGeometries","VISIBILITIES","test","visibleFeatureCount","controller","SYNC","fullExtentInLocalViewSpatialReference","suspendResumeExtent","_controllerCreated","clippingExtent","_pendingController","queryEngine","isTable","reject","_validateGeometryType","_recreateProcessor","_initializeController","processor","FEATURE_QUERY_ENGINE","_destroyPendingController","graphics3DProcessor","heatmapProcessor","getSymbols","some","getHit","queryFeatures","_ensureQuery","queryFeatureCount","queryExtent","createQuery","createController","_setControllerWhenInitialized","isResolved","beforeSetController","graphics","_getResourceInfo","displayedNumberOfFeatures","totalNumberOfFeatures","serviceDataCount","nodes","_highestResolutionVersion","versions","ref","isReferenced","isSingle","refCount","oldVersion","configurable","newVersion","unref","_recalculateHighestResolutionVersion","_feature","_refCount","fetchStatus","FETCH_NEEDED","_features","_numVertices","_featureLimit","featuresMissing","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_availableFields","_displayingFeatures","alive","filtered","displayingFeatures","extentIncludingBorrowedFeatures","perTileMaximumNumberOfFeaturesExceeded","featureLimit","availableFields","setFeatures","emptyFeatureRatio","hasPreciseFeatureCount","needsFeatureCount","numVertices","estimatedSize","updateMemoryEstimates","estimatedUnusedSize","isFetching","FETCHING","REFETCHING","isRefetching","needsFetching","REFETCH_NEEDED","needsRefetching","isFetched","DONE","FULL","resetFetching","needsDisplayUpdate","intersects","intersectionIncludingBorrowed","_shuffle","sort","reduceFeatures","cache","requestController","_useTileCount","updatingTotal","expectedFeatureDiff","maximumNumberOfFeaturesExceeded","maximumNumberOfFeaturesExceededThrottle","_fullRatio","_farRatio","_changes","updates","adds","removes","_handles","_dirty","_featureTiles","_displayingFeatureReferences","_numDisplayingFeatureReferences","_suspended","_pendingEdits","_get","_maximumFeaturesUpdated","_setDirty","lodFactor","_supportsResolution","refetch","useTileCount","query","memoryForUnusedFeatures","totalVertices","totalFeatures","filterExtent","tilingScheme","_reclip","tileDescriptors","onListenerAdd","_objectIdField","FeatureReferenceClass","supportsMultipleResolutions","FEATURE_TILE_FETCHER","_cancelFetchTile","_removeTile","_paused","restart","_clearTile","_resetFetchTile","memoryCache","suspend","_pause","_unpause","_updated","applyEdits","edits","result","_applyEditsDeleteFeatures","deletedFeatures","_applyEditsAddUpdateFeatures","addedFeatures","updatedFeatures","globalIdField","globalId","errorOncePerTick","_invalidateCounts","_applyEditsAddUpdateTile","_createQuery","resultType","cacheHint","objectIds","_queryFeatures","slice","queryFeaturesDehydrated","timeout","X","initialized","_getListOfTiles","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_displayTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","hasProgressed","pop","loadPriority","_updateRatio","_showTile","_scheduleUpdated","_needsNumFeatures","_fetchTileCount","_handleRequest","_fetchTile","logFetchError","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","debugger","lij","_referenceDisplayingFeaturesFromRelatedTiles","_fetchCount","_getMaxRecordCount","supportsMaxRecordCountFactor","MAX_MAX_RECORD_COUNT_FACTOR","_fetchPagedTile","maxRecordCountFactor","exceededTransferLimit","_removeEmptyFeatures","_createFeatureCountQuery","_setPagingParameters","num","supportsCacheHint","_setResolutionParams","_useTileQuery","supportsPagination","start","_getEffectiveTileResolution","Global","resolutionAtLevel","supportsQuantization","quantizationParameters","mode","originPosition","tolerance","maxAllowableOffset","tileMaxRecordCount","maxRecordCount","supportsResultType","_hideTileFeatures","_hideTile","console","put","storedFeatures","process","getFeatureTileById","forEachFeatureTile","Q","supportsQuantizationEditMode","supportsFormatPBF","_loadingGraphics","_loadedGraphics","_pendingGraphics","_enabled","_tileFetcher","_view","_tilingScheme","_loadedSymbols","outline","_loadingSymbols","_pendingSymbols","_dataExtentSymbol","enabled","_synchronizeMaps","symbols","showDataExtent","_dataExtentGraphic","fromExtent","symbol","ensureMaxLod","getExtentGeometry","center","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","_watchUpdatingTracking","serviceDataExtent","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","_fetchDataInfoPromise","_fetchDataInfoAbortController","_lifeCycleAbortController","featureTiles","hasMaximumNumberOfFeaturesOverride","_isOverridden","infoFor3D","graphics3D","snapshotAvailable","_approximateExtentSizeAtScale","MAX_SNAPSHOT_MIN_SCALE_FACTOR","maxTotalSnapshotVertices","pixelSize","levels","tileSize","tiles","fetchDataInfoPromise","tileFetcher","vertexLimitInfo","_updateVertexLimitExceeded","_modeChanged","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","_cancelFetchServiceDataInfo","_tilesHandle","createQueryVersion","_dataFilterChanged","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","on","_applyEdits","FEATURE_TILE_FETCH_SHOW_TILES","toTileInfo","_supportsExceedsLimitQuery","addClient","_updateServiceDataExtent","_createVertexLimitExceededQuery","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","_createDataInfoQuery","_fullExtentIsAccurate","definitionExpression","url","_tryUpdateServiceDataExtent","supportsExtent","MAX_FEATURE_COUNT_FOR_EXTENT","QUERY_EXTENT_TIMEOUT","QUERY_STATISTICS_TIMEOUT","ok","averageSymbolComplexity","primitivesPerCoordinate","primitivesPerFeature","operations","supportsExceedsLimitStatistics","_minimumNumberOfVerticesForGeometry","exceedslimit","_updateServiceDataCount","debug","Number","dependsOn","reset"],"mappings":"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","file":"static/js/3.8cd278f7.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{PooledRBush as i}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as s}from\"../../../geometry/support/aaBoundingRect.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i(9,has(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=s();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{o as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";class u{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}toArray(){return Array.from(this._featuresById.values())}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const n=this._featuresById.get(i);let h;if(this._markedIds.add(i),n?(t.displayId=n.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=a(s(h)?h:d(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{someSet as s}from\"../../../core/SetUtils.js\";class r extends e{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return s(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push(\"NaN\"):n===1/0?s.push(\"Infinity\"):n===-1/0?s.push(\"-Infinity\"):0===n?s.push(\"0\"):s.push(n.toString(16));this.update(h(s.join(\"\")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r+0]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t+0]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}export{i as XXH};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{isNone as e}from\"../../../../core/maybe.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{makeDehydratedPoint as t}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as n}from\"./elevationAlignmentUtils.js\";import{ElevationContext as i}from\"./ElevationContext.js\";import{extractExpressionInfo as a,createContext as p}from\"./featureExpressionInfoUtils.js\";import f from\"../../../../geometry/SpatialReference.js\";async function m(t,n,i,f,m){const{elevationProvider:j,renderCoordsHelper:u,spatialReference:y}=t,{elevationInfo:v}=n,I=a(v,!0),g=await p(I,y,m);o(m);const x=[],h=new Set,w=new Set;for(const{objectId:o,points:a}of f){const p=i(o);if(e(p)){for(const e of a)x.push(e[2]);h.add(o);continue}p.isDraped&&w.add(o);const f=p.graphic.geometry;c.setFromElevationInfo(r(f,v)),c.updateFeatureExpressionInfoContext(g,p.graphic,n),l.spatialReference=t.spatialReference;for(const{x:e,y:o,z:t}of a)l.x=e,l.y=o,l.z=t??0,s(l,j,c,u,d),x.push(d.z)}return{elevations:x,drapedObjectIds:w,failedObjectIds:h}}const c=new i,l=t(0,0,0,f.WGS84),d=new n;export{m as elevationAlignPointsInFeatures};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Extent.js\";import{QueryEngine as o}from\"../../../../layers/graphics/data/QueryEngine.js\";import i from\"../../../../rest/support/FeatureSet.js\";import u from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let p=class extends t{constructor(e){super(e),this._dataQueryEngineInstance=null}get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new u({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:a.fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=i.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=i.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let s=this.defaultQueryJSON;if(r(e)&&(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),s=e.toJSON()),r(t)){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));s={...s,sceneFilter:{...t,geometry:e}}}return s}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,t=this.layer.objectIdField,r=y.toJSON(this._queryGeometryType),s=this.layer.fields.map((e=>e.toJSON())),n=this.priority,a=this.spatialReference.toJSON(),{hasZ:o,hasM:i,featureStore:u,scheduler:p}=this.context;return this._dataQueryEngineInstance=new c({hasZ:o,hasM:i,geometryType:r,fields:s,timeInfo:e,spatialReference:a,objectIdField:t,featureStore:u,scheduler:p,priority:n}),this._dataQueryEngineInstance}};e([s({constructOnly:!0})],p.prototype,\"context\",void 0),e([s({constructOnly:!0})],p.prototype,\"priority\",void 0),e([s()],p.prototype,\"layer\",null),e([s()],p.prototype,\"spatialReference\",null),e([s()],p.prototype,\"_queryGeometryType\",null),e([s()],p.prototype,\"defaultQueryJSON\",null),p=e([n(\"esri.views.3d.layers.graphics.QueryEngine\")],p);export{p as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import{loadArcade as t}from\"../../../../support/arcadeOnDemand.js\";async function a(a,o,i){if(e(a)||0===o.candidates.length)return s;const c=a.graphics3DGraphicsByObjectID??a.graphics3DGraphics,p=[],d=[],{renderer:u}=a,g=n(u)&&\"arcadeRequired\"in u&&u.arcadeRequired?t():null,l=async(n,{graphic:r,graphics3DSymbol:t})=>{const s=await g,o=await a.getRenderingInfoAsync(r,u,s,{signal:i});return e(o)?[]:t.queryForSnapping(n,f,o,i)},{candidates:h,spatialReference:f}=o;for(let n=0;n<h.length;++n){const r=h[n],{objectId:t}=r,a=\"number\"==typeof t?c.get(t):void 0;if(e(a))continue;const{graphics3DSymbol:s}=a;s.symbologySnappingSupported&&(p.push(l(r,a)),d.push(n))}if(0===p.length)return s;const m=await Promise.all(p);r(i);const y=[],b=[];for(let e=0;e<m.length;++e){const n=m[e],r=d[e];for(const e of n)y.push(e),b.push(r)}return{candidates:y,sourceCandidateIndices:b}}const s={candidates:[],sourceCandidateIndices:[]};export{a as queryForSymbologySnapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{DiscardOrAdjustAlphaBlend as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";function t(t){const a=new o;a.include(e),a.include(r);const{usesHalfFloat:d}=t;return a.fragment.uniforms.add([new n(\"densityMap\",(e=>e.densityMap)),new n(\"tex\",(e=>e.colorRamp)),new i(\"densityNormalizer\",(e=>1/(e.maxDensity-e.minDensity))),new i(\"minDensity\",(e=>e.minDensity))]),a.fragment.uniforms.add(new i(\"densityMultiplier\",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)))),d&&a.constants.add(\"compressionFactor\",\"float\",4),a.fragment.code.add(s`\n    void main() {\n      float density = texture2D(densityMap, uv).r * densityMultiplier${d?s` * compressionFactor`:\"\"};\n      float densityRatio = (density - minDensity) * densityNormalizer;\n\n      vec4 color = texture2D(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));\n\n      discardOrAdjustAlpha(color);\n      gl_FragColor = color;\n    }\n  `),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{a as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as t}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function a(a){const s=new r,{vertex:d,fragment:u}=s;e(d,a);const{isAttributeDriven:n,usesHalfFloat:l}=a;return s.attributes.add(t.POSITION,\"vec3\"),s.attributes.add(t.UV0,\"vec2\"),n&&(s.attributes.add(t.FEATUREATTRIBUTE,\"float\"),s.varyings.add(\"attributeValue\",\"float\")),l&&s.constants.add(\"compressionFactor\",\"float\",.25),s.varyings.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]))),d.code.add(o`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${t.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${n?o`attributeValue = ${t.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),u.code.add(o`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${n?o` * attributeValue`:\"\"} ${l?o` * compressionFactor`:\"\"};\n      gl_FragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{s as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{XXH as i}from\"../../../../arcade/functions/hash.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyMaybe as n,isSome as a,isNone as o,unwrap as l}from\"../../../../core/maybe.js\";import{logOnError as p}from\"../../../../core/promiseUtils.js\";import{watch as u,initial as d,when as h}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as y}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as g,project as b}from\"../../../../geometry/support/webMercatorUtils.js\";import{matchRandomRotationExpression as f}from\"../../../../renderers/support/randomRotationExpression.js\";import{getRenderingInfo as E,getRenderingInfoAsync as C}from\"../../../../renderers/support/renderingInfoUtils.js\";import x from\"../../../../rest/support/Query.js\";import{DrapeSourceType as v}from\"../interfaces.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as w}from\"./constants.js\";import{Graphics3DCore as V}from\"./Graphics3DCore.js\";import S from\"./Graphics3DElevationAlignment.js\";import j from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as R}from\"./Graphics3DObjectStates.js\";import O from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as I}from\"./graphicUtils.js\";import{attributeLookup as G}from\"../support/attributeUtils.js\";import{FeatureVisibilityFilter as _}from\"../support/FeatureVisibilityFilter.js\";import{UpdatePolicy as A,Object3DState as P}from\"../../webgl-engine/lib/basicInterfaces.js\";let U=class extends r{constructor(e){super(e),this.type=\"graphics-3d\",this._randomRotationRenderers=null,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=v.Features,this.preferredUpdatePolicy=A.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,i=new V({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new S({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new O({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _({context:{layerView:e,...t}}):null,objectStates:e=>new R(e)}});this._set(\"graphicsCore\",i),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new j({graphicsCoreOwner:this})),this.elevationAlignment&&this.updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{y(e,t)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this.updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this.updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{y(e,t)&&this.graphicsCore.updateLabelingInfo()})),this.updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set(\"initializePromise\",this._initializeAsync()),this.updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await p(this.graphicsCore.initializePromise);const e=this.owner;this.updatingHandles.add((()=>this.renderer),(e=>this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this.updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this.updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await p(this.graphicsCore.updateLabelingInfo())}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"frustumVisibility\",n(this.frustumVisibility)),this._set(\"graphicsCore\",n(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>\"rotation\"===e.type&&null!=e.valueExpression&&f(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType));if(i<0)return e;const s=e.clone();return s.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(s,t),s}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get suspendResumeExtentMode(){return\"suspendResumeExtentMode\"in this.owner?this.owner.suspendResumeExtentMode:\"computed\"}get scaleVisibilitySuspended(){return a(this.scaleVisibility)&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return o(this.frustumVisibility)||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),a(this.frustumVisibility)&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||a(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles?.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.resourceController.memoryController.memoryFactor,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e),s=Math.ceil(t.maximumTotalNumberOfFeatures*e),r=Math.ceil(t.minimumTotalNumberOfFeatures*e);return{...t,maximumNumberOfFeatures:i,maximumTotalNumberOfFeatures:s,minimumTotalNumberOfFeatures:r}}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:o(this.frustumVisibility)||!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibilitySuspended}}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(P.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof x){const{set:t,handle:s}=this.objectStates.acquireSet(P.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if(\"number\"==typeof e||\"string\"==typeof e)return this.highlight([e],i);if(e instanceof t)return this.highlight([e],i);if(\"toArray\"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof t){const t=e;if(null==G(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(P.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>G(this.layer.fieldsIndex,e.attributes,i)))}if(\"number\"==typeof e[0]||\"string\"==typeof e[0]){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(P.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return T}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,s){const r=E(e,{renderer:t,arcade:s});if(a(r)&&r.color){const e=r.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(a(r)&&a(t)&&this._randomRotationRenderers?.has(t)){const s=this._randomRotationRenderers.get(t),n=e.attributes[s],a=new i(0);a.updateFloatArray([n]),a.updateUint8Array([173]),r.heading=8.381e-8*a.digest()}return r}getRenderingInfoAsync(e,t,i,s){return C(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){a(this.filterVisibility)&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.handles.add(u((()=>this.suspendResumeExtentMode),(()=>{switch(this.handles.remove(M),this.suspendResumeExtentMode){case\"computed\":this.handles.add([u((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],M);break;case\"data\":this.handles.add([h((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(l(this.dataExtent))))],M);break;default:s(this.suspendResumeExtentMode)}}),d))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!g(e,i))return;e=b(e,i)}return I(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){a(this.frustumVisibility)&&this.frustumVisibility.setExtent(e),a(this.scaleVisibility)&&this.scaleVisibility.setExtent(e)}};e([c()],U.prototype,\"type\",void 0),e([c({constructOnly:!0})],U.prototype,\"owner\",void 0),e([c()],U.prototype,\"layer\",null),e([c()],U.prototype,\"renderer\",null),e([c({constructOnly:!0})],U.prototype,\"updateClippingExtent\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"graphicsCore\",void 0),e([c({constructOnly:!0})],U.prototype,\"scaleVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"filterVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"frustumVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationAlignmentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"timeExtentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"setUidToIdOnAdd\",void 0),e([c()],U.prototype,\"scaleVisibility\",null),e([c()],U.prototype,\"filterVisibility\",null),e([c()],U.prototype,\"elevationAlignment\",null),e([c({constructOnly:!0})],U.prototype,\"frustumVisibility\",void 0),e([c()],U.prototype,\"objectStates\",null),e([c()],U.prototype,\"initializePromise\",void 0),e([c()],U.prototype,\"suspendResumeExtentMode\",null),e([c()],U.prototype,\"dataExtent\",void 0),e([c()],U.prototype,\"scaleVisibilitySuspended\",null),e([c()],U.prototype,\"suspended\",null),e([c()],U.prototype,\"legendEnabled\",null),e([c()],U.prototype,\"suspendInfo\",null),e([c()],U.prototype,\"updating\",null),e([c()],U.prototype,\"updatingRemaining\",null),e([c()],U.prototype,\"featureStore\",null),e([c()],U.prototype,\"view\",null),e([c()],U.prototype,\"loadedGraphics\",null),e([c()],U.prototype,\"fullOpacity\",null),e([c()],U.prototype,\"filter\",null),e([c()],U.prototype,\"slicePlaneEnabled\",null),e([c()],U.prototype,\"drapeSourceType\",void 0),e([c()],U.prototype,\"updatePolicy\",null),e([c()],U.prototype,\"preferredUpdatePolicy\",void 0),e([c()],U.prototype,\"displayFeatureLimit\",null),U=e([m(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],U);const F=U,M=\"suspendResumeExtentMode\",T={remove(){},pause(){},resume(){}};export{F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isNone as s,abortMaybe as a,removeMaybe as l,destroyMaybe as o,isSome as u}from\"../../../../core/maybe.js\";import{throwIfAbortError as n}from\"../../../../core/promiseUtils.js\";import{initial as p}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import _ from\"../../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as d}from\"../../../../layers/support/floorFilterUtils.js\";import{QueryEngine as y}from\"../graphics/QueryEngine.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";let f=class extends r{constructor(e){super(e),this._updateTask=null,this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updateVisibility=async e=>{if(s(this._compositedFeatureFilter)&&s(this._sceneFilter)||0===this.context.getFeatureCount())return this._frameTask.schedule((()=>this.clear()),e);try{const t=await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter,this._sceneFilter,e);return this._frameTask.schedule((()=>{this.context.updateFeatureVisibilities((e=>t.has(e)))}),e)}catch(t){return n(t),i.getLogger(this.declaredClass).warn(`FeatureFilter query failed: ${t}`,{error:t}),this._frameTask.schedule((()=>{this.context.setAllFeaturesVisibility(!0)}),e)}}}initialize(){const e=m.FILTER_VISIBILITY,{layer:t,view:r}=this._layerView,{featureStore:i}=this.context,s=\"hasZ\"in this._layerView&&this._layerView.hasZ,a=\"hasM\"in this._layerView&&this._layerView.hasM;this._queryEngine=new y({context:{spatialReference:r.spatialReference,layer:t,scheduler:r.resourceController.scheduler,featureStore:i,hasM:a,hasZ:s},priority:e}),this._frameTask=this._layerView.view.resourceController.scheduler.registerTask(e,this),this.updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this.reapply()),p)}destroy(){this._updateRequested=!1,this.handles.removeAll(),this.updatingHandles.removeAll(),this.clear(),this._updateTask=a(this._updateTask),this._frameTask=l(this._frameTask),this._queryEngine=o(this._queryEngine),this._set(\"context\",null)}get updating(){return this.running||this.updatingHandles.updating||u(this._updateTask)&&!this._updateTask.finished}get running(){return this._updateRequested||this._frameTask.updating}get defaultVisibility(){return s(this._compositedFeatureFilter)&&s(this._sceneFilter)}get _featureFilter(){return\"filter\"in this._layerView?this._layerView.filter:null}get _sceneFilter(){return\"layerFilter\"in this._layerView?this._layerView.layerFilter:null}get _floorFilter(){return d(this._layerView)}get _timeExtent(){return\"timeExtent\"in this._layerView?this._layerView.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_timeExtent:t,_floorFilter:r}=this;if(s(t)&&s(r))return e;const i=u(e)?e.clone():new _;if(u(t)&&(i.timeExtent=u(i.timeExtent)?i.timeExtent.intersection(t):t),u(r)){const e=s(i.where)||\"\"===i.where;i.where=e?r:`(${i.where}) AND (${r})`}return i}get _layerView(){return this.context.layerView}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}runTask(e){this._updateRequested&&(this._updateTask=a(this._updateTask),this._updateTask=t(this._updateVisibility),this._updateRequested=!1,e.madeProgress()),this._frameTask.processQueue(e)}};e([h({constructOnly:!0})],f.prototype,\"context\",void 0),e([h()],f.prototype,\"updating\",null),e([h()],f.prototype,\"running\",null),e([h()],f.prototype,\"defaultVisibility\",null),e([h()],f.prototype,\"_featureFilter\",null),e([h()],f.prototype,\"_sceneFilter\",null),e([h()],f.prototype,\"_floorFilter\",null),e([h()],f.prototype,\"_timeExtent\",null),e([h()],f.prototype,\"_compositedFeatureFilter\",null),e([h()],f.prototype,\"_layerView\",null),e([h()],f.prototype,\"_updateTask\",void 0),e([h()],f.prototype,\"_updateRequested\",void 0),f=e([c(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")],f);export{f as FeatureVisibilityFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as n}from\"../lib/OrderIndependentTransparency.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as m}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as u}from\"../../../webgl/enums.js\";import{makePipelineState as p,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class h extends r{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class d extends s{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new a(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return p({blending:n,colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return u.TRIANGLE_STRIP}}d.shader=new t(m,(()=>import(\"./Heatmap.glsl.js\")));class f extends l{constructor(){super(...arguments),this.usesHalfFloat=!1}}e([i()],f.prototype,\"usesHalfFloat\",void 0);export{h as HeatmapPassParameters,d as HeatmapTechnique,f as HeatmapTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{releaseMaybe as e,disposeMaybe as r,isSome as a}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as h}from\"../../../ViewingMode.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as m}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as p,HeatmapTechniqueConfiguration as l,HeatmapTechnique as c}from\"../shaders/HeatmapTechnique.js\";import{TargetType as d,DepthStencilTargetType as u,TextureType as y,TextureWrapMode as _,PixelFormat as g,PixelType as R,TextureSamplingMode as f,ClearBufferBit as x}from\"../../../webgl/enums.js\";import{FramebufferObject as D}from\"../../../webgl/FramebufferObject.js\";import{Texture as T}from\"../../../webgl/Texture.js\";import{vertexCount as w}from\"../../../webgl/Util.js\";let b=class extends m{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new p}initialize(){const t={colorTarget:d.TEXTURE,depthStencilTarget:u.NONE,width:0,height:0},e={target:y.TEXTURE_2D,pixelFormat:this.pixelFormat,internalFormat:this.internalFormat,dataType:this.dataType,samplingMode:this.samplingMode,wrapMode:_.CLAMP_TO_EDGE,width:0,height:0};this._densityMap=new D(this.rctx,t,e),this._quad=n(this.rctx);const r=this._colorRampData,a={target:y.TEXTURE_2D,pixelFormat:g.RGBA,dataType:R.UNSIGNED_BYTE,samplingMode:f.LINEAR,wrapMode:_.CLAMP_TO_EDGE,width:r.length/4,height:1};this._colorRamp=new T(this.rctx,a,r);const s=new l;s.usesHalfFloat=this.dataType!==R.FLOAT,this._technique=new c({rctx:this.rctx,viewingMode:h.Local},s),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles(i((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=e(this._technique),this._densityMap=r(this._densityMap),this._quad=r(this._quad),this._colorRamp=r(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(a(e)&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccluded(){return!1}render(t,e){const r=this._sortedMaterialRenderers,a=r.length;if(a<1)return;const i=this.rctx.getBoundFramebufferObject(),s=this.rctx.getViewport(),{pixelRatio:o}=this,h=Math.ceil(s.width*o),n=Math.ceil(s.height*o);this._densityMap.resize(h,n),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,h,n),this.rctx.clear(x.COLOR_BUFFER_BIT);let m=!1;for(let p=0;p<a;p++){const a=r.getItemAt(p);a.material.shouldRender(t)&&(m=m||a.materialRenderer.render(t.output,e))}this.rctx.bindFramebuffer(i),this.rctx.setViewport(s.x,s.y,s.width,s.height),m&&(this.rctx.bindVAO(this._quad),this.rctx.bindTechnique(this._technique,this._heatmapParameters,t.bindParameters),this.rctx.drawArrays(this._technique.primitiveType,0,w(this._quad,\"geometry\")))}};t([s()],b.prototype,\"searchRadius\",null),t([s()],b.prototype,\"minDensity\",null),t([s()],b.prototype,\"maxDensity\",null),t([s()],b.prototype,\"fieldTotal\",null),t([s()],b.prototype,\"pixelRatio\",void 0),t([s()],b.prototype,\"colorRampData\",null),t([s({constructOnly:!0})],b.prototype,\"dataType\",void 0),t([s({constructOnly:!0})],b.prototype,\"samplingMode\",void 0),t([s({constructOnly:!0})],b.prototype,\"pixelFormat\",void 0),t([s({constructOnly:!0})],b.prototype,\"internalFormat\",void 0),t([s()],b.prototype,\"_colorRampData\",void 0),b=t([o(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],b);export{b as DrapedHeatmapRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{MaterialParameters as s}from\"../lib/Material.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as n}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as l}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{BlendOperation as u,BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as d,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";var h;!function(e){e[e.Screen=0]=\"Screen\",e[e.World=1]=\"World\"}(h||(h={}));class f extends s{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class b extends t{initializeProgram(e){return new a(e.rctx,b.shader.get().build(this.configuration),o)}initializePipeline(){return c({blending:d(m.ONE,m.ONE,u.ADD),colorWrite:p,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}b.shader=new r(l,(()=>import(\"./HeatmapDensity.glsl.js\")));class j extends n{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}e([i()],j.prototype,\"isAttributeDriven\",void 0),e([i()],j.prototype,\"usesHalfFloat\",void 0);export{f as HeatmapDensityPassParameters,b as HeatmapDensityTechnique,j as HeatmapDensityTechniqueConfiguration,h as RadiusMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{s as e,k as r}from\"../../../../chunks/vec2.js\";import{a as s}from\"../../../../chunks/vec2f64.js\";import{isVec2 as i}from\"../../../../core/libs/gl-matrix-2/types/vec2.js\";import{newLayout as o}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as a}from\"../core/shaderLibrary/ShaderOutput.js\";import n from\"../lib/GLMaterial.js\";import{Material as u}from\"../lib/Material.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{writePosition as f,writeBufferFloat as m}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as p,HeatmapDensityTechniqueConfiguration as h,HeatmapDensityTechnique as d}from\"../shaders/HeatmapDensityTechnique.js\";export{RadiusMode}from\"../shaders/HeatmapDensityTechnique.js\";const T=2;class b extends p{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class A extends u{constructor(t){super(t,new b),this._configuration=new h}requiresSlot(t,e){return t===c.DRAPED_MATERIAL&&e===a.Color}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new g(t)}intersect(s,o,a,n,u,c,f,m,p){if(t(p)||!i(c))return;const h=s.vertexAttributes.get(l.POSITION),{parameters:d}=this,{searchRadius:b}=d,{screenToWorldRatio:A}=s,g=b*A+T*A,I=g*g,v=h.data.length/h.size;for(let t=0;t<v;t++){const s=t*h.size,i=e(R,h.data[s],h.data[s+1]);r(i,c)<I&&f(p.dist,p.normal,-1,!1)}}createBufferWriter(){return new I(this.parameters.isAttributeDriven?j:v)}}class g extends n{beginSlot(t){return this.ensureTechnique(d,t)}}class I{constructor(t){this.vertexBufferLayout=t}allocate(t){return this.vertexBufferLayout.createBuffer(t)}elementCount(t){return t.indices.get(l.POSITION).length*O}write(t,e,r,s,i){f(r.indices.get(l.POSITION),r.vertexAttributes.get(l.POSITION).data,t,s.position,i,O);const o=r.indices.get(l.POSITION).length,a=s.uv0;let n=i;for(let c=0;c<o;++c)a.setValues(n++,-1,-1),a.setValues(n++,1,-1),a.setValues(n++,1,1),a.setValues(n++,1,1),a.setValues(n++,-1,1),a.setValues(n++,-1,-1);const u=\"featureAttribute\"in s?s.featureAttribute:null;u&&m(r.indices.get(l.FEATUREATTRIBUTE),r.vertexAttributes.get(l.FEATUREATTRIBUTE).data,u,i,O)}}const v=o().vec3f(l.POSITION).vec2f(l.UV0),j=v.clone().f32(l.FEATUREATTRIBUTE),O=6;function x(t){return t instanceof A}const R=s();export{A as HeatmapDensityMaterial,b as HeatmapDensityMaterialParameters,x as isHeatMapDensityMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as t,estimateFixedArraySize as r,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import{HandleOwner as a}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import o from\"../../../../core/Logger.js\";import{isSome as n,disposeMaybe as l,isNone as p,unwrap as d,applySome as m,mapSome as u}from\"../../../../core/maybe.js\";import{initial as h,sync as c,watch as y}from\"../../../../core/reactiveUtils.js\";import{pt2px as _}from\"../../../../core/screenUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as F}from\"../../../../chunks/vec3.js\";import{c as R}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as b}from\"../../../../geometry/projection.js\";import{getResolutionForScale as v}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as S}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as P}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as w}from\"../../../../layers/graphics/OptimizedFeature.js\";import j from\"../../../../layers/graphics/OptimizedGeometry.js\";import T from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as V}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as x}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as G}from\"../interfaces.js\";import{FeatureVisibilityFilter as I}from\"./FeatureVisibilityFilter.js\";import{DRAPED_Z as M}from\"../../terrain/OverlayRenderer.js\";import{UpdatePolicy as N,PrimitiveType as O}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DrapedHeatmapRenderer as A}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as E}from\"../../webgl-engine/lib/Geometry.js\";import{DirtyOperation as U,DirtyState as C}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as H}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as D}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as L}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";import{scaleBoundsPredicate as z,isScaleRangeActive as W}from\"../../../support/layerViewUtils.js\";import{PixelType as B,PixelFormat as Z}from\"../../../webgl/enums.js\";import{loadHeatmapTextureConfiguration as $}from\"../../../webgl/heatmapTextureUtils.js\";const k=\"esri.views.3d.layers.support.HeatmapFeatureProcessor\",q=o.getLogger(k),Y=112;let J=class extends a{constructor(e){super(e),this.type=\"heatmap\",this.preferredUpdatePolicy=N.ASYNC,this.dataExtent=null,this.drapeSourceType=G.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=B.HALF_FLOAT,this._pixelFormat=Z.RGBA,this.initializePromise=Promise.resolve()}initialize(){this._featureStore=new T({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}=$(this._renderView.renderingContext,q);this._dataType=e,this._pixelFormat=r;const a=e!==B.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,A,{...this._rendererParameters,dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}),this._material=new L({usesHalfFloats:a}),this._materialWithField=new L({usesHalfFloats:a,isAttributeDriven:!0}),this._filterVisibility=new I({context:{layerView:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),h),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),h),this.updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),c),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(n(e)&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),h),this.handles.add([y((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&q.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),y((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{n(e)&&!t&&q.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),s((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=l(this._material),this._materialWithField=l(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:r,maximumTotalNumberOfPrimitives:r*2,maximumNumberOfFeatures:r}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!z(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===Z.RED?1:4,r=this._dataType===B.FLOAT?4:2,i=Math.ceil(this._overlayRenderer?.overlays[0]?.resolution*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(p(e))return 0;const a=t(e),s=i(),o=6;return o*r([0,0,0],s)+o*r([0,0],s)+(this._heatmapRendererFieldIsNumeric?o*s:0)+a}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._visibleFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return d(this._overlayRenderer.spatialReference)}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(p(e))return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){return m(this._heatmapRenderer,(({radius:e})=>({searchRadius:_(this._clampSearchRadius(e))})))}get _resolutionForScaleParameter(){return m(this._heatmapRenderer,(({referenceScale:e})=>({resolutionForScale:0===e?0:v(e,this.view.spatialReference)})))}get _colorRampParameter(){return m(this._heatmapRenderer,(e=>({colorRampData:x(e.colorStops)})))}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1;return(this.owner?.view?.qualitySettings.heatmap.pixelRatio??1)*Math.sqrt(e)}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return m(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return m(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!p(e)&&V(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!(\"effectiveScaleRange\"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return W(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.instanceParameters.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return K}maskOccludee(){return K}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>S(e,t)))),this._featureStore.addMany(e.added.map((e=>{const r=new w(P(new j,e.geometry),e.attributes,m(e.centroid,(e=>P(new j,e))),S(e,t));return r.displayId=e.uid,r})));const r=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(r,i);const a=u(i,(({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})),s=r.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));a.length>0&&this._drapeSourceRenderer.removeGeometries(a,U.REMOVE),s.length>0&&this._drapeSourceRenderer.addGeometries(s,U.ADD),(s.length>0||a.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=n(t)?this._materialWithField:this._material,i=R();b(e.geometry,i,this._overlaySpatialReference),i[2]=M;const a=[[D.POSITION,{data:i,size:i.length}]],s=this._heatmapRendererFieldIsNumeric;n(t)&&a.push([D.FEATUREATTRIBUTE,{data:[s?e.attributes[t]??0:0],size:1}]);const o=new H(new E(a,null,O.Point),r,{layerUid:this.layer.uid,graphicUid:e.uid});return F(o.boundingSphere,i),o.instanceParameters.visible=this.filterVisibility.defaultVisibility,o}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(p(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>Y&&q.warnOnce(`SceneView supports a maximum radius of ${Y} pt for HeatmapRenderer.`),Math.min(e,Y)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s.instanceParameters.visible!==a&&(t.push(s),s.instanceParameters.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,C.VISIBILITIES)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.instanceParameters.visible!==e&&(t.push(r),r.instanceParameters.visible=e);this._drapeSourceRenderer.modifyGeometries(t,C.VISIBILITIES)}get test(){return{visibleFeatureCount:this._visibleFeatures}}};e([f()],J.prototype,\"type\",void 0),e([f({constructOnly:!0})],J.prototype,\"owner\",void 0),e([f()],J.prototype,\"layer\",null),e([f()],J.prototype,\"featureStore\",null),e([f()],J.prototype,\"updating\",null),e([f()],J.prototype,\"updatingRemaining\",null),e([f()],J.prototype,\"suspendInfo\",null),e([f()],J.prototype,\"legendEnabled\",null),e([f()],J.prototype,\"filterVisibility\",null),e([f()],J.prototype,\"displayFeatureLimit\",null),e([f()],J.prototype,\"preferredUpdatePolicy\",void 0),e([f()],J.prototype,\"hasZ\",null),e([f()],J.prototype,\"hasM\",null),e([f()],J.prototype,\"dataExtent\",void 0),e([f()],J.prototype,\"view\",null),e([f()],J.prototype,\"fullOpacity\",null),e([f()],J.prototype,\"updatePolicy\",null),e([f()],J.prototype,\"drapeSourceType\",void 0),e([f()],J.prototype,\"scaleVisibilitySuspended\",null),e([f()],J.prototype,\"renderer\",null),e([f()],J.prototype,\"_featureStore\",void 0),e([f()],J.prototype,\"_filterVisibility\",void 0),e([f()],J.prototype,\"_overlayRenderer\",null),e([f()],J.prototype,\"_overlaySpatialReference\",null),e([f()],J.prototype,\"_rendererParameters\",null),e([f()],J.prototype,\"_materialParameters\",null),e([f()],J.prototype,\"_densityParameters\",null),e([f()],J.prototype,\"_radiusParameter\",null),e([f()],J.prototype,\"_resolutionForScaleParameter\",null),e([f()],J.prototype,\"_colorRampParameter\",null),e([f()],J.prototype,\"_pixelRatioParameter\",null),e([f()],J.prototype,\"_densityMapPixelRatio\",null),e([f()],J.prototype,\"_renderGeometries\",void 0),e([f()],J.prototype,\"_material\",void 0),e([f()],J.prototype,\"_materialWithField\",void 0),e([f()],J.prototype,\"_renderView\",null),e([f()],J.prototype,\"_featuresArePoints\",null),e([f()],J.prototype,\"_loadedPointGraphics\",null),e([f()],J.prototype,\"_heatmapRenderer\",null),e([f()],J.prototype,\"_heatmapRendererFieldName\",null),e([f()],J.prototype,\"_heatmapRendererField\",null),e([f()],J.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([f()],J.prototype,\"_fieldTotal\",void 0),e([f()],J.prototype,\"_drapeSourceRenderer\",void 0),e([f()],J.prototype,\"_isScaleRangeActive\",null),J=e([g(k)],J);const K=s();export{J as HeatmapFeatureProcessor,Y as MAX_RADIUS_PT};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{unwrapOrThrow as t}from\"../../core/maybe.js\";import{PixelType as r,TextureSamplingMode as a,PixelFormat as o,SizedPixelFormat as l}from\"./enums.js\";function n(n,i){const{textureFloat:f,colorBufferFloat:s}=n.capabilities,u=f?.textureFloat,m=f?.textureFloatLinear,_=f?.textureHalfFloat,p=f?.textureHalfFloatLinear,d=f?.HALF_FLOAT,x=s?.textureFloat,b=s?.textureHalfFloat,c=s?.floatBlend,{floatBufferBlendWorking:h}=t(n.driverTest);if(!u&&!_)throw new e(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.\");if(!x&&!b)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(c&&h||b))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(h?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const E=u&&x&&c&&h,F=_&&b,R=m,L=p,T=!!s?.R32F,w=!!s?.R16F;if(E&&(R||!L))return R||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),{dataType:r.FLOAT,samplingMode:R?a.LINEAR:a.NEAREST,pixelFormat:T?o.RED:o.RGBA,internalFormat:T?l.R32F:o.RGBA};if(F)return L||i.warnOnce(\"Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced.\"),{dataType:d,samplingMode:L?a.LINEAR:a.NEAREST,pixelFormat:w?o.RED:o.RGBA,internalFormat:w?l.R16F:o.RGBA};throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}export{n as loadHeatmapTextureConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,isNone as s,get as i}from\"../../../core/maybe.js\";import{initial as o,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import u from\"../../../rest/support/Query.js\";import{symbolHasExtrudeSymbolLayer as h}from\"../../../symbols/support/utils.js\";import{elevationAlignPointsInFeatures as d}from\"./graphics/elevationAlignPointsInFeatures.js\";import y from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as g}from\"./graphics/QueryEngine.js\";import{queryForSymbologySnapping as m}from\"./graphics/queryForSymbologySnapping.js\";import{HeatmapFeatureProcessor as f}from\"./support/HeatmapFeatureProcessor.js\";import{toViewIfLocal as b}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as E}from\"../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as v}from\"../../support/Scheduler.js\";const w=w=>{let _=class extends w{constructor(){super(...arguments),this.controller=null,this.updatePolicy=E.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.clippingExtent=null,this.supportsHeightUnitConversion=!0,this._pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;if(\"isTable\"in e&&e.isTable)return void this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e})));this.addResolvingPromise(this._validateGeometryType()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),o),this.addResolvingPromise((async()=>{const e=await b(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const t=()=>this.processor.featureStore;this.queryEngine=new g({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return t()},hasZ:this.hasZ,hasM:this.hasM},priority:v.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\")}destroy(){this._destroyPendingController(),this.controller=t(this.controller),this._set(\"processor\",t(this.processor)),this.queryEngine=t(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=t(this._pendingController)}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}get symbologySnappingSupported(){const e=this.layer?.renderer?.getSymbols();return e?.some(h)??!1}getHit(e){let r=null;return this.loadedGraphics?.forEach((t=>{t.uid===e&&(r=p(t,this.layer))})),r?{type:\"graphic\",graphic:r,layer:r.layer}:null}whenGraphicBounds(e,r){return this.processor?.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}async elevationAlignPointsInFeatures(e,t){const i=this.graphics3DProcessor;if(s(i))throw new r(\"featurelayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return d(this.view,this.layer,(e=>i.getGraphics3DGraphicByObjectId(e)),e,t)}async queryForSymbologySnapping(e,r){return this.symbologySnappingSupported?m(this.graphics3DProcessor,e,r):{candidates:[],sourceCandidateIndices:[]}}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),i(r,\"signal\"))}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),i(r,\"signal\"))}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),i(r,\"signal\"))}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),i(r,\"signal\"))}_ensureQuery(e){return s(e)?this.createQuery():u.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this._pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new r(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const r=\"heatmap\"===e?.type,t=\"heatmap\"===this.processor?.type,s=this.processor;if(s&&r===t)return;const i=r?new f({owner:this}):new y({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",i),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(i.initializePromise)}_getResourceInfo(){const e=this.controller instanceof c?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:e?.maximumNumberOfFeatures??-1,totalNumberOfFeatures:e?.serviceDataCount??-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return e([a()],_.prototype,\"loadedGraphics\",void 0),e([a()],_.prototype,\"suspended\",void 0),e([a({readOnly:!0})],_.prototype,\"legendEnabled\",null),e([a()],_.prototype,\"updating\",void 0),e([a()],_.prototype,\"controller\",void 0),e([a()],_.prototype,\"processor\",void 0),e([a({readOnly:!0})],_.prototype,\"updatePolicy\",void 0),e([a({readOnly:!0})],_.prototype,\"suspendResumeExtentMode\",void 0),e([a({type:Boolean})],_.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],_.prototype,\"suspendInfo\",void 0),e([a()],_.prototype,\"graphics3DProcessor\",null),e([a()],_.prototype,\"heatmapProcessor\",null),e([a()],_.prototype,\"symbologySnappingSupported\",null),_=e([l(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],_),_};export{w as FeatureLikeLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../layers/graphics/dehydratedFeatures.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class s{constructor(e,s){this._highestResolutionVersion=null,this.versions=[],this.ref(e,s)}get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}ref(s,t){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0});for(const o of this.versions)if(o.resolution===t){o.refCount++;const t=this._highestResolutionVersion===o&&!e(s,o.feature);return(t||this._highestResolutionVersion!==o)&&(o.feature=s),i.newVersion=t?s:r,i}const n={feature:s,resolution:t,refCount:1};return this.versions.push(n),!this._highestResolutionVersion||t<this._highestResolutionVersion.resolution?(i.newVersion=s,this._highestResolutionVersion=n):i.newVersion=r,i}unref(e){for(let s=0;s<this.versions.length;s++){const t=this.versions[s];if(t.resolution===e)return t.refCount--,i.oldVersion=this.feature,0===t.refCount&&(this.versions[s]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===t&&(this._recalculateHighestResolutionVersion(),i.oldVersion=t.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let s=1;s<this.versions.length;s++){const t=this.versions[s];t.resolution<e.resolution&&(e=t)}this._highestResolutionVersion=e}}class t{constructor(e){this._feature=e,this._refCount=1}get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}ref(s){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,s)||(this._feature=s),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{s as MultiFeatureReference,t as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";const l=16438,F=new Set;class E{constructor(t){this.descriptor=t,this.fetchStatus=o.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=c,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=F,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,F),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>c}get needsFeatureCount(){return this._numFeatures===c}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===o.FETCHING||this.fetchStatus===o.REFETCHING}get isRefetching(){return this.fetchStatus===o.REFETCHING}get needsFetching(){return this.fetchStatus===o.FETCH_NEEDED||this.fetchStatus===o.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===o.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===o.DONE||this.fetchStatus===o.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===o.REFETCHING?o.REFETCH_NEEDED:o.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!t||!this.descriptor.extent||(u(t,D),a(this.descriptor.extent,D))}intersectionIncludingBorrowed(t,e){const i=s(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(t?(u(t,e),f(e,i,e)):h(e,i),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>m(t,e)-m(s,e))),t(this._features,l),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===o.DONE&&this._features.length>0&&(this.fetchStatus=o.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===o.FULL&&(this.fetchStatus=o.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this.features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const c=-1,g=-2;var o;function S(t,e,s){if(i(e)||i(t)||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(o||(o={}));const D=r();export{g as FAILED_FEATURE_COUNT,E as FeatureTile,o as FetchStatus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{isAbortError as l,eachAlways as h,throwIfAborted as c}from\"../../../../core/promiseUtils.js\";import{on as d}from\"../../../../core/reactiveUtils.js\";import{schedule as p}from\"../../../../core/scheduling.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,equals as g,clone as F,expand as y,toExtent as T}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as x,hasVertices as E}from\"../../../../layers/graphics/dehydratedFeatures.js\";import C from\"../../../../rest/support/QuantizationParameters.js\";import R from\"../../../../rest/support/Query.js\";import{ViewingMode as b}from\"../../../ViewingMode.js\";import{MultiFeatureReference as v,SingleFeatureReference as M}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as D,FetchStatus as w,FeatureTile as O}from\"./FeatureTile.js\";import{tilesAreRelated as j}from\"../../terrain/tileUtils.js\";import{ImmediateTask as P,TaskPriority as N}from\"../../../support/Scheduler.js\";const U=\"esri.views.3d.layers.support.FeatureTileFetcher3D\",I=i.getLogger(U);let q=class extends t{constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._handles=new s,this._frameTask=P,this._dirty=!1,this._featureTiles=new Map,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._suspended=!0,this._pendingEdits=null}set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void I.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||t&&e&&t.equals(e))return;const s=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}initialize(){this._handles.add(d((()=>this.tileDescriptors),\"change\",(()=>this._setDirty()),{onListenerAdd:()=>this._setDirty()})),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?v:M;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(N.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._handles=n(this._handles),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits&&(this._pendingEdits.controller.abort(),this._pendingEdits=null)}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(l(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this._objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||I.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(x(e,r))}else i.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(x(e,this._objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}async _applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await h(a)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(x(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,z(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:X})}_setDirty(){this._dirty=!0,this._updated()}get running(){return this.updating}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.initialized)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._displayTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!this._suspended&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_displayTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress();else{if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=D)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(I,e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,B),i.intersectionIncludingBorrowed(e,G),g(B,G)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=x(e,this._objectIdField);if(t.has(i))continue;t.add(i);const{feature:r}=this._displayingFeatureReferences.get(i);s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||e>0||!!this._pendingEdits;if(this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=r(this._featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=S(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===w.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new O(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this._featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!j(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=F(e.descriptor.extent)),y(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get(x(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=w.DONE):e.fetchStatus=w.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===w.REFETCHING?w.REFETCH_NEEDED:w.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return H(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(A(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>R.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this._queryFeatures(a,t),l=o?a.maxRecordCountFactor>=R.MAX_MAX_RECORD_COUNT_FACTOR?w.FULL:w.DONE:w.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,k(u))}),t),c(t),this._invalidateCounts(),l}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this._maximumFeaturesForTile(e)-a;const o=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),d=this._setPagingParameters(h,i,n,o),{features:p,exceededTransferLimit:f,fields:m}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{d&&(i+=u(h.num)),a+=p.length,r+=this._removeEmptyFeatures(p),e.featuresMissing=i<e.numFeatures||f,s=s?s.concat(p):p,l=z(l,m),e.setFeatures(s,r,l)}),t),c(t),this._invalidateCounts(),this._setDirty(),n=this._maximumFeaturesForTile(e)-a,!d||!f||n<=0)return f?w.DONE:w.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=T(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===b.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this._supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new C({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];E(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!A(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:V}_useTileQuery(e){return(!A(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?w.REFETCHING:w.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=w.DONE),l(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this._handles&&!this._handles.has(\"scheduleUpdated\")&&this._handles.add(p((()=>{this._handles.remove(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this._changes.updates,r=this._changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=x(e,this._objectIdField),o=this._displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(i.removes.push(t.oldVersion),i.adds.push(t.newVersion))}else this._displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,n),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this._changes.updates,s=this._changes.removes;for(const i of e.displayingFeatures){const r=x(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this._numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this._displayingFeatureReferences.delete(r),s.push(n.oldVersion)):(t.adds.push(n.newVersion),t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+$,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this._featureTiles.get(e),forEachFeatureTile:e=>this._featureTiles.forEach(e)}}};function A(e){return\"dummy-tile-full-extent\"===e.id}function S(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function L(e){const t=e.capabilities.query;return{supportsMultipleResolutions:Q(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function Q(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function H(e){return e.setFeatures([],0,null),e.featuresMissing=!1,w.DONE}function k(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function z(e,t){if(o(e)||o(t))return k(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([f({constructOnly:!0})],q.prototype,\"features\",void 0),e([f()],q.prototype,\"tileDescriptors\",void 0),e([f({value:1/0})],q.prototype,\"maximumNumberOfFeatures\",null),e([f({value:1})],q.prototype,\"memoryFactor\",null),e([f({value:1})],q.prototype,\"lodFactor\",null),e([f()],q.prototype,\"useTileCount\",null),e([f({readOnly:!0})],q.prototype,\"updating\",void 0),e([f({readOnly:!0})],q.prototype,\"updatingTotal\",void 0),e([f({readOnly:!0})],q.prototype,\"updatingRemaining\",void 0),e([f({readOnly:!0})],q.prototype,\"expectedFeatureDiff\",void 0),e([f({readOnly:!0})],q.prototype,\"memoryForUnusedFeatures\",null),e([f({readOnly:!0})],q.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([f({constructOnly:!0})],q.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([f({readOnly:!0})],q.prototype,\"totalVertices\",null),e([f({readOnly:!0})],q.prototype,\"totalFeatures\",null),e([f()],q.prototype,\"filterExtent\",null),e([f({constructOnly:!0})],q.prototype,\"context\",void 0),q=e([m(U)],q);const V=2e3,B=_(),G=_(),X=6e5,$=200;export{q as FeatureTileFetcher3D,L as contextCapabilitiesFromLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import{TilingScheme as r}from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._enabled=!0,this._tileFetcher=e,this._view=s,this._tilingScheme=new r(t),this._loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this._loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this._pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this._dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(i){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this._dataExtentGraphic=new e({geometry:s,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this._tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this._view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this._tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this._tilingScheme.ensureMaxLod(r);const n=this._tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this._view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{isAbortError as m,eachAlways as p}from\"../../../core/promiseUtils.js\";import{initial as _,whenOnce as f,watch as y,syncAndInitial as g,sync as x}from\"../../../core/reactiveUtils.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as T}from\"../../../core/support/WatchUpdatingTracking.js\";import{isHostedAgolService as E}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as w}from\"../../../portal/support/geometryServiceUtils.js\";import C from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as b}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as D}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import S from\"../../../views/3d/support/debugFlags.js\";let O=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this._watchUpdatingTracking=new T,this.serviceDataExtent=null,this.serviceDataCount=L.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this._suspended=!1,this._tileFetcher=null,this._handles=new a,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void n.getLogger(this.declaredClass).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this._tileFetcher)&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._watchUpdatingTracking&&this._watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this._tileFetcher)?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this._tileFetcher)||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(!1===this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===L.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>L.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this._tileFetcher)&&this._tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}initialize(){this._watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal)))),this._watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),_),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=c(this._tileFetcher),this._handles=c(this._handles),this._tilesHandle=h(this._tilesHandle),this._lifeCycleAbortController&&(this._lifeCycleAbortController.abort(),this._lifeCycleAbortController=null),this._watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this._suspended||(this._suspended=!0,l(this._tileFetcher)&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,l(this._tileFetcher)&&this._tileFetcher.resume())}restart(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.restart()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.refetch()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=f((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new b({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this._tileFetcher=s,this._suspended?this._tileFetcher.suspend():this._tileFetcher.resume();const a=this.layerView.view.resourceController;a&&this._handles.add(y((()=>a.memoryController.memoryFactor),(e=>s.memoryFactor=e),g));const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this._handles.add(y((()=>this.layerView.view?.qualitySettings?.graphics3D?.[o]),(e=>s.lodFactor=e||1),_));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this._watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this._watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this._handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),y((()=>this.extent),(e=>s.filterExtent=e),x),y((()=>this.tileDescriptors),(e=>s.tileDescriptors=e),x),y((()=>this.maximumNumberOfFeatures),n,g),y((()=>this.serviceDataCount),l,g),y((()=>S.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new D(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this._tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),g)]),this._supportsExceedsLimitQuery||this._watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:n.getLogger(this.declaredClass).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this._tilesHandle)&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){u(this._tileFetcher)||this._tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))})).catch((e=>{if(!m(e))throw e}))}_availableFieldsChanged(e,t){l(this._tileFetcher)&&N(this._tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this._tileFetcher)&&N(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new C({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"oriented-imagery\":return E(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){m(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),c=this.serviceDataCount;if(r&&c<=L.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:L.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await w(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(m(r.error))throw r.error;this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this._minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,p=d!==L.NO_SERVICE_DATA_COUNT;if(h=p?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,A)),p&&this._minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this._supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const _=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===_.ok){if(m(_.error))throw _.error;return void this._set(\"vertexLimitExceeded\",!1)}const f=_.value.features[0];f&&f.attributes?this._set(\"vertexLimitExceeded\",!!f.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=p([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{m(e)||n.getLogger(this.declaredClass).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this._tileFetcher)?this._tileFetcher.storedFeatures:0,totalFeatures:l(this._tileFetcher)?this._tileFetcher.totalFeatures:0,totalVertices:l(this._tileFetcher)?this._tileFetcher.totalVertices:0}}};e([F({readOnly:!0})],O.prototype,\"type\",void 0),e([F({constructOnly:!0})],O.prototype,\"graphics\",void 0),e([F({constructOnly:!0})],O.prototype,\"layerView\",void 0),e([F({constructOnly:!0})],O.prototype,\"context\",void 0),e([F()],O.prototype,\"extent\",null),e([F()],O.prototype,\"updating\",null),e([F({readOnly:!0})],O.prototype,\"_watchUpdatingTracking\",void 0),e([F()],O.prototype,\"updatingTotal\",null),e([F()],O.prototype,\"updatingRemaining\",null),e([F()],O.prototype,\"expectedFeatureDiff\",null),e([F()],O.prototype,\"memoryForUnusedFeatures\",null),e([F()],O.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([F({readOnly:!0})],O.prototype,\"serviceDataExtent\",void 0),e([F({readOnly:!0})],O.prototype,\"serviceDataCount\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitExceeded\",void 0),e([F()],O.prototype,\"displayFeatureLimit\",void 0),e([F({type:Number})],O.prototype,\"maximumNumberOfFeatures\",null),e([F({readOnly:!0})],O.prototype,\"mode\",null),e([F({readOnly:!0})],O.prototype,\"maxTotalSnapshotVertices\",null),e([F({readOnly:!0,dependsOn:[\"mode\"]})],O.prototype,\"tileDescriptors\",null),e([F()],O.prototype,\"_tileFetcher\",void 0),e([F()],O.prototype,\"_fetchDataInfoPromise\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitInfo\",null),O=e([v(\"esri.layers.graphics.controllers.FeatureTileController3D\")],O);const I=1e4,V=12e3,U=1e4,A=5e6;function N(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var L;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=I,e.QUERY_STATISTICS_TIMEOUT=V,e.QUERY_EXTENT_TIMEOUT=U}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(L||(L={})),L.reset();export{O as FeatureTileController3D,L as FeatureTileController3DConstants};\n"],"sourceRoot":""}